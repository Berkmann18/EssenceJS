"use strict"
function Element(t){if(/^([#\.\* _-`~&]\W * |\S|undefined|null|())$/.test(t))throw new InvalidParamError("Element cannot accept the selector '"+t+"' as it's invalid.")
return"#"===t[0]?this.node=document.querySelector(t)||document.getElementById(t.slice(1,t.length)):"."===t[0]?this.node=document.querySelector(t)||document.getElementByClassName(t.slice(1,t.length)):"*"===t[0]?this.node=document.querySelectorAll(t.slice(1,t.length))||document.getElementsByTagName(t.slice(1,t.length)):this.node=document.querySelector(t),this.val=function(t,e){if(isType(this.node,"array")){for(var i=[],r=0;r<this.node.length;r++)!this.node[r].value||t||e?this.node[r].innerHTML&&t&&!e?i.push(this.node[r].innerHTML):!this.node[r].innerText||t||e?this.node[r].outerHTML&&!t&&e?i.push(this.node[r].outerHTML):i.push(this.node[r].value?this.node[r].value:this.node[r].innerText):i.push(this.node[r].innerText):i.push(this.node[r].value)
return i}return!this.node.value||t||e?this.node.innerHTML&&t&&!e?this.node.innerHTML:!this.node.innerText||t||e?this.node.outerHTML&&!t&&e?this.node.outerHTML:this.node.value?this.node.value:this.innerText:this.node.innerText:this.node.value},this.size=function(){return this.val().length},this.isEmpty=function(){return this.val()===!1||void 0===this.val()||null===this.val()||""===this.val()||this.val()===[]||this.val()==={}},this.write=function(t,e,i){if(isType(this.node,"array"))for(var r=0;r<this.node.length;r++)!this.node[r].value||e||i?this.node[r].innerHTML&&e&&!i?this.node[r].innerHTML=isType(t,"array")?t[r]:t:!this.node[r].innerText||e||i?this.node[r].outerHTML&&!e&&i?this.node[r].outerHTML=isType(t,"array")?t[r]:t:this.node[r].value?this.node[r].value=isType(t,"array")?t[r]:t:this.node[r].innerText=isType(t,"array")?t[r]:t:this.node[r].innerText=isType(t,"array")?t[r]:t:this.node[r].value=isType(t,"array")?t[r]:t
!this.node.value||e||i?this.node.innerHTML&&e&&!i?this.node.innerHTML=t:!this.node.innerText||e||i?this.node.outerHTML&&i&&!e?this.node.outerHTML=t:this.node.value?this.node.value=t:this.innerText=t:this.node.innerText=t:this.node.value=t},this.before=function(t,e,i){if(isType(this.node,"array"))for(var r=0;r<this.node.length;r++)!this.node[r].value||e||i?this.node[r].innerHTML&&e&&!i?this.node[r].innerHTML=isType(t,"array")?t[r]+this.node[r].innerHTML:t+this.node[r].innerHTML:!this.node[r].innerText||e||i?this.node[r].outerHTML&&!e&&i?this.node[r].outerHTML=isType(t,"array")?t[r]+this.node[r].outerHTML:t+this.node[r].outerHTML:this.node[r].value?this.node[r].value=isType(t,"array")?t[r]+this.node[r].value:t+this.node[r].value:this.node[r].innerText=isType(t,"array")?t[r]+this.node[r].innerText:t+this.node[r].innerText:this.node[r].innerText=isType(t,"array")?t[r]+this.node[r].innerText:t+this.node[r].innerText:this.node[r].value=isType(t,"array")?t[r]+this.node[r].value:t+this.node[r].value
!this.node.value||e||i?this.node.innerHTML&&e&&!i?this.node.innerHTML=t+this.node.innerHTML:!this.node.innerText||e||i?this.node.outerHTML&&i&&!e?this.node.outerHTML=t+this.node.outerHTML:this.node.value?this.node.value=t+this.node.value:this.innerText=t+this.innerText:this.node.innerText=t+this.node.innerText:this.node.value=t+this.node.value},this.after=function(t,e,i){if(isType(this.node,"array"))for(var r=0;r<this.node.length;r++)!this.node[r].value||e||i?this.node[r].innerHTML&&e&&!i?this.node[r].innerHTML+=isType(t,"array")?t[r]:t:!this.node[r].innerText||e||i?this.node[r].outerHTML&&!e&&i?this.node[r].outerHTML+=isType(t,"array")?t[r]:t:this.node[r].value?this.node[r].value+=isType(t,"array")?t[r]:t:this.node[r].innerText+=isType(t,"array")?t[r]:t:this.node[r].innerText+=isType(t,"array")?t[r]:t:this.node[r].value+=isType(t,"array")?t[r]:t
!this.node.value||e||i?this.node.innerHTML&&e&&!i?this.node.innerHTML+=t:!this.node.innerText||e||i?this.node.outerHTML&&i&&!e?this.node.outerHTML+=t:this.node.value?this.node.value+=t:this.innerText+=t:this.node.innerText+=t:this.node.value+=t},this.remove=function(t,e){if(isType(this.val(t,"Array")))for(var i=0;i<this.size();i++)this.val()[i]==t&&this.write(this.val().slice(0,i).concat(this.val().slice(i+1,this.size())))
this.write(this.val().split(t).join(e||""))},this.setCSS=function(t,e){if(isType(this.node,"array"))for(var i=0;i<this.node.length;i++)this.node[i].style[t]=isType(e,"array")?e[i]:e
else this.node.style[t]=e},this.setStyles=function(t){for(var e=0;e<t.length-1;e+=2)this.setCSS(t[e],t[e+1])},this.css=function(t){if(isType(this.node,"array")){for(var e=[],i=0;i<this.node.length;i++)e.push(this.node[i].style[t])
return e}return this.node.style[t]},this.hasClass=function(t){if(isType(this.node,"array"))for(var e=[],i=0;i<this.node.length;i++)e.push(new RegExp(" "+t+" ").test(" "+this.node[i].className+" ")||new RegExp(" "+t+" ").test(" "+this.node[i][t]+" ")||this.node[i].style.clasName==t)
return new RegExp(" "+t+" ").test(" "+this.node.className+" ")||new RegExp(" "+t+" ").test(" "+this.node[t]+" ")||this.node.style.className==t},this.hasCSS=function(t){if(isType(this.node,"array"))for(var e=[],i=0;i<this.node.length;i++)e.push(new RegExp(" "+t+" ").test(" "+this.node[i].style[t]+" ")||new RegExp(" "+t+" ").test(" "+this.node[i][t]+" "))
return new RegExp(" "+t+" ").test(" "+this.node.style[t]+" ")||new RegExp(" "+t+" ").test(" "+this.node[t]+" ")},this.addClass=function(t){if(isType(this.node,"array"))for(var e=0;e<this.node.length;e++)this.node[e].hasClass(t)||(this.node[e].className+=" "+t)
else this.hasClass(t)||(this.node.className+=" "+t)},this.rmClass=function(t){var e=" "+this.node.className.replace(/[\t\r\n]/g," ")+" "
if(isType(this.node,"array")){for(var i=0;i<this.node.length;i++)if(e=" "+this.node[i].className.replace(/[\t\r\n]/g," ")+" ",this.node[i].hasClass(t)){for(;e.indexOf(" "+t+" ")>=0;)e=e.replace(" "+t+" "," ")
this.node[i].className=e.replace(/^\s + |\s + $/g,"")}}else if(this.hasClass(t)){for(;e.indexOf(" "+t+" ")>=0;)e=e.replace(" "+t+" "," ")
this.node.className=e.replace(/^\s + |\s + $/g,"")}},this.toggleCSS=function(t,e,i){if(i||(i=0),""===this.css(t)&&1>i&&this.toggleCSS(t,e,i+1),"visibility"===t)"visible"===this.css("visibility")?this.setCSS("visibility","hidden"):this.setCSS("visibility","visible")
else if("enabled"===t)"enabled"===this.css("enabled")?this.setCSS("enabled","disabled"):this.setCSS("enabled","enabled")
else if(!isNon(t)&&!isNon(e)){isNon(this.css(t))&&this.setCSS(t,e[0])
for(var r=0;r<e.length;r++)if(this.css(t)===e[r]){this.setCSS(t,e[(r+1)%e.length])
break}}},this.show=function(){this.setCSS("opacity",1),this.setCSS("display","block")},this.hide=function(){this.setCSS("opacity",0),this.setCSS("display","none")},this.on=function(t,e){for(var i=["abort","autocomplete","autocompleteerror","beforeunload","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","cuechange","dblclick","devicemotion","deviceorientation","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","hashchange","input","invalid","keydown","keypress","keyup","languagechange","load","loadeddata","loadedmetadata","loadstart","message","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","offline","online","pagehide","pageshow","pause","play","playing","popstate","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","show","stalled","storage","submit","suspend","timeupdate","toggle","transitionend","unload","volumechange","waiting","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend","wheel"],r=0;r<i.length;r++)t.normal()===i[r]&&this.node.addEventListener(t,e,!1)},this.toString=function(){return"[object Element]"},this.tagName=function(){return this.node.tagName.toLowerCase()},this}function $n(t){return $e(t).node}function include(t,e){e||(e=t.indexOf(".js")>0?"script":"link")
var i=document.createElement(e)
"script"===e?i.src=t:i.href=t,i.type="script"===e?"text/javascript":"text/css",document.head.appendChild(i)}function print(t,e,i){i||(i="body"),$e(i).after(t,e)}function println(t,e){e||(e="body"),$e(e).after(t+"<br />",!0)}function exclude(t,e){e||(e=t.indexOf(".js")>0?"script":"link")
var i=document.createElement(e)
"script"===e?i.src=t:i.href=t,i.type="script"===e?"text/javascript":"text/css",document.head.removeChild(i)}function addMetaData(t,e,i){var r=document.createElement("meta")
i?r.httpEquiv=i:r.name=t,r.content=e,document.head.appendChild(r)}function xor(t,e){return t&&!e||!t&&e}function noRightClick(){document.oncontextmenu=new Function("return false")}function reloadPage(t){2===t?location.href=location.href:location.reload()}function redirect(t,e,i){e||(e=3e3)
var r=Math.floor(e/1e3)
$e("#"+i).write("<h2 > Redirecting to <ins>"+t+"</ins> ...<br />in <span id = 'timeleft'>"+r+"</span > s</h2>",!0),r--,$e("#timeleft").write(r),setTimeout("location = '"+t+"';",e)}function isValid(t,e){var i,r=!0
switch(e.toLowerCase()){case"email":i=/[a-z0-9!#$ % &' *+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$ % &' *+\/=?^_`{|}~-]+) * @(?:[a-z0-9](?:[a-z0-9-] * [a-z0-9])?\.) + [a-z0-9](?:[a-z0-9-] * [a-z0-9])?/,r=t.length>=9&&t.length<64
break
case"tel":i=/^\ + (?:[0-9] ?){6,14}[0-9]$/
break
case"username":i=/^[A-Za-z_0-9-] + $/,r=t.length>3&&t.length<=16
break
case"name":i=/^[:alpha:]{2,35}$/
break
case"price":i=/^[0-9] * \x2e[0-9]{2}$/,r=t.length>3
break
case"number":i=/\d/
break
case"date":i=/(\d{1,2}\/d{1,2}\/d{2,4})/,r=t.split("/")[1]<=12&&t.split("/")[0]<=31
break
case"hex":i=/(#|0x)?([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?/
break
case"tag":i=/(<(\/?[^>] + )>)/
break
case"password":i=/|^\c]\w{8,}/
break
case"file":i=/^[\S] + ([A-Za-z0-9_] * \.(jpg|png|gif|ico|bmp))$/
break
case"variable":i=/^[A-Za-z_$] + [0-9] * [A-Za-z_$] + $/
break
case"color":i=/^(#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6}))|(rgb\(([0-9] + ,\s){2}([0-9] + )\))|(rgba\(([0-9] + ,\s){3}((0|1|)\.[0-9] * )\))|(hsl\(([0-9] + ,\s){2}([0-9] + )\))|(hsla\(([0-9] + ,\s){3}((0|1|)\.[0-9] * )\))$/
break
case"url":i=/^((http(|s):\/\/)|((file|ftp):\/\/\/))(\/[A-Za-z0-9_-]*)|[A-Za-z0-9_-]$/
break
case"ip":i=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/
break
case"time":i=/^[0-5][0-9](\x3a|\.)[0-5][0-9]|([0-5][0-9]\x3a[0-5][0-9]){0,2}(\x3a|\.)[0-5][0-9]$/
break
default:i=/\w/}return i.test(t)&&r}function validate(t,e){t||(t=document.forms[0])
for(var i=!0,r=0;r<t.length;r++)(e||t[r].required)&&(i="username"===t[r].name||"price"===t[r].name?i&&isValid(t[r].value,t[r].name):"password"===t[r].type||"email"===t[r].type||"tel"===t[r].type||"date"===t[r].type||"hex"===t[r].type||"variable"===t[r].type||"file"===t[r].type||"hidden"===t[r].type?i&&isValid(t[r].value,t[r].type):"price"===t[r].name?i&&isValid(t[r].value,t[r].name):t[r].name.indexOf("name")>=0?i&&isValid(t[r].value,"name"):"checkbox"===t[r].type&&t[r].checked?i&&!0:i&&!isNon(t[r].value))
return i}function isType(t,e){return e=e[0].toUpperCase()+e.slice(1,e.length).toLowerCase(),Object.prototype.toString.call(t)==="[object "+e+"]"}function isCustomType(t,e){return getCustomType(t).toLowerCase()===e.toLowerCase()}function getType(t,e){var i=Object.prototype.toString.call(t)
return e?i:i.split(" ")[1].slice(0,i.split(" ")[1].length-1)}function getCustomType(t,e){var i=t.toLocaleString()
return i.indexOf("[")>-1?e?i:i.split(" ")[1].slice(0,i.split(" ")[1].length-1):i.split("(")[0].trim()}function is2dArray(t){if(!isType(t,"Array"))return!1
for(var e=0;e<t.length;e++)if(isType(t[e],"Array"))return!0}function timesLiteral(t){switch(t){case 1:return"once"
case 2:return"twice"
default:return t+" times"}}function escapeHTML(t){var e=document.createElement("span")
return e.appendChild(document.createTextNode(t)),e.innerHTML}function unescapeHTML(t){var e=document.createElement("span")
return e.innerHTML=t,e.innerText}function isNon(t){return t===!1||void 0===t||null===t||""===t||t===[]||t==={}}function copy(t){if(isType(t,"String")||isType(t,"Number")||isType(t,"Boolean"))return t
var e=new Object
for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])
return isType(t,"Array")?e.toArray():e}function toMaxSize(){try{if(clientWidth||ActiveX||ActiveXObject)window.resizeTo(clientWidth,clientHeight)
else if(client.Width)window.resizeTo(client.Width,client.Height)
else if(client.width)window.resizeTo(client.width,client.height)
else if(clientX)window.resizeTo(clientX,clientY)
else if(client.X)window.resizeTo(client.X,client.Y)
else if(client.x)window.resizeTo(client.x,client.y)
else if(screenWidth)window.resizeTo(screenWidth,screenHeight)
else if(screen.Width)window.resizeTo(screen.Width,screen.Height)
else if(screen.width)window.resizeTo(screen.width,screen.height)
else if(screenX)window.resizeTo(screenX,screenY)
else if(screen.X)window.resizeTo(screen.X,screen.Y)
else if(screen.x)window.resizeTo(screen.x,screen.y)
else if(deviceWidth)window.resizeTo(deviceWidth,deviceHeight)
else if(device.Width)window.resizeTo(device.Width,device.Height)
else if(device.width)window.resizeTo(device.width,device.height)
else if(deviceX)window.resizeTo(deviceX,deviceY)
else if(device.X)window.resizeTo(device.X,device.Y)
else if(device.x)window.resizeTo(device.x,device.y)
else if(pageWidth)window.resizeTo(pageWidth,pageHeight)
else if(page.Width)window.resizeTo(page.Width,page.Height)
else if(page.width)window.resizeTo(page.width,page.height)
else if(pageX)window.resizeTo(pageX,pageY)
else if(page.X)window.resizeTo(page.X,page.Y)
else if(page.x)window.resizeTo(page.x,page.y)
else if(windowWidth)window.resizeTo(windowWidth,windowHeight)
else if(window.Width)window.resizeTo(window.Width,window.Height)
else if(window.width)window.resizeTo(window.width,window.height)
else if(windowX)window.resizeTo(windowX,windowY)
else if(window.X)window.resizeTo(window.X,window.Y)
else if(window.x)window.resizeTo(window.x,window.y)
else if(monitorWidth)monitor.resizeTo(monitorWidth,monitorHeight)
else if(monitor.Width)monitor.resizeTo(monitor.Width,monitor.Height)
else if(monitor.width)monitor.resizeTo(monitor.width,monitor.height)
else if(monitorX)monitor.resizeTo(monitorX,monitorY)
else if(monitor.X)monitor.resizeTo(monitor.X,monitor.Y)
else if(monitor.x)monitor.resizeTo(monitor.x,monitor.y)
else if(frameWidth)frame.resizeTo(frameWidth,frameHeight)
else if(frame.Width)frame.resizeTo(frame.Width,frame.Height)
else if(frame.width)frame.resizeTo(frame.width,frame.height)
else if(frameX)frame.resizeTo(frameX,frameY)
else if(frame.X)frame.resizeTo(frame.X,frame.Y)
else{if(!frame.x)throw new Error("It's not possible to maximise the size or you need to do more researches.")
frame.resizeTo(frame.x,frame.y)}}catch(t){Essence.say("An error occurred when trying to maximise the size Because of %c"+t,"err","text-decoration: underline;")}}function getScrenDim(){return[screen.width,screen.height]}function getWinDim(){return[screen.availWidth,screen.availHeight]}function getCookie(t){for(var e,i,r=document.cookie.split(";"),n=0;n<r.length;n++)if(e=r[n].substr(0,r[n].indexOf("=")),i=r[n].substr(r[n].indexOf("=")+1),e=e.replace(/^\s+|\s+$/g,""),e===t)return decodeURIComponent(i)}function setCookie(t,e,i){i?i%=99983489:i=99983488
var r=new Date
r.setDate(r.getDate()+i)
var n=encodeURIComponent(e)+(null===i?"":"; expires = "+r.toUTCString())
document.cookie=t+"="+n}function getMetaData(){for(var t=$n("*meta"),e=[],i=[],r=0;r<t.length;r++)e[r]=t[r].name||t[r].httpEquiv||t[r].title,i[r]=t[r].content||t[r].value
return[e,i]}function getResources(t){for(var e=$n("*link"),i=$n("*script"),r=($n("*style"),[]),n=$n("*a"),s=$n("*img"),o=$n("*input image"),a=[$n("*div"),$n("*section"),$n("*td"),$n("*th"),$n("*li")],h=0;h<e.length;h++)isNon(e[h])||(r[h]=e[h].href),Essence.say(e[h].href.split("/")[e[h].href.split("/").length-1]+" has been added to the resources getter.","info")
for(h=0;h<i.length;h++)isNon(i[h])||r.push(i[h].src),Essence.say(i[h].src.split("/")[i[h].src.split("/").length-1]+" has been added to the resources getter.","info")
for(h=0;h<n.length;h++)isNon(n[h])||r.push(n[h].href),Essence.say(n[h].href.split("/")[n[h].href.split("/").length-1]+" has been added to the resources getter.","info")
for(h=0;h<s.length;h++)isNon(s[h])||r.push(s[h].src),Essence.say(s[h].src.split("/")[s[h].src.split("/").length-1]+" has been added to the resources getter.","info")
for(h=0;h<o.length;h++)isNon(o[h])||r.push(o[h].src),Essence.say(o[h].src.split("/")[o[h].src.split("/").length-1]+" has been added to the resources getter.","info")
for(h=0;h<a.length;h++)for(var l=0;l<a[h].length;l++){r.push(a[h][l].style.backgroundImage.slice(4,a[h][l].style.backgroundImage.length-1))
var c=a[h][l].style.backgroundImage.slice(4,a[h][l].style.backgroundImage.length-1)
Essence.say(c.split("/")[c.split("/").length-1]+" has been added to the resources getter.","info")}return Essence.say("Resource list: "+r.clean()),t?r.clean():r}function gatherScripts(t){for(var e=$n("*script"),i=t?[]:{},r=0;r<e.length;r++)t?i.push(e[r].src):i[e[r].src.split("/")[e[r].src.split("/").length-1]]=e[r].src
return i}function gatherStylesheets(t){for(var e=$n("*link"),i=t?[]:{},r=0;r<e.length;r++)t?i.push(e[r].href):i[e[r].href.split("/")[e[r].href.split("/").length-1]]=e[r].href
return i}function include_once(t,e,i){e||(e=t.indexOf(".js")>0?"script":"style")
var r="script"===e?gatherScripts(!0):gatherStylesheets(!0)
i&&(keyList(r,!0).indexOf(i+t)>-1||valList(r,!0).indexOf(i+t)>-1)||keyList(r,!0).indexOf(t)>-1||valList(r,!0).indexOf(t)>-1||include(t,e)}function stripTags(t){return t.replace(/<[\s\S]+ >(.*?)<\/[\s\S]+ >/,"$1")}function stripPath(t){return t.split("/")[t.split("/").length-1]}function getFilename(t){return t?stripPath(location.pathname):stripPath(location.pathname).get(-stripPath(location.pathname).lastIndexOf(".")-1)}function getCurrentPath(t,e){e||(e="file:///")
for(var i=t.split("/"),r="",n=e.split("/"),s=0,o=0;e.indexOf(i[s])>-1;)s++
for(r=i.get(s).join("/");r.indexOf(n[o])>-1;)console.log("Gone through "+n[o]),o++
if(o>0)for(s=0;o>s;s++)r="../"+r
return r}function filenameList(t){for(var e=[],i=0;i<t.length;i++)e.push(stripPath(t[i]))
return e.remove("")}function getDirectoryPath(t){return t||(t=location.href),t.get(0,t.indexOf(stripPath(t))-1)}function rand(t,e,i){return i?Math.floor(Math.random()*(e-t+1)+t):Math.random()*(e-t+1)+t}function randTo(t){return rand(0,t,!0)}function baseRand(t,e,i){return parseInt(rand(t,e)).toString(i||10)}function randVar(t,e,i){var r=Math.max(t,e),n=Math.min(t,e)
return rand(n,r,i)}function lenRand(t,e){return e?Math.floor(Math.random()*(t+1)):Math.floor(Math.random()*t)}function random16(){return(65280*Math.random()+255*Math.random())/65535}function randFloatSpread(t){return t*(.5-Math.random())}function genNearlySortedArr(t,e,i){var r,n=range(e,1,i).slice(0,t),s=[]
r=n.getIncrement(0)
for(var o=0;o<n.length;o++){var a=randTo(r)
s.push(n[o]),o>0&&0===a?swap(s,o,o-1):o>1&&a===r&&swap(s,o,o-2)}return s}function sumPow2(t,e){if(!isType(t,"Array"))return!1
for(var i=0,r=0;r<t.length;r++)i+=Math.pow(t[r],2)
return i.toNDec(e)}function conv(t,e,i,r){return r?parseFloat(t,e||2).toString(i||10):parseInt(t,e||2).toString(i||10)}function negateBin(t,e){for(var i=[],r=0,n=0;n<t.length;n++)i[n]=1-parseInt(t[n])
return r=conv(i.join("")),r++,e?conv(r,10,2).split(""):conv(r,10,2)}function floatingPtBin(t){var e,i,r=1===t[0]?-1:1
switch(t.length){case 8:e=(1===t[1]?1:-1)*conv(t.get(2,3),2),i=t.get(4),i=i[0]*Math.pow(2,-1)+i[1]*Math.pow(2,-2)+i[2]*Math.pow(2,-3)+i[3]*Math.pow(2,-4)
break
case 16:break
case 32:break
case 64:break
default:throw new Error("Unvalid binary number")}return r*Math.pow(2,e)*i}function min2dec(t){return 50*t/30}function dec2min(t){return 30*t/50}function toS(t){var e=2===t.count(":")
if(t||(t=e?"00:00:00.000":"00:00.000"),isType(t,"String")||(t+=""),t.length>=4&&1==t.indexOf(":"))return toS("0"+t)
var i=t.split(":")
if(e){var r,n,s
return r=parseInt(i[0]),n=parseInt(i[1]),s=parseFloat(i[2]),3600*r+60*n+s.toNDec()}return n=parseInt(i[0]),s=parseFloat(i[1]),60*n+s}function sec2time(t,e){var i=0,r=0,n=t
return e?(n=(t%60).toNDigits(),i=t>=3600?Math.floor(t/3600):0,r=Math.floor((t-n-3600*i)/60),r=0>=r?"00":r.toNDigits(),i=0>=i?"00":i.toNDigits(),i+":"+r+":"+n.get(0,Math.min(4,n.length-1))):(n=(t%60).toNDigits(),r=Math.floor(t/60).toNDigits(),0>=r?n:r+":"+n.get(0,Math.min(4,n.length-1)))}function markConv(t,e,i,r){return(t/e*(i||100)).toNDec(r||2)}function nthroot(t,e,i){for(var r=t/2,n=0;60>n;n++)r+=(t-Math.pow(r,e))/(Math.pow(r+1,e)-Math.pow(r,e))
return r.toNDec(i||20)}function log(t,e){return Math.log(t)/Math.log(e||10)}function ln(t){return log(t,Math.E)}function gcd(t,e){return e?gcd(e,t%e):Math.abs(t)}function Bin(t,e,i){return C(t,i)*Math.pow(e,i)*Math.pow(1-e,t-i)}function BinCumul(t,e,i){for(var r=[],n=0;i>n;n++)r.push(Bin(t,e,i))
return r.sum()}function BinCumulLT(t,e,i){for(var r=1-e,n=t-i,s=i+1,o=n+s-1,a=0,h=n;o+1>h;h++)a+=factorial(o)/(factorial(h)*factorial(o-h))*Math.pow(r,h)*Math.pow(1-r,o-h)
return a}function Norm(t){var e=1/(1+.2316419*Math.abs(t)),i=.3989423*Math.exp(-t*t/2),r=i*e*(.3193815+e*(-.3565638+e*(1.781478+e*(-1.821256+1.330274*e))))
return r.toNDec(4)}function StdNorm(t,e,i){return Norm((i-t)/e)}function Po(t,e){return Math.exp(-t)*Math.pow(t,e)/factorial(e).toNDec(4)}function PoCumul(t,e){for(var i=[],n=0;n<r;n++)i.push(Po(t,e))
return i.sum()}function factorial(t){for(var e=t,i=1;t>i;i++)e*=i
return e}function C(t,e){return factorial(t)/(factorial(e)*factorial(t-e))}function Bin2Norm(t,e,i,r){return t*e>5&&t*(1-e)>5?(i+=">="===r?-.5:.5,StdNorm(t*e,Math.sqrt(t*e*(1-e)),i)):!1}function Bin2Po(t,e,i){return t>50&&.1>e?Po(t*e,i):!1}function Po2Norm(t,e){return t>10?StdNorm(e,Math.sqrt(e)):!1}function erf(t){var e,i=1/(1+.5*Math.abs(t))
return e=1-i*Math.exp(-t*t-1.26551223+i*(1.00002368+i*(.37409196+i*(.09678418+i*(-.18628806+i*(.27886807+i*(-1.13520398+i*(1.48851587+i*(-.82215223+.17087277*i))))))))),t>0?e:-e}function NormEstimate(t,e,i){var r,n=t*e
return r=Math.pow(n*(1-e),.5),.5*(1+erf((i-n)/(r*Math.pow(2,.5))))}function clamp(t,e,i){return e>t?e:t>i?i:t}function revClamp(t,e,i){return t>=e&&i>=t?getClosest(t,[e,i]):t}function clampBottom(t,e){return e>t?e:t}function clampTop(t,e){return t>e?e:t}function mapLinear(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)}function deg2rad(t){return t*Math.PI/180}function rad2deg(t){return 180*t/Math.PI}function cels2fahr(t){return 33.8*t}function fahr2cels(t){return t/33.8}function primeN(t){for(var e=t.quickSort(),i=0;i<t.length;i++){t[i]%2===0&&2!=t[i]&&(e[i]="x")
for(var r=0;i>r;r++)primeCheck(e[r],e[i])&&(e[i]="x")}return e.remove("x")}function primeCheck(t,e){return t>1&&e>1&&e%t===0&&e!=t}function getClosestRoot(t,e){e||(e=2)
var i=0,r=0
if(i=t>=t/2*t/2/2-2?t/2:t>=t/3*t/3?t/3:t/4,Math.pow(i,e)===t)return i
for(var n=1;e>=n;n++)for(var s=1;t>s;s++)Math.pow(s,n)===t||Math.pow(s,n-1)*s===t?r=s:(Math.pow(s,n)>t||Math.pow(s,n-1)*s>t)&&(r=s-.5)
if(Math.pow(r,e)<=t)return r
r=(Math.pow(e,-2)+t/Math.pow(e,4)-t/Math.pow(e,5)+Math.pow(t,e)/Math.pow(e,Math.pow(e,3)+3)+t/Math.pow(e,2))/2,Math.pow(r,e)>t&&(r=(r+i)/2)
var o=[i,r,(t/r+r)/2,(r+i)/2],a=o.map(function(t){return Math.pow(t,e)})
return.9956973041*o[a.lookFor(getClosest(t,a))]}function simpleInterest(t,e,i){return t*(1+e*(i||1))}function compoundInterest(t,e,i,r){return r>1?t*Math.pow(1+e/r,(i||1)*r):t*Math.pow(1+e,i||1)}function non0(t){return 0===t?Essence.eps:t}function toFrac(t,e,i){var r=String(t),n=r.indexOf(".")
if(-1==n)return r
var s=Math.floor(t)||"",o=r.substring(n),a=e||Math.pow(10,o.length-1),h=i?Math.ceil(o*a):Math.round(o*a),l=a,c=gcd(h,l)
return l/c===1?String(s+h/c):(s&&(s+=" and "),s+String(h/c)+"/"+String(l/c))}function clearNum(t,e,i){for(var r=(Math.floor(t)+"").length/3,n="",s=0;r>s;s++)n=(t-t%Math.pow(1e3,s))%Math.pow(1e3,s+1)/Math.pow(1e3,s)+" "+n
return n=n.split(" "),n.pop(),n.join(i?",":" ")+(t%1).toNDec(e||3)}function getStep(t,e,i){return[t,e].getIncrement(i)}function quadraticSolver(t,e,i,r){var n=Math.sqrt(e,2)-4*t*i
return 0===n?(-e/(2*t)).toNDec(r):[((-e-Math.sqrt(Math.abs(n)))/(2*t)+(0>n?"i":0)).toNDec(r),(-e+Math.sqrt(Math.abs(n)))/(2*t)+(0>n?"i":0).toNDec(r)]}function eqSolver(formula,res,a,b){a=a||-100,b=b||200
var r=mkArray(a>0?b-a:b-a+1,2,1)
if(formula.search(/\^[0-9]/g)>0){var expr="([(]. * ?[)]|\\d + \\.\\d + |\\d + |[a-z] + )",reg=RegExp(expr+"\\^"+expr)
formula=formula.replace(reg,"Math.pow($1, $2)")}else formula.search(/e\^/g)>0&&(expr="([(]. * ?[)]|\\d + \\.\\d + |\\d + |[a-z] + )",reg=RegExp("e\\^"+expr),formula=formula.replace(reg,"Math.exp($1)"))
Essence.say("Formula now converted to %c"+formula,"info","color: #00f;")
for(var x=a;b>=x;x++)for(var y=a;b>=y;y++)r[x][y]="("+x+","+y+") "+eval(formula)
return r.filter(function(t){return t.split(") ")[1]==res?t.split(") ")[0]+")":void 0})}function manuEqSolver(eq,max,dim,r){for(var res=mkArray(max+1,dim,1),p=[],x=0;x<res.length;x++)if(2===dim)for(var y=0;y<res.length;y++)res[x][y]=eval(eq),res[x][y]===r&&p.push("x = "+x+", y = "+y)
else if(3===dim)for(y=0;y<res.length;y++)for(var z=0;z<res.length;z++)res[x][y][z]=eval(eq),res[x][y][z]===r&&p.push("x = "+x+", y = "+y+", z = "+z)
else res[x]=eval(eq),res[x]===r&&p.push("x = "+x)
return p}function getNumFromStr(t){return parseFloat(t.replace(/[A-Za-z_ ]+ /g,""))}function toPixel(t){var e=1
switch(t.substring(String(getNumFromStr(t)).length,t.length)){case"em":e=16
break
case"km":e=3779527.5593333
break
case"hm":e=377952.75593333
break
case"m":e=3779.5275593333
break
case"dm":e=377.95275593333
break
case"cm":e=37.795275593333
break
case"mm":e=3.7795275593333
break
case"ɥm":e=.0037795275593333
break
case"nm":e=37795275593333e-19
break
case"ex":e=7.156
break
case"in":e=96
break
case"pt":e=1.3333333333333
break
case"pc":e=16
break
case"ft":e=1152
break
case"twip":e=15
break
case"mi":e=6082636.631643
break
case"yd":e=3456.043540706}return getNumFromStr(t)*e}function fromPixel(t,e){var i=1
switch(e){case"em":i=1/16
break
case"km":i=1/3779527.5593333
break
case"hm":i=1/377952.75593333
break
case"m":i=1/3779.5275593333
break
case"dm":i=1/377.95275593333
break
case"cm":i=1/37.795275593333
break
case"mm":i=.2645833333138594
break
case"ɥm":i=264.5833333138594
break
case"nm":i=264583.3333138594
break
case"ex":i=1/7.156
break
case"in":i=1/96
break
case"pt":i=.7500000000000188
break
case"pc":i=1/16
break
case"ft":i=1/1152
break
case"twip":i=1/15
break
case"mi":i=1/6082636.631643
break
case"yd":i=1/3456.043540706}return t*i+e}function convUnit(t,e){return fromPixel(toPixel(t),e)}function AX(t,e,i,r){var n=new ActiveXObject("Scripting.FileSystemObject")
n.CreateTextFile(t,!0)
var s=n.OpenTextFile(t,1,!0)
s.Write(e),s.ReadAll(),i&&confirm("Do you really want to close this file ?")&&s.Close(),r&&confirm("Do you really want to delete this file ?")&&n.DeleteFile(t)}function execFile(t,e){var i=new ActiveXObject("WScript.Shell")
i.Run(t+"."+e,1,!0)}function copyToClipboard(t,e){clipboardData.setData(e||"Text",t)}function save(t,e,i){var r=new Blob([t],{type:"text/"+(i||"plain")}),n=document.createElement("a")
n.download=e,n.innerHTML="Download File",null!=window.webkitURL?n.href=window.webkitURL.createObjectURL(r):(n.href=window.URL.createObjectURL(r),n.onclick=function(t){document.body.removeChild(t.target)},n.style.display="none",document.body.appendChild(n)),n.click()}function getFileContent(t){$G.fct=""
var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")
e.open("GET",t,!1),e.onreadystatechange=function(){return 4!==e.readyState||200!==e.status&&0!=e.status?void 0:($G.fct=e.responseText,e.responseText)},e.send(null)}function getKey(t,e){var i=document.all?event.keyCode:t.which,r=e?String.fromCharCode(i).toLowerCase():String.fromCharCode(i)
return[r,i]}function getTime(t){var e=new Date
return t?e.getHours().toNDigits()+":"+e.getMinutes().toNDigits()+":"+e.getSeconds().toNDigits()+"."+e.getMilliseconds().toNDigits():e.getHours().toNDigits()+":"+e.getMinutes().toNDigits()+":"+e.getSeconds().toNDigits()}function getDate(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=new Date
return t?i.getDate().toNDigits()+e[i.getMonth()]+i.getUTCFullYear():i.getDate().toNDigits()+"/"+(i.getMonth()+1).toNDigits()+"/"+i.getUTCFullYear()}function getTimestamp(t){return t?getDate()+" "+getTime(!0):getDate(!0)+"-"+getTime().replace(/\:/g,"-")}function asciiTable(t,e){"A-Z"!==t||e?"a-z"!==t||e?"A-z"!==t||e?"printable"!==t||e||(t=32,e=126):(t=65,e=122):(t=97,e=122):(t=65,e=90),t||(t=0),e||(e=255)
for(var i=[],r=t;e>=r;r++)i.push(String.fromCharCode(r))
return i}function genStr(t,e){var i,r="",n=asciiTable("a-z"),s=asciiTable("A-Z"),o=range(9),a=["&","~",'"',"#","'","{","[","(","-","|","`","_","\\","^","@",")","]"," + ","=","}"," % "," * ","?",",",";",".","/",":","!"," "]
i=n.concat(s,o,a)
for(var h="",l=0;r.length<t;){if(h=i.rand(),"specificChar"===e.name)for(;h===e.character;)h=i.rand()
else if("noUpperCase"===e.name)h=h.toLowerCase()
else if("noLowerCase"===e.name)h=h.toUpperCase()
else if("cumultativeRepeat"===e.name)for(;h===r[l-1];)h=i.rand()
else if("cumultativeSensitiveRepeat"===e.name)for(;h===r[l-1];)h=i.rand()
else"noRepeat"===e.name&&(i.pop(l>0?r[l-1]:r[0]),h=i.rand())
r+=h,l++}return r.length<t?r+=i.rand():r.length>t&&(r=r.slice(0,t+1)),""===r&&genStr(t,e),r}function Colour(t,e,i,r){return this.constructor=function(t,e,i,r){isType(t,"Array")&&t.length>=3&&!e&&!i?(this.red=t[0],this.green=t[1],this.blue=t.last(),this.alpha=4===t.length?t[3]:255):e||i||!t||0==e||0==i?e||i||!t?e&&!i&&t?(this.red=this.green=this.blue=t,this.alpha=e):(this.red=t||0,this.green=e||0,this.blue=i||0,this.alpha=r||255):(this.red=t,this.green=0,this.blue=0,this.alpha=2===t.length?t[1]:255):(this.red=this.green=this.blue=t,this.alpha=2===t.length&&isType(t,"Array")?t[1]:255),this.hex="#"+conv(this.red,10,16).toNDigits()+conv(this.green,10,16).toNDigits()+conv(this.blue,10,16).toNDigits(),this.rgba="rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},this.constructor(t,e,i,r),this.update=function(){this.hex="#"+conv(this.red,10,16).toNDigits()+conv(this.green,10,16).toNDigits()+conv(this.blue,10,16).toNDigits(),this.rgba="rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},this.getRGBAPerc=function(){return"rgba("+markConv(this.red,255)+", "+markConv(this.green,255)+", "+markConv(this.blue,255)+", "+markConv(this.alpha,255)+")"},this.getMaxClr=function(){return Math.max(Math.max(this.red,e),i)},this.getMinClr=function(){return Math.min(Math.min(this.red,e),i)},this.negative=function(t){this.red=255-parseInt(this.red),this.green=255-parseInt(this.green),this.blue=255-parseInt(this.blue),t&&(this.alpha=255-parseInt(this.alpha)),this.update()},this.redNegative=function(){this.red=255-parseInt(this.red),this.update()},this.greenNegative=function(){this.green=255-parseInt(this.green),this.update()},this.blueNegative=function(){this.green=255-parseInt(this.green),this.update()},this.rand=function(t){return this.red=randTo(255),this.green=randTo(255),this.blue=randTo(255),this.update(),t?this.hex:this.rgba},this.toLocaleString=function(){return"Colour(r = "+this.red+", g = "+this.green+", b = "+this.blue+", a = "+this.alpha+")"},this.toString=function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},this.get=function(){return[this.red,this.green,this.blue,this.alpha]},this.increment=function(t){isNon(t)&&(t=63.75),this.blue+=t,this.blue>=255&&(this.blue-=255,this.green+=t),this.green>=255&&(this.green-=255,this.red+=t),this.update()},this}function hex2rgb(t,e){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)
return i?e?[parseInt(i[1],16),parseInt(i.last(),16),parseInt(i[3],16)]:parseInt(i[1],16)+", "+parseInt(i.last(),16)+", "+parseInt(i[3],16):/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(t)?(i=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(t),e?[parseInt(i[1],16),parseInt(i.last(),16),parseInt(i[3],16)]:parseInt(i[1]+i[1],16)+", "+parseInt(i.last()+i.last(),16)+", "+parseInt(i[3]+i[3],16)):null}function rgb2hex(t,e){return t=t.slice(4,t.length-1).split(", "),e?[conv(t[0],10,16).toNDigits(),conv(t[1],10,16).toNDigits(),conv(t.last(),10,16).toNDigits()]:"#"+conv(t[0],10,16).toNDigits()+conv(t[1],10,16).toNDigits()+conv(t.last(),10,16).toNDigits()}function negateColour(t,e,i){i=i?i[0].toLowerCase():"x"
var r=0===$e(t).css(e).indexOf("rgb(")?$e(t).css(e).slice(4,$e(t).css(e).length-1).split(", "):hex2rgb($e(t).css(e),!0),n=new Colour
"r"===i?(n.red=255-parseInt(r[0]),n.green=r[1],n.blue=r.last()):"g"===i?(n.red=r[0],n.green=255-parseInt(r[0]),n.blue=r.last()):"b"===i?(n.red=r[0],n.green=r[1],n.blue=255-parseInt(r.last())):"y"===i?(n.red=255-parseInt(r[0]),n.green=255-parseInt(r[1]),n.blue=r.last()):"c"===i?(n.red=r[0],n.green=255-parseInt(r[0]),n.blue=255-parseInt(r.last())):"m"===i?(n.red=255-parseInt(r[0]),n.green=r[1],n.blue=255-parseInt(r.last())):"a"===i||"f"===i||"w"===i?(n.red=255-parseInt(r[0]),n.green=255-parseInt(r[1]),n.blue=255-parseInt(r.last())):(n.red=r[0],n.green=r[1],n.blue=r.last()),n.hex="#"+conv(n.red,10,16).toNDigits()+conv(n.green,10,16).toNDigits()+conv(n.blue,10,16).toNDigits(),$e(t).setCSS(e,n.hex)}function colourName2Hex(t){switch(t.normal()){case"aqua":return"#00ffff"
case"cyan":return"#00ffff"
case"black":return"#000000"
case"blue":return"#0000ff"
case"fuchsia":return"#ff00ff"
case"magenta":return"#f800f8"
case"gray":return"#808080"
case"grey":return"#808080"
case"green":return"#008000"
case"lime":return"#00ff00"
case"brown":return"#800000"
case"maroon":return"#800000"
case"navy":return"#000080"
case"olive":return"#808000"
case"purple":return"#800080"
case"red":return"#ff0000"
case"silver":return"#c0c0c0"
case"teal":return"#008080"
case"white":return"#ffffff"
case"yellow":return"#ffff00"
case"gold":return"#ffd700"
case"seagreen":return"#2e8b57"
case"pink":return"#ffc0cb"
case"skyblue":return"#87ceeb"
case"coral":return"#ff7f50"
case"tan":return"#d2b48c"
case"orange":return"#ffa500"
case"cream":return"#feffff"
case"lightgray":return"#d3d3d3"
case"salmon":return"#fa8072"
default:return null}}function rgbList(t,e,i){var r=[]
isNon(t)&&(t=63.75)
for(var n=0;257>n;n+=t)for(var s=0;257>s;s+=t)for(var o=0;257>o;o+=t)i&&Essence.sayClr(e?[Math.round(n),Math.round(s),Math.round(o)]:[n,s,o]),r.push("rgb("+(e?[Math.round(n),Math.round(s),Math.round(o)].join(", "):[n,s,o].join(", "))+")")
return r}function Person(t,e,i,r,n,s,o,a,h,l,c,u,d,f){return this.firstName=t||"",this.secondName=e||"",this.lastName=i||"",this.title=r||"",this.nickname=""|n,this.phoneNum=s||"none",this.country=o||"",this.city=a||"",this.sex="male"===h.toLowerCase()||"female"===h.toLowerCase()?h:"other",this.birthday=l,this.jobs=c||"unemployed",this.activities=u||"none",this.websites=d||"none",this.quote=f||"",this.toString=function(){var t="Person("
for(var e in this)this.hasOwnProperty(e)&&"toString"!=e&&(t+=e+"="+this[e]+", ")
return t.substring(0,t.length-2)+")"},this}function Item(t,e,i,r,n){return this.name=t||"unknown",this.category=e||"unknown",this.price=i||0,this.ageMinRequired=r||.25,this.quantity=n||1,this.firstMade=(new Date).toLocaleString(),this.dublicate=function(t,e){for(var i=0;t>i;i++)e.push(new Item(this.name,this.category,this.price,this.ageMinRequired,this.quantity))},this.remove=function(t){t.remove(this)},this.toString=function(){var t=""
for(var e in this)this.hasOwnProperty(e)&&"toString"!=e&&!isType(e,"function")&&(t+=e+"="+this[e]+", ")
return t.substring(0,t.length-2)},this}function range(t,e,i,r){var n=[],s=0
if(t&&!e&&!i&&0!=i)return range(0,1,t)
if(t&&e&&!i&&0!=i)return range(0,e,t)
if(t||(t=0),e||(e=1),i||(i=100),e>0)for(var o=t;i>=o;o+=e)n[s++]=Number(o).toNDec(r)
else for(o=t;o>=i;o-=e)n[s++]=Number(o).toNDec(r)
return n}function range2base(t,e,i,r){var n=[],s=0
if(e>0)for(var o=t;i>=o;o+=e)n[s++]=conv(o,10,r)
else for(o=t;o>=i;o+=e)n[s++]=conv(o,10,r)
return n}function letterArray(t,e){for(var i=t.charCodeAt(0)||97,r=e.charCodeAt(0)||122,n=[],s="",o=i;r>=o;o++)for(var a=i;r>=a;a++)o!=a&&(s=String.fromCharCode(o)+String.fromCharCode(a),n.push(s))
return n}function mixedRange(t,e,i,r){var n=[],s=range(t,e,i)
if(r)for(;s.length>0;)n.push(s.rand()),s=s.remove(n.last())
else for(var o=t;i>=o;o++)n[o]=s.rand()
return n}function mkArray(t,e,i){var r=[]
if(1===e)if(isNon(i))r=new Array(t)
else for(var n=0;t>n;n++)r[n]=i
else if(2===e)if(isNon(i))for(r=new Array(t),n=0;t>n;n++)r[n]=new Array(t)
else for(n=0;t>n;n++){r[n]=new Array(t)
for(var s=0;t>s;s++)r[n][s]=i}else if(3===e)if(isNon(i))for(r=new Array(t),n=0;t>n;n++)for(r[n]=new Array(t),s=0;t>s;s++)r[n][s]=new Array(t)
else for(n=0;t>n;n++)for(r[n]=new Array(t),s=0;t>s;s++){r[n][s]=new Array(t)
for(var o=0;t>o;o++)r[n][s][o]=i}else{if(4!==e)throw new Error("Unvalid dimension. Only 1D-4D arrays can be made.")
if(isNon(i))for(r=new Array(t),n=0;t>n;n++)for(r[n]=new Array(t),s=0;t>s;s++)for(r[n][s]=new Array(t),o=0;t>o;o++)r[n][s][o]=new Array(t)
else for(n=0;t>n;n++)for(r[n]=new Array(t),s=0;t>s;s++)for(r[n][s]=new Array(t),o=0;t>o;o++){r[n][s][o]=new Array(t)
for(var a=0;t>a;a++)r[n][s][o][a]=i}}return r}function numArr(t,e){for(var i=[],r=e||0,n=0;t>n;n++){i[n]=[]
for(var s=0;t>s;s++)i[n][s]=r++}return i}function swap(t,e,i){var r
return i?(r=t[e],t[e]=t[i],t[i]=r,t):(r=t,t=e,e=r,[t,e])}function fisherYatesShuffle(t){for(var e=t.length;e>0;)t.hasOwnProperty(e)&&swap(t,e,Math.floor(Math.random()*e--))
return t}function vectorProd(t,e){var i=[],r=[0,0,0]
return i[0]=["i","j","k"],i[1]=[t.x,t.y,t.z],i.last([e.x,e.y,e.z]),r[0]=t.y*e.z-t.z*e.y,r[1]=t.x*e.z-t.z*e.x,r.last(t.x*e.y-t.y*e.x),r[0]+"i + "+r[1]+"j + "+r.last()+"k"}function vector2Point(t){return new Pt(t.x,t.y,t.z)}function vector2PointForm(t){return"("+t.split("i")[0].clean()+", "+t.split("i")[1].split("j")[0].slice(1,t.split("i")[1].split("j")[0].length).clean()+", "+t.split("i")[1].split("j")[1].split("k")[0].clean()+")"}function scalarProd(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}function union(t,e,i,r){return r?rmDuplicates(t.concat(e,i)).quickSort():rmDuplicates(t.concat(e,i))}function intersection(t,e,i,r){var n=[]
t=t.quickSort(),e=e.quickSort(),i=i?i.quickSort():!1
for(var s in t)e.indexOf(t[s])>-1&&isNon(i)?n.push(t[s]):e.indexOf(t[s])>-1&&i.indexOf(t[s])>-1&&n.push(t[s])
return r?rmDuplicates(n).quickSort():rmDuplicates(n)}function complement(t,e,i,r){var n=[]
t=t.quickSort(),e=e.quickSort(),i=i?i.quickSort():!1
for(var s in t)-1===e.indexOf(t[s])&&isNon(i)?n.push(t[s]):-1===e.indexOf(t[s])&&-1===i.indexOf(t[s])&&n.push(t[s])
return r?rmDuplicates(n).quickSort():rmDuplicates(n)}function symDif(t,e,i,r){var n=[]
t=t.quickSort(),e=e.quickSort(),i=i?i.quickSortort():!1
for(var s in t)-1===e.indexOf(t[s])&&isNon(i)?n.push(t[s]):-1===e.indexOf(t[s])&&-1===i.indexOf(t[s])&&n.push(t[s])
for(s in e)-1===t.indexOf(e[s])&&isNon(i)?n.push(e[s]):-1===t.indexOf(e[s])&&-1===i.indexOf(e[s])&&n.push(e[s])
if(i)for(s in i)-1===t.indexOf(i[s])&&-1===e.indexOf(i[s])&&n.push(i[s])
return r?rmDuplicates(n).quickSort():rmDuplicates(n)}function bitStr(t,e){var i=[]
for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]===e[r]?1:0)
return i}function toSameLength(t,e,i){if(!t.isIterable()||!e.isIterable())throw new Error("invalid length equality operation on non-iterable objects")
if(i||(i=" "),t.length>e.length)for(var r=e.length;r<t.length;r++)isType(e[r],"String")?e+=i:e.push(i)
else if(t.length<e.length)for(r=t.length;r<e.length;r++)isType(t[r],"String")?t+=i:t.push(i)
return[t,e]}function And(t,e,i,r){toSameLength(t,e,i||null)
var n=r?new Array(t.length):t[0]&&e[0]
for(var s in t)t.hasOwnProperty(s)&&(r?n[s]=t[s]&&e[s]:n=n&&t[s]&&e[s])
return n}function Or(t,e,i,r){toSameLength(t,e,i||null)
var n=r?new Array(t.length):t[0]||e[0]
for(var s in t)t.hasOwnProperty(s)&&(r?n[s]=t[s]||e[s]:n=n||t[s]||e[s])
return n}function Xor(t,e,i,r){toSameLength(t,e,i||null)
var n=r?new Array(t.length):xor(t[0],e[0])
for(var s in t)t.hasOwnProperty(s)&&(r?n[s]=xor(t[s],e[s]):n=xor(n,xor(t[s],e[s])))
return n}function Imply(t,e,i,r){toSameLength(t,e,i||null)
var n=r?new Array(t.length):!t[0]||e[0]
for(var s in t)t.hasOwnProperty(s)&&(r?n[s]=!t[s]||e[s]:n=!n||!t[s]||e[s])
return n}function manhattanDist(t,e){return Math.abs(Math.abs(t[0]-e[0])+Math.abs(t[1]-e[1]))}function euclidianDist(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function diagDist(t,e){return Math.max(Math.abs(t[0]-e[0]),Math.abs(t[1]-e[1]))}function h(t,e,i){for(var r=new Array(t.length),n=0;n<t.length;n++){r[n]=new Array(t[n].length)
for(var s=0;s<t[n].length;s++)r[n][s]=i([n,s],lookfor(t[n][s],e))||euclidianDist([n,s],lookfor(t[n][s],e))}return Essence.say(console.table(r)),r.sum2d()}function lookfor(t,e,i){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)if(e[r][n]===t)return i?[n,r]:[r,n]
return-1}function keyList(t,e){var i=[]
if(e)for(var r in t)t.hasOwnProperty(r)&&i.push(r)
else for(r in t)i.push(r)
return i}function valList(t,e){var i=[]
if(e)for(var r in t)t.hasOwnProperty(r)&&i.push(t[r])
else for(r in t)i.push(t[r])
return i}function keyTable(t,e){var i=t.hasName()?"<table cellspacing=0><caption>KeyTable: <i>"+t.getName()+"</i></caption><tr><th>Key</th><th>Value</th></tr>":"<table><caption> KeyTable</caption><tr><th>Key</th><th>Value</th></tr>"
for(var r in t)i+=e&&t.hasOwnProperty(r)?"<tr><td>"+r+"</td><td>"+t[r]+"</td></tr>":"<tr><td>"+r+"</td><td>"+t[r]+"</td></tr>"
return i+"</table>"}function LinkedList(t,e,i){return this.payload=t||1,this.next=e||{payload:1,next:null},this.next.show=function(){return this.name+":"+this.next.payload+"->"},this.name=i,this.show=function(){return this.name+":"+this.payload+"->"+this.next.show()},this.toString=function(){return"LinkedList("+this.show()+")"},this}function TreeNode(t,e,i){return this.left=e,this.right=i,this.payload=t||0,this.add=function(t,e){this.left=t,this.right=e},this.addLeft=function(t){for(var e=0;e<t.length;e++)0===e?this.left=t[0]:t[e-1].left=t[e]},this.addRight=function(t){for(var e in t)0===e?this.righttChild=t[0]:t[e-1].right=t[e]},this.traverse=function(){return this.left&&this.left.traverse(),this.right&&this.right.traverse(),this},this.printInOrder=function(){this.left&&this.left.printInOrder(),Essence.addToPrinter(this.payload+"->"),this.right&&this.right.printInOrder(),Essence.addToPrinter("\r\n")},this.printPreOrder=function(){Essence.addToPrinter(this.payload+"->"),this.left&&this.left.printPreOrder(),this.right&&this.right.printPreOrder(),Essence.addToPrinter("\r\n")},this.printPostOrder=function(){this.left&&this.left.printPreOrder(),this.right&&this.right.printPreOrder(),Essence.addToPrinter(this.payload+"->"),Essence.addToPrinter("\r\n")},this.inOrder=function(t,e,i,r){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),r||(r="|-"),this.left&&this.left.inOrder(t+e,e,i+1,r),println(t+r+this.payload+e+" (deepth = "+i+")"),this.right&&this.right.inOrder(t+e,e,i+1,r)},this.preOrder=function(t,e,i,r){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),r||(r="|-"),println(t+r+this.payload+e+" (deepth = "+i+")"),this.left&&this.left.preOrder(t+e,e,i+1,r),this.right&&this.right.preOrder(t+e,e,i+1,r)},this.postOrder=function(t,e,i,r){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),r||(r="|-"),this.left&&this.left.postOrder(t+e,e,i+1,r),this.right&&this.right.postOrder(t+e,e,i+1,r),println(t+r+this.payload+e+" (deepth = "+i+")")},this.getInOrder=function(t){t||(t="->")
var e=""
return this.left&&(e+=this.left.getInOrder(t)),e+=t+this.payload,this.right&&(e+=this.right.getInOrder(t)),e},this.getPreOrder=function(t){t||(t="->")
var e=""
return e+=t+this.payload,this.left&&(e+=this.left.getPreOrder(t)),this.right&&(e+=this.right.getPreOrder(t)),e},this.getPostOrder=function(t){t||(t="->")
var e=""
return this.left&&(e+=this.left.getPostOrder(t)),this.right&&(e+=this.right.getPostOrder(t)),e+t+this.payload},this.isLeaf=function(){return!this.left&&!this.right},this.find=function(t,e){return"bfs"===e.normal()?this.bfs(t):this.dfs(t)},this.dfs=function(t,e,i){e||(e=0),i||(i=0)
var r=[]
for(r.push(this);r!=[];){e=0
var n=r.pop()
try{if(n.payload===t)return[e,i]}catch(s){return[-1,i]}n.left&&r.push(n.left),n.right&&r.push(n.right),e++,i++}},this.bfs=function(t,e,i){e||(e=0),i||(i=0)
var r=[]
for(r.unshift(this);r!=[];){e=0
var n=r.pop()
try{if(n.payload===t)return[e,i]}catch(s){return[-1,i]}n.left&&r.unshift(n.left),n.right&&r.unshift(n.right),e++,i++}},this.sum=function(){var t=this.payload
return this.left&&(t+=this.left.sum()),this.right&&(t+=this.right.sum()),t},this.min=function(){var t=this.payload
return this.left&&(t=Math.min(t,this.left.min())),this.right&&(t=Math.min(t,this.right.min())),t},this.max=function(){var t=this.payload
return this.left&&(t=Math.max(t,this.left.max())),this.right&&(t=Math.max(t,this.right.max())),t},this.nbOfBranches=function(t){return t||(t=0),this.left&&(t=this.left.nbOfBranches(t+1)),this.right&&(t=this.right.nbOfBranches(t+1)),t},this.avg=function(){return this.sum()/this.nbOfBranches()},this.printBFS=function(t){t||(t="->")
var e=[],i=""
for(e.unshift(this);e!=[];){var r=e.pop()
i+=r+t
try{r.left&&e.unshift(r.left),r.right&&e.unshift(r.right)}catch(n){Essence.say(n+" caused "+this+".printBFS("+t+") to go wrong","err")}}return t},this.toString=function(){var t="TreeNode(payload = "+this.payload+", "
return this.left&&(t+="left = "+this.left.toString()),this.right&&(t+="right = "+this.right.toString()),t.substring(0,t.length)+")"},this.toArray=function(t){var e=[]
return this.left&&(t?e.push(this.left.toArray().toString().split(",")):e.push(this.left.toArray())),e.push(this.payload),this.right&&(t?e.push(this.right.toArray().toString().split(",")):e.push(this.right.toArray())),t?e.toString().split(","):e},this}function Node(t,e,i){return this.payload=t||1,this.next=e,this.prev=i,this.traverse=function(){this.next&&this.next.traverse(),Essence.say("payload: "+this.payload)},this.print=function(){null!=this.next&&this.next.print(),Essence.print(this.payload+"=>")},this.printList=function(){null===this.next?Essence.txt2print+="->"+this.v:this.next.printList(),Essence.print("")},this.last=function(){return null===this.next?this:this.next.last()},this.append=function(t){null===this.next?(this.next=new Node(t),this.next.prev=this):this.next.append(t)},this.remove=function(){var t=this.next
this.next=t.next,t.next.prev=this},this.reverse=function(){if(null==this.next)return this
var t=this.next.reverse()
return t.next=this,t.prev=null,this.prev=t,this.next=null,t},this.toString=function(){return"Node(payload = "+this.payload+", previous = "+this.prev+", next = "+this.next+")"},this.equals=function(t){return this.payload===t.payload&&this.next.equals(t.next)&&this.prev.equals(t.prev)},this.find=function(t,e){return e||(e=0),this.payload===t?e:this.next?this.next.find(t,e+1):[-1,e]},this}function PathNode(t,e){return this.f=t+e||1,this.parent=null,this}function NTreeNode(t,e){return this.payload=t||0,this.childs=e||[],this.add=function(t){this.childs.push(t)},this.traverse=function(){for(var t in this.childs)this.childs.hasOwnProperty(t)&&t.traverse()
return this},this.printInOrder=function(){this.left&&this.left.printInOrder(),Essence.addToPrinter(this.payload+"->"),this.right&&this.right.printInOrder(),Essence.addToPrinter("\r\n")},this.printPreOrder=function(){Essence.addToPrinter(this.payload+"->"),this.left&&this.left.printPreOrder(),this.right&&this.right.printPreOrder(),Essence.addToPrinter("\r\n")},this.printPostOrder=function(){this.left&&this.left.printPreOrder(),this.right&&this.right.printPreOrder(),Essence.addToPrinter(this.payload+"->"),Essence.addToPrinter("\r\n")},this.inOrder=function(t,e,i,r){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),r||(r="|-"),this.left&&this.left.inOrder(t+e,e,i+1,r),println(t+r+this.payload+e+" (deepth = "+i+")"),this.right&&this.right.inOrder(t+e,e,i+1,r)},this.preOrder=function(t,e,i,r){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),r||(r="|-"),println(t+r+this.payload+e+" (deepth = "+i+")"),this.left&&this.left.preOrder(t+e,e,i+1,r),this.right&&this.right.preOrder(t+e,e,i+1,r)},this.postOrder=function(t,e,i,r){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),r||(r="|-"),this.left&&this.left.postOrder(t+e,e,i+1,r),this.right&&this.right.postOrder(t+e,e,i+1,r),println(t+r+this.payload+e+" (deepth = "+i+")")},this.getInOrder=function(t){t||(t="->")
var e=""
return this.left&&(e+=this.left.getInOrder(t)),e+=t+this.payload,this.right&&(e+=this.right.getInOrder(t)),e},this.getPreOrder=function(t){t||(t="->")
var e=""
return e+=t+this.payload,this.left&&(e+=this.left.getPreOrder(t)),this.right&&(e+=this.right.getPreOrder(t)),e},this.getPostOrder=function(t){t||(t="->")
var e=""
return this.left&&(e+=this.left.getPostOrder(t)),this.right&&(e+=this.right.getPostOrder(t)),e+t+this.payload},this.isLeaf=function(){return!isNon(this.childs)},this.find=function(t,e){return"bfs"===e.normal()?this.bfs(t):this.dfs(t)},this.dfs=function(t,e,i){e||(e=0),i||(i=0)
for(var r in this.childs)this.childs.hasOwnProperty(r)&&r.dfs(t,e+1,i++)
return[-1,i]},this.bfs=function(t,e,i){e||(e=0),i||(i=0)
var r=[]
for(r.unshift(this);r!=[];){e=0
var n=new TreeNode(r.pop())
if(n.payload===t)return[e,i]
n.left&&r.unshift(n.left),n.right&&r.unshift(n.right),e++,i++}return[-1,i]},this.sum=function(){var t=this.payload
return this.left&&(t+=this.left.sum()),this.right&&(t+=this.right.sum()),t},this.min=function(){var t=this.payload
return this.left&&(t=Math.min(t,this.left.min())),this.right&&(t=Math.min(t,this.right.min())),t},this.max=function(){var t=this.payload
return this.left&&(t=Math.max(t,this.left.max())),this.right&&(t=Math.max(t,this.right.max())),t},this.nbOfBranches=function(t){return t||(t=0),this.left&&(t=this.left.nbOfBranches(t+1)),this.right&&(t=this.right.nbOfBranches(t+1)),t},this.avg=function(){return this.sum()/this.nbOfBranches()},this.printBFS=function(t){var e=[],i=t||"-"
for(e.unshift(this);e!=[];){var r=new TreeNode(e.pop())
println(i+">"+r.payload),i+="-",r.left&&e.unshift(r.left),r.right&&e.unshift(r.right)}},this.toString=function(){var t="TreeNode(payload = "+this.payload+", "
return this.left&&(t+="left = "+this.left.toString()),this.right&&(t+="right = "+this.right.toString()),t.substring(0,t.length)+")"},this.toArray=function(t){var e=[]
return this.left&&(t?e.push(this.left.toArray().toString().split(",")):e.push(this.left.toArray())),e.push(this.payload),this.right&&(t?e.push(this.right.toArray().toString().split(",")):e.push(this.right.toArray())),t?e.toString().split(","):e},this}function Set(t){return this.value=(isType(t,"arr")?t:[t])||[],this.size=function(){return this.value.length},this.add=function(t){-1===this.value.indexOf(t)&&(isType(t,"array")?this.value=this.value.concat(t):this.value.push(t))},this.remove=function(t){if(-1!==this.value.indexOf(t))if(isType(t,"array"))for(var e=0;e<t.length;e++)this.remove(t[e])
else this.value=this.value.remove(t)},this.clear=function(){this.value=[]},this.isEmpty=function(){return this.value===[]},this.contains=function(t){if(isType(t,"array")){for(var e=!0,i=0;i<t.length;i++){if(!e)return!1
e=e&&this.contains(t[i])}return e}return-1!=this.value.indexOf(t)},this.equals=function(t){return this.value.toString()===t.value.toString()},this.isSame=function(t){if(this.equals(t))return!0
for(var e=!0,i=0;i<t.size();i++){if(!e)return!1
e=e&&this.contains(t.value[i])}return e},this.toString=function(){return"Set("+this.value.toString()+")"},this.subset=function(t,e){return this.value.slice(t,e+1)},this.get=function(t){return this.value[t]},this.first=function(){return this.value[0]},this.last=function(){return this.value[this.value.lastIndex()]},this.min=function(t,e){return this.value.min(t,e)},this.max=function(t,e){return this.value.max(t,e)},this.median=function(t,e){return this.value.max(t,e)},this}function SortedSet(t){return this.value=t||[],this.add=function(t){-1===this.value.indexOf(t)&&(isType(t,"array")?this.value=this.value.concat(t):this.value.push(t)),this.value.quickSort()},this}function Stack(t,e){return this.value=isType(e,"Number")?new Array(e):[],this.limit=e||null,t&&this.value.push(t),this.peek=function(){return this.value.last()},this.ground=function(){return this.value[0]},this.push=function(t){if(this.isFull())throw new Error("Stack overflow !")
isType(t,"array")?this.value.append(t):this.value.push(t)},this.pop=function(){if(this.isEmpty())throw new Error("Stack underflow !")
var t=this.peek()
return this.value.pop(t),t},this.isEmpty=function(){return 0===this.value.length},this.isFull=function(){return null!=this.lim?this.value.length>=this.limit:!1},this.size=function(){return this.value.length},this.toString=function(){return"Stack("+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function StackArray(t){return this.value=new Array(t),this.top=-1,this.peek=function(){return this.value[this.top]},this.push=function(t){if(this.isFull())throw new Error("Stack overflow !")
if(isType(t,"array"))for(var e=0;e<t.length;e++)this.push(t[e])
else this.top++,this.value[this.top]=t},this.pop=function(t){if(this.isEmpty())throw new Error("Stack underflow !")
if(!isType(t,"array")){var e=this.peek()
return this.top--,e}for(var i=0;i<t.length;i++)this.pop(t[i])},this.isEmpty=function(){return this.top<=-1},this.isFull=function(){return this.top>=this.value.length},this.size=function(){return this.top+1},this.toString=function(){return"Stack("+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function StackList(t){return this.top=new Node,this.peek=function(){return this.isEmpty()||null==this.top?null:this.top.next.payload},this.push=function(t){if(isType(t,"array"))for(var e=0;e<t.length;e++)this.push(t[e])
else{var i=new Node(t,this.top)
this.top=i}return this},t&&this.push(t),this.pop=function(t){if(!this.isEmpty())throw new Error("I can't pop from an empty stack list")
if(!t){var e=this.top.payload
return this.top=this.top.next,e}for(var i=0;t>i;i++)this.pop()},this.isEmpty=function(){return null==this.top},this.size=function(t){return null!=this.top?this.size(t+1):t},this}function Queue(t,e){return this.value=isType(e,"Number")?new Array(e):[],this.limit=e||null,t&&this.value.push(t),this.enqueue=function(t){if(this.isFull())throw new Error("Queue overflow !")
isType(t,"array")?this.value.preppend(t):this.value.unshift(t)},this.dequeue=function(){if(this.isEmpty())throw new Error("Queue underflow !")
var t=this.head()
return this.value.pop(),t},this.head=function(){return this.value.last()},this.tail=function(){return this.value[0]},this.isEmpty=function(){return 0===this.value.length},this.isFull=function(){return null!=this.lim?this.value.length>=this.limit:!1},this.size=function(){return this.value.length},this.toString=function(){return"Queue(head = "+this.head()+", tail = "+this.tail()+", value = "+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function QueueArray(t){return this.value=t||[],this.front=-1,this.back=-1,this.enqueue=function(t){if(isType(t,"array"))for(var e=0;e<t.length;e++)this.enqueue(t[e])
else{if(this.isFull())throw new Error("The queue is full")
this.isEmpty()?(this.front++,this.back++,this.value[this.back]=t):(this.back=(this.back+1)%this.value.length,this.value[this.back]=t)}},this.dequeue=function(){var t
if(this.isEmpty())throw new Error("I can't dequeue from an empty queue")
return this.front===this.back?(t=this.value[this.front],this.front=this.back=-1):(t=this.value[this.front],this.front=(this.front+1)%this.value.length),t},this.isEmpty=function(){return-1===this.front&&-1===this.back},this.isFull=function(){return this.back>(this.front+1)%this.value.length},this.size=function(){return this.value.length},this.toString=function(){return"Queue(front = "+this.front+", back = "+this.back+", value = "+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function QueueList(){return this.front=null,this.back=null,this.len=0,this.enqueue=function(t){if(isType(t,"array"))for(var e=0;e<t.length;e++)this.enqueue(t[e])
else{var i=null!=this.back?new Node(t,this.back,null):new Node(t)
null!=this.back.prev&&(this.back.prev=i),this.back=i,this.len++}return this},this.dequeue=function(){if(this.isEmpty())throw new Error("I can't dequeue an empty queue list")
return this.front=this.front.prev,this.len--,this.front},this.isEmpty=function(){return 0===this.len||null===this.back},this.size=function(){return this.len},this.toString=function(){for(var t="",e=this.front;null!=e;)t+="<-"+e.payload,e=e.prev
return t},this.equals=function(t){return this.toString()===t.toString()},this.remove=function(t){for(var e=this.front;null!=e;)null==e.payload||e.payload!=t&&!e.payload.equals(t)||(e=null),e=e.next},this.insertAt=function(t,e){this.back.next=new Node(e),0===t?this.front=new Node(e):t===this.len?this.back=new Node(e):t>this.len&&this.enqueue(e)},this}function Astar(t,e){for(var i,r,n,s=e,o=[t],a=[];o.length>0;){var l=[],c=o[0].f
for(var u in o)o.hasOwnProperty(u)&&(l.push(o[u].f),c=Math.min(c,o[u].f))
if(i=o.filter(function(t){return t.f===c?t:void 0})[0],o=o.filter(function(t){return t.f!=c?t:void 0}),i===s){for(r in i)if(i.hasOwnProperty(nodeSuccessor)){nodeSuccessor.f=i.f+h(nodeSuccessor,i)
var d=lookfor(nodeSuccessor,o)
if(-1!=d){if(d=d[0],i.f<o[d]||-1!=lookfor(nodeSuccessor,a)&&i.f<o[lookfor(nodeSuccessor,a)][0])continue
o=o.remove(nodeSuccessor),a=a.remove(nodeSuccessor),nodeSuccessor.parent=i,n=h(nodeSuccessor,s),o.push(nodeSuccessor)}a.push(i)}throw"Solution found !"}}}function A(t,e,i){for(var r=[],n=[t],s=[],o=[0],a=[euclidianDist(t,e)];n.length>0;){var h=n[a.indexOf(a.min())]
if(h===e)return reconPath(s,h,i)
n=n.remove(h),r.push(h)
var l=i.neighbour(h[0],h[1])
Essence.say("neighbour of "+h+":\n"+l.toStr(!0),"info")
for(var c=0;l>c;c++)if(!(r.indexOf(l[c])>-1)){var u=o[r.indexOf(h)]+1
if(-1===r.indexOf(l[c]))n.push(l[c])
else if(u>=o[c])continue}s[c]=h,o[c]=u,a[c]=o[c]+euclidianDist(l[c],e)}}function reconPath(t,e,i){for(var r=[e];e in keyList(t);)e=t[i.lookFor(e)],r.append(e)
return r}function IDAstar(){}function readCoord(t,e){var i=t.slice(1,t.length-1).split(", ")
return e?[parseInt(i[0]),parseInt(i[1])]:i}function rmConsecDuplicates(t){for(var e=[],i=0,r=0;r<t.length;r++)0!==r&&t[r]==t[r-1]||(e[i++]=t[r])
for(i=0,r=0;r<t.length-1;r++)t[r]!=t[r+1]&&(e[i++]=t[r])
return e}function rmDuplicates(t){for(var e=rmConsecDuplicates(t),i=0,r=0;r<t.length;r++)(0===r||t[r]!=t[r-1]||r>=1&&t[r]!=t[r-2]||r>=2&&t[r]!=t[r-3])&&(e[i++]=t[r])
for(r=0;r<e.length;r++)for(i=0;i<e.length;i++)r!=i&&e[r]===e[i]&&(e[i]=void 0)
return e.remove(void 0)}function Shape(t,e,i,r){return this.x=t||0,this.y=e||0,this.border=i||1,this.vel=r||new Vector,this.norm=this.vel.getNormal(),this.update=function(){this.x+=this.vel.x,this.y+=this.vel.y,this.norm=this.vel.getNormal()},this.stop=function(){this.vel=this.norm=new Vector},this.toString=function(){return"Shape(x = "+this.x+", y = "+this.y+", border = "+this.border+", velocity = "+this.vel+")"},this.offset=function(t){return"l"===t?this.x-1-this.border:"r"===t?this.x+1+this.border:"u"===t?this.y-1-this.border:this.y+1+border},this.bounce=function(t){this.vel.reflect(t)},this.copy=function(){return new Shape(this.x,this.y,this.b,this.vel)},this.mult=function(t){return this.x*=t,this.y*=t,this},this.div=function(t){return this.x/=t,this.y/=t,this},this.add=function(t){return this.x+=t.x,this.y+=t.y,this},this.sub=function(t){return this.x-=t.x,this.y-=t.y,this},this.draw=function(){},this.getSpeed=function(){return Math.sqrt(Math.pow(this.vel.x,2)+Math.pow(this.vel.y,2))},this}function Box(t,e,i,r,n,s,o,a,h,l){return this.x=t||0,this.y=e||0,this.z=i||0,this.width=r||10,this.height=n||10,this.deepth=s||.1,this.borderSize=o||1,this.borderColor=a||"#000",this.borderRadius=l||0,this.backgroundColor=h||"#fff",this.ratio=(this.height/this.width).toNDigits(4),this.ratio3d=[this.ratio,this.height/non0(this.deepth),this.width/non0(this.deepth)].mean(4),this.draw=function(){},this.erase=function(){},this.rot=function(t,e,i){},this.translate=function(t,e,i){},this.toString=function(){return"Box(x = "+this.x+", y = "+this.y+", z = "+this.z+", width = "+this.width+", height = "+this.height+", deepth = "+this.deepth+", borderSize = "+this.borderSize+", borderColor = "+this.borderColor+", borderRadius = "+this.borderRadius+", backgroundColor = "+this.backgroundColor+")"},this}function AABB(t,e,i,r,n,s){return this.x=t||0,this.y=e||this.y,this.w=i||10,this.h=r||this.w,this.border=n||1,this.vel=s||new Vector,this.ratio=this.h/this.w,this.norm=this.vel.getNormal(),this.getPoints=function(){return[new Pt(this.x,this.y),new Pt(this.x+this.w,this.y),new Pt(this.x+this.w,this.y+this.h),new Pt(this.x,this.y+this.h)]},this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.w==t.w&&this.h==t.h&&this.border==t.border&&this.vel.equals(t.vel)},this.toString=function(){return"AABB(x = "+this.x+", y = "+this.y+", width = "+this.w+", height = "+this.h+", velocity = "+this.vel.toString()+", border = "+this.border+")"},this.hit=function(t,e){return"l"===e?t.offset("l")<=this.offset("r"):"r"===e?t.offset("r")>=this.offset("l"):"u"===e?t.offset("u")<=this.offset("d"):"d"===e?t.offset("d")>=this.offset("u"):this.hit(t,"l")||this.hit(t,"r")||this.hit(t,"u")||this.hit(t,"d")},this.copy=function(){return new AABB(this.x,this.y,this.w,this.h,this.b,this.vel)},this.concat=function(t){this.w=t.x-this.x-this.w,this.h=t.y-this.y-this.h},this.deconcat=function(t){this.w=(t.x-this.x)/2,this.h=(t.y-this.y)/2},this.draw=function(){},this.getPerimeter=function(){return 2*this.w+2*this.h},this.getArea=function(){return this.w*this.h},this.getDiag=function(){return Math.sqrt(Math.pow(this.w,2)+Math.pow(this.h,2))},this}function Circ(t,e,i,r,n){return this.x=t||0,this.y=e||0,this.r=i||10,this.border=r||1,this.vel=n||new Vector,this.norm=this.vel.getNormal(),this.offset=function(t){return"l"===t?this.x-this.r:"r"===t?this.x+this.r:"u"===t?this.y-this.r:this.y+this.r},this.equals=function(t){return this.x===t.x&&this.y===t.y&&this.r===t.r&&this.border===t.border&&this.vel.equals(t.vel)},this.toString=function(){return"Circ(x = "+this.x+", y = "+this.y+", radius = "+this.r+", velocity = "+this.vel.toString()+")"},this.hit=function(t,e){return t.hit(this,"")?(this.bounce(t.norm),this.update(),!0):!1},this.draw=function(){},this.getCircumference=function(){return 2*this.r*Math.PI},this}function Pt(t,e){return this.prototype=Shape.prototype,this.x=t||0,this.y=e||0,this.vel=new Vector,this.equals=function(t){return this.x==t.x&&this.y==t.y},this.toString=function(){return"Pt(x = "+this.x+", y = "+this.y+")"},this}function Line(t,e){return this.s=t,this.e=e,this.equals=function(t){return this.s.equals(t.s)&&this.e.equals(t.e)},this.toString=function(){return"Line(start = "+this.s.toString()+", end = "+this.e.toString()+")"},this}function Vector(t,e){return this.prototype=Shape.prototype,this.x=t||0,this.y=e||0,this.toString=function(){return"Vector(x = "+this.x+", y = "+this.y+")"},this.equals=function(t){return this.x==t.x&&this.y==t.y},this.copy=function(){return new Vector(this.x,this.y)},this.normalise=function(){var t=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))
this.x/=t,this.y/=t},this.getNormal=function(){return new Vector(this.x/Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)),this.y/Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)))},this.zero=function(){return this.x=this.y=0,this},this.neg=function(){return this.x=-this.x,this.y=-this.y,this},this.dot=function(t){return this.x*t.x+this.y*t.y},this.cross=function(t){return this.x*t.y-this.y*t.x},this.lenSq=function(){return Math.pow(this.x,2)+Math.pow(this.y,2)},this.length=function(){return Math.sqrt(this.lenSq())},this.reflect=function(t){var e=this.normal.copy()
return e.mult(2*this.dot(this.normal)),this.sub(e),this},this.angle=function(t){return Math.acos((this.x*t.x+this.y*t.y)/(this.length()*t.length()))},this}function Polygon(t,e,i){return this.points=t,this.border=e||1,this.vel=i||new Vector,this.norm=this.vel.getNormal(),this.equals=function(t){var e=!0
for(var i in this.points)this.points.hasOwnProperty(i)&&t.points.hasOwnProperty(i)&&(e=e&&this.points[i].equals(t.points[i]))
return e&&this.border===t.border&&this.vel.equals(t.vel)},this.toString=function(){var t="["
for(var e in this.points)this.points.hasOwnProperty(e)&&(t+=this.points[e].toString()+", ")
return t+="]","Polygon(points = "+t+", velocity = "+this.vel.toString()+", border = "+this.border+")"},this.hit=function(t,e){return"l"===e?t.offset("l")<=this.offset("r"):"r"===e?t.offset("r")>=this.offset("l"):"u"===e?t.offset("u")<=this.offset("d"):"d"===e?t.offset("d")>=this.offset("u"):this.hit(t,"l")||this.hit(t,"r")||this.hit(t,"u")||this.hit(t,"d")},this.copy=function(){return new Polygon(this.points,this.b,this.vel)},this.draw=function(){},this}function simpleTable(t,e,i,r,n){for(var s=t?"<table id="+i+" style="+r+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>",o=0;o<e.length;o++){if(s+="<tr>",n)for(var a=0;a<e[o].length;a++)s+="<td>"+e[o][a]+"</td>"
else s+="<td>"+e[o]+"</td>"
s+="</tr>"}return s+="</table><style>table{background: #000;}table, td {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td{background: #ddd;} tr td:hover{background: #bbb;}</style>"}function rowTable(t,e,i,r,n,s){for(var o=t?"<table id="+r+" style="+s+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>",a=0;a<i.length;a++){if(o+=e?"<tr><th>"+e[a]+"</th>":"<tr>",n)for(var h=0;h<i[a].length;h++)o+="<td>"+i[a][h]+"</td>"
else o+="<td>"+i[a]+"</td>"
o+="</tr>"}return o+="</table><style> table{background: #000;}table, td, th {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td, tr:nth-child(even) th {background: #ddd;} tr td:hover, tr th:hover{background: #bbb;}</style>"}function colTable(t,e,i,r,n,s){var o=t?"<table id="+r+" style="+s+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>"
if(e){o+="<tr>"
for(var a=0;a<e.length;a++)o+="<th>"+e[a]+"</th>"
o+="</tr>"}for(a=0;a<i.length;a++){if(o+="<tr>",n)for(var h=0;h<i[a].length;h++)o+="<td>"+i[h][a]+"</td>"
else o+="<td>"+i[a]+"</td>"
o+="</tr>"}return o+="</table><style>table{background: #000;}table, td, th{border: 1px solid #000; color: #000; background: #fff;}tr:nth-child(even) td{background: #ddd;}tr td:hover{background: #bbb;}"}function complexTable(t,e,i,r,n,s,o){for(var a=t?"<table id="+n+" style="+o+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table><tr><td></td>",h=0;h<r.length;h++)a+="<th>"+r[h]+"</th>"
for(a+="</tr>",h=0;h<i.length;h++){if(a+=e?"<tr><th>"+e[h]+"</th>":"<tr>",s)for(var l=0;l<i[h].length;l++)a+="<td>"+i[h][l]+"</td>"
else a+="<td>"+i[h]+"</td></tr>"
a+="</tr>"}return a+="</table><style>table{background: #000;}table, td, th{border: 1px solid #000; color: #000; background: #fff;}tr:nth-child(even) td{background: #ddd;}tr td:hover{background: #bbb;}</style>"}function colourTable(t,e,i,r,n,s){var o=t?"<table id="+r+" style="+s+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>"
if(e){o+="<tr>"
for(var a=0;a<e.length;a++)o+="<th>"+e[a]+"</th>"
o+="</tr>"}for(a=0;a<i.length;a++){if(o+="<tr>",n)for(var h=0;h<i[a].length;h++)o+=isValid(i[a][h],"color")?"<td style='background:"+i[a][h]+";'><br /></td>":"<td>"+i[a][h]+"</td>"
else o+="<td style='background:"+i[a]+";'><br /></td>"
o+="</tr>"}return o+="</table><style>table{background: #000;}table, td, th{border: 1px solid #000; color: #000; background: #fff;}tr:nth-child(even) td{background: #ddd;}tr td:hover{background: #bbb;}</style>"}function tableCompare(t,e,i){if(t.size(!0)!=e.size(!0))throw new Error("You can't compare two matrices of different sizes")
for(var r=copy(t),n=0;n<r.length;n++)for(var s=0;s<r[n].length;s++)r[n][s]=t[n][s]===e[n][s]?"":e[n][s]
return i?println(simpleTable("Comparison",r)):console.table(r),r}function database(t,e,i,r,n,s){this.name=t||"Database",this.headerRow=isNon(e)?range(100):e,this.content=isNon(i)?[].fill("..."):i,this.headerCol=r||["Index","Value"],this.admin=n||"Anonymous",this.version=s||1,this.val=new Array(this.headRow.length)
for(var o=0;o<this.val.length;o++)this.val[o]=new Array(r.length)
for(o=0;o<this.headerCol.length;o++)this.val[0][o]=this.headerCol[o]
for(o=0;o<this.content.length;o++){this.val[o][0]=this.headerRow?this.headerRow[o]:o
for(var a=0;a<this.content[o].length;a++)this.val[o][a+1]=this.content[o][a]}return this.setStorage=function(){localStorage[this.name]=JSON.stringify(this.val)},this.html=complexTable(this.name,this.headerRow,this.content,this.headerCol,t),this.css="<style>*{font-family:Consolas,Segoe UI,Tahoma;}table{background: #000;}table,td,th{border:1px solid #000;color:#000;background:#fff;}tr:nth-child(even) td,tr:nth-child(even) th{background:#eee;}</style>",this.disp=function(t){var e=t?"#"+t:"body"
$e(e).write(this.html+this.css,!0),this.setStorage()},this.update=function(){localStorage[this.name]?this.val=JSON.parse(localStorage[this.name]):this.setStorage()},this.searchAndRemove=function(t){for(var e=0;e<t.length;e++)for(var i=0;i<this.val.length;i++)for(var r=0;r<this.val.length;r++)this.val[i][r]==t[e]&&(this.val[i][r]=null)},this.remove=function(t,e){for(var i=0;i<t.length;i++)for(var r=0;r<e.length;r++)this.val[e[r]][t[i]]=null},this}function char2hex(t){return conv(t.charCodeAt(0),10,16)}function hex2char(t){return String.fromCharCode(conv(t,16))}function char2bin(t){return conv(t.charCodeAt(0),10,2)}function bin2char(t){return String.fromCharCode(conv(t,2))}function trans(t,e){var i=t.charCodeAt(0)
return String.fromCharCode(i+e)}function encrypt(t,e){if(!e){var i=t.length,r=0,n=Math.floor(i/2)
n=i%2===0?t.charCodeAt(n):(t.charCodeAt(t[n-1])+t.charCodeAt(t[n]))/2,r=n>=97&&122>=n?2:n>=65&&90>=n?1:n-2*Math.floor(n/2)===0?-1:2,e=Math.round((Math.pow(2,7)+t.sum()-48)/t.prod())+r}for(var s="",o=0;o<t.length;o++)s+=trans(t[o],e)
return i=n=r=void 0,s}function decrypt(t,e){var i=""
if(e)for(var r=1;r<=t.length;r++)i+=trans(t[r-1],e)
else for(i=new Array(131073),r=-65536;65537>r;r++){i[r+65536]=""
for(var n=0;n<t.length;n++)i[r+65536]+=trans(t[n],r%65537)}return console.log(console.table(i)),e?t+" => "+i:complexTable("Decryption result for <i>"+t+"</i>",range(-65536,1,65536),i,["Key","Result"],"decrypted_"+t,!1,Essence.css)}function abcEncode(t){var e=new Array(t.length)
if(isType(t,"string")||isType(t,"array")){for(var i in t)if(t.hasOwnProperty(i))switch(t[i].toLowerCase()){case" ":e[i]="00"
break
case"a":e[i]="01"
break
case"b":e[i]="02"
break
case"c":e[i]="03"
break
case"d":e[i]="04"
break
case"e":e[i]="05"
break
case"f":e[i]="06"
break
case"g":e[i]="07"
break
case"h":e[i]="08"
break
case"i":e[i]="09"
break
case"j":e[i]=10
break
case"k":e[i]=11
break
case"l":e[i]=12
break
case"m":e[i]=13
break
case"n":e[i]=14
break
case"o":e[i]=15
break
case"p":e[i]=16
break
case"q":e[i]=17
break
case"r":e[i]=18
break
case"s":e[i]=19
break
case"t":e[i]=20
break
case"u":e[i]=21
break
case"v":e[i]=22
break
case"w":e[i]=23
break
case"x":e[i]=24
break
case"y":e[i]=25
break
case"z":e[i]=26
break
case".":e[i]=27
break
case",":e[i]=28
break
case"!":e[i]=29
break
case"?":e[i]=30
break
case"(":e[i]=31
break
case")":e[i]=32
break
case":":e[i]=33
break
case";":e[i]=34
break
case"@":e[i]=35
break
case"~":e[i]=36
break
case"'":e[i]=37
break
case'"':e[i]=38
break
case"#":e[i]=39
break
case"{":e[i]=40
break
case"}":e[i]=41
break
case"-":e[i]=42
break
case"\\":e[i]=43
break
case"/":e[i]=44
break
case"£":e[i]=45
break
case"$":e[i]=46
break
case"€":e[i]=47
break
case"+":e[i]=48
break
case"*":e[i]=49
break
case"%":e[i]=50
break
case"^":e[i]=51
break
case"°":e[i]=52
break
default:e[i]="x"}return isType(t,"string")?e.join(""):e}return Essence.say("The parameter of abcEncode must be a string or an array.","err")}function abcDecode(t){var e=new Array(t.length)
if(isType(t,"string")||isType(t,"array")){for(var i=0;i<t.length;i+=2)switch(t.substr(i,2)){case"00":e[i]=" "
break
case"01":e[i]="a"
break
case"02":e[i]="b"
break
case"03":e[i]="c"
break
case"04":e[i]="d"
break
case"05":e[i]="e"
break
case"06":e[i]="f"
break
case"07":e[i]="g"
break
case"08":e[i]="h"
break
case"09":e[i]="i"
break
case"10":e[i]="j"
break
case"11":e[i]="k"
break
case"12":e[i]="l"
break
case"13":e[i]="m"
break
case"14":e[i]="n"
break
case"15":e[i]="o"
break
case"16":e[i]="p"
break
case"17":e[i]="q"
break
case"18":e[i]="r"
break
case"19":e[i]="s"
break
case"20":e[i]="t"
break
case"21":e[i]="u"
break
case"22":e[i]="v"
break
case"23":e[i]="w"
break
case"24":e[i]="x"
break
case"25":e[i]="y"
break
case"26":e[i]="z"
break
case"27":e[i]="."
break
case"28":e[i]=","
break
case"29":e[i]="!"
break
case"30":e[i]="?"
break
case"31":e[i]="("
break
case"32":e[i]=")"
break
case"33":e[i]=":"
break
case"34":e[i]=";"
break
case"35":e[i]="@"
break
case"36":e[i]="~"
break
case"37":e[i]="'"
break
case"38":e[i]='"'
break
case"39":e[i]="#"
break
case"40":e[i]="{"
break
case"41":e[i]="}"
break
case"42":e[i]="-"
break
case"43":e[i]="\\"
break
case"44":e[i]="/"
break
case"45":e[i]="£"
break
case"46":e[i]="$"
break
case"47":e[i]="€"
break
case"48":e[i]="+"
break
case"49":e[i]="*"
break
case"50":e[i]="%"
break
case"51":e[i]="^"
break
case"52":e[i]="°"
break
default:e[i]=0}return isType(t,"string")?e.join(""):e}return Essence.say("The parameter of abcDecode must be a string or an array.","err")}function ilEncrypt(t){for(var e=isType(t,"String")?t.split(""):t,i=0;i<e.length;i++)e[i]=String.fromCharCode(abcModulus(t[i].charCodeAt(0)*t.length))
return isType(t,"String")?e.join(""):e}function ilDecrypt(t){for(var e=isType(t,"String")?t.split(""):t,i=0;i<e.length;i++)e[i]=String.fromCharCode(abcModulus(t[i].charCodeAt(0)/t.length))
return isType(t,"String")?e.join(""):e}function RSA(t,e){var i,r,n=t*e
return Essence.say([n,r]),[n,i]}function cryptRSA(t,e){return Math.pow(t,e[1])%e[0]}function abcClamp(t){return 32===t?32:revClamp(clamp(t,65,122),90,97)}function modRange(t,e,i){var r=t%(i+1)
return r+(e>r)?e+r:0}function abcModulus(t){var e=t%123
return e>90&&97>e?e+abcModulus(Math.abs(getClosest(e,[90,97])-e)):e+(65>e&&32!=e?65+e:0)}function bruteForceNum(min,cond,max){for(var x=min;max>x;x++)if(eval(cond.replace(RegExpify("x"),x)))return x
return!1}function addFav(t,e,i){var r=i?"#"+i:"body"
"Mic"===navigator.appName.substring(0,3)&&navigator.appVersion.substring(0,1)>=4?$e(r).write('<a href="#" onClick="window.external.AddFavorite('+t+", "+e+');return false;">Bookmark this webpage</a><br />',!0):$e(r).write("Press CTRL + D to add this webpage to your bookmarks!",!0)}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=this.ver.indexOf("MSIE 5")>-1&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&parseInt(this.ver)>=5?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function writeMsg(t,e,i){for(var r,n=0;n<t.length+10;)r=t.substring(n,0),isCustomType(e,"element")?e.write(r,i):$e(e).write(r,i),n++}function writeMsg2(t,e,i,r,n,s){n||(n=""),s||(s=0),s<t.length+10&&(n=t.substring(s,0),i?$n(e).innerHTML=n:$n(e).innerText=n,s++,setTimeout("writeMsg2('"+t+"', '"+e+"', "+i+", "+r+", '"+n+"', "+s+")",r||150))}function dateTime(t){var e,i,r=new Date,n=r.getFullYear(),s=r.getMonth(),o=["January","February","March","April","May","June","July","August","September","October","November","December"],a=r.getDate(),h=r.getDay(),l=r.getHours(),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saterday"],u="",d=r.getTimezoneOffset()
10>l&&(l="0"+l),e=r.getMinutes(),l>12?(l-=12,u="PM"):u="AM",10>e&&(e="0"+e),i=r.getSeconds(),10>i&&(i="0"+i),d=d>=0?"GMT + "+d:"GMT-"+d
var f="We're "+c[h]+" "+a+" "+o[s]+" "+n+" and it's "+l+":"+e+":"+i+" "+u+" "+d
$e("#"+t).write(f,!0),setTimeout('dateTime("'+t+'");',1e3)}function viewHide(t,e){e||(e=0),""===$e("#"+t).css("visibility")&&1>e&&viewHide(t,e+1),"visible"===$e("#"+t).css("visibility")?($e("#"+t).setCSS("visibility","hidden"),$e("#btn_"+t).write("Hide")):($e("#"+t).setCSS("visibility","visible"),$e("#btn_"+t).write("View"))}function process(t,e,i,r){return this.name=t,this.author=e||"Anonymous",this.bitsize=0,this.description=i||"",this.content=r||"",this.sig=this.name[0]+this.name[this.name.length-1]+this.name.prod()+this.author.slice(0,2)+"-"+getType(this.content)[0],this.update=function(){this.author!=e||"Anonymous"===this.author||isNon(this.author)?this.sig=this.name[0]+this.name[this.name.length-1]+"-"+this.name.prod()+this.author.slice(0,2)+"-"+getType(this.content)[0]:this.sig=this.name[0]+this.name[this.name.length-1]+this.name.prod()+this.author.slice(0,2)+"-"+getType(this.content)[0],"N"===this.sig[this.sig.length-1]?this.bitsize=8*conv(this.content,10,2).sum():"B"===this.sig[this.sig.length-1]?this.bitsize=8:"A"===this.sig[this.sig.length-1]?this.bitsize=is2dArray(this.content)?8*this.content.numElm():8*this.content.length:"O"===this.sig[this.sig.length-1]?this.bitsize=0:"S"===this.sig[this.sig.length-1]?this.bitsize=8*this.content.length:this.bitsize=null},this.update(),this.askPermission=function(t){this.update(),t.add(this)},this.destroy=function(){Essence.say("The process named "+this.name+" (created by "+this.author+") has been destroyed !","info"),this["delete"]()},Essence.addProcess(this),this}function server(t,e,i,r,n){if(this.name=t,this.admin=e,this.version=r||1,this.maxsize=n||Math.pow(2,14),this.nb_slots=Math.pow(2,6),this.slots=mkArray(this.nb_slots,1,"empty"),this.type=i||"data",this.type=this.type.toLowerCase(),"data"===this.type)this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["Index","Value"],this.admin,this.version)
else if("process"===this.type)this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["N°","Name","Author","Description","Content","Bit size"],this.admin,this.version)
else if("storage"===this.type)this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["Key","Value"],this.admin,this.version)
else if("authentification"===this.type)this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["Username","Password","Email","Hash"],this.admin,this.version)
else if("register"===this.type||"details"==this.type)this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["First name","Last Name","Title","Email","Phone","Sex","City/Country","Birthday","Websites","Job","Quote"],this.admin,this.version)
else{if("location"!==this.type)throw new Error(this.type+" is an invalid server type.")
this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["Name","Longitude","Latitude"],this.admin,this.version)}return this.addProcess=function(e){if("-"===e.sig.last()||e.bitsize>this.maxsize/this.nb_slots)console.log("[Server:"+t+"] The process named "+e.name+" has been rejected")
else{for(var i,r=0;r<this.nb_slots;r++)if(isNon(this.slots[r])){this.slots[r]=[e.name,e.author,e.description,e.content,e.bitsize],i=r,r=this.nb_slots
break}this.slots[i]!=[e.name,e.author,e.description,e.content,e.bitsize]&&this.nb_slots<this.maxsize&&(this.nb_slots+=this.maxsize/this.nb_slots,this.slots[this.nb_slots]=[e.name,e.author,e.description,e.content,e.bitsize])}},this.add=function(t){for(var e,i=0;i<this.nb_slots;i++)if(isNon(this.slots[i])){this.slots[i]=JSON.stringify(this),e=i,i=this.nb_slots
break}this.slots[e]!=t&&this.nb_slots<this.maxsize&&(this.nb_slots+=this.maxsize/this.nb_slots,this.slots[this.nb_slots]=JSON.stringify(this))},this.rm=function(t){this.slots[t]=null},this.store=function(){localStorage["server_"+this.name]=JSON.stringify(this)},this.update=function(){localStorage["server_"+this.name]?(this.name=localStorage["server_"+this.name].name,this.admin=localStorage["server_"+this.name].admin,this.version=localStorage["server_"+this.name].version,this.maxsize=localStorage["server_"+this.name].maxsize,this.nb_slots=localStorage["server_"+this.name].nb_slots,this.slots=JSON.parse(localStorage["server_"+this.name].slots),this.data=localStorage["server_"+this.name].data):this.store()},this.fire=function(t){for(var e in this.slots)this.slots.hasOwnProperty(e)&&this.slots[e][0]===t.name&&this.slots[e][1]===t.author&&this.rm(e)},this.reset=function(){for(var t in this.slots)this.slots.hasOwnProperty(t)&&this.rm(t)},Essence.addServer(this),this}function CECheck(t,e,i,r,n){window.defaultStatus="Evalue the connexion and see the downloading speed",e||(e="../img/random2000x2000.jpg"),i||(i=61784),r||(r=100),n||(n=2e4)
var s=new Image
$G.t1=(new Date).getTime(),$G.t2=0,s.src=e+"?t1="+$G.t1,$e("#"+t).write("Verification in progress..."),setTimeout("CETimer('"+t+"', '"+s+"', 0, "+r+", "+n+", "+i+")",r)}function CETimer(t,e,i,r,n,s){i++,$e("#"+t).write("Verification in progress..."),i*r>=n?$e("#"+t).write(evalDownload(0)):e.complete?($G.t2=(new Date).getTime(),$e("#"+t).write(evalDownload(s/($G.t2-$G.t1))),Essence.time("Connexion: "+(s/($G.t2-$G.t1).toNDigits(3)+" kbps"))):setTimeout("CETimer("+t+", "+e+", "+i+", "+r+", "+n+", "+s+")",r)}function evalDownload(t){var e=""
return e=0===t?"No connexion":t>0&&56>=t?"Low debit":t>56&&8e3>=t?"ADSL debit":t>8e3&&2e4>=t?"ADSL2 + ":t>2e4&&5e4>=t?"wire":t>5e4&&1e5>=t?"optical fibre":"Ethernet",e+" ("+t.toNDigits(3)+" kbps)"}function evalUpload(t){var e=""
return e=0===t?"No connexion":t>0&&56>=t?"Low debit":t>56&&1e3>=t?"ADSL + ":t>1e3&&5e3>=t?"wire":"Ethernet",e+" ("+t.toNDigits(3)+" kbps)"}function evalPing(t){var e=""
return e=t>0&&30>=t?"Excellent":t>30&&60>=t?"Really good":t>60&&100>=t?"Good":t>100&&200>=t?"Okay":t>200&&300>=t?"Poor":t>300&&400>=t?"Bad":"Really bad",e+" ("+t+" ms)"}function msgBox(t,e,i,r,n,s){t=t.normal()
var o={borderColor:"#bababa",borderSize:"1px",borderRadius:5,backgroundColor:"#fbfbfb",textColor:"#000",textSize:"14px",textFont:"Calibrie",buttonBorderColor:"#aaa",buttonBorderSize:.8,buttonBorderRadius:5,buttonColor:"#ccc",buttonTextColor:"#000",buttonTextSize:"14px",buttonText:"OK"},a="",h=""
"info"===t?(a="img/info.png",h="i",o.borderColor="#088",o.backgroundColor="rgba(0,255,255,1)",console.info("[Essence.js] "+e+": "+i)):"error"===t?(a="img/error.png",h="x",o.borderColor="#800",o.backgroundColor="rgba(255,0,0,1)",o.textColor="#FFF",console.error("[Essence.js] "+e+": "+i)):"warning"===t?(a="img/warning.png",h="/!\\",o.borderColor="#840",o.backgroundColor="rgba(255,127,0,1)",o.textColor="#FFF",o.buttonText="Got it",console.warn("[Essence.js] "+e+": "+i)):"question"===t?(a="img/question.png",h="?",o.borderColor="#008",o.backgroundColor="rgba(0,0,255,1)",o.textColor="#FFF",o.buttonText="Continue",console.log("[Essence.js] "+e+": "+i+" ?")):"success"===t?(a="img/success.png",h="v/",o.borderColor="#080",o.backgroundColor="rgba(0,255,0,1)",o.textColor="#FFF",o.buttonText="OK",console.log("[Essence.js] "+e+": "+i)):"load"===t?(a="img/load.gif",h="o",o.borderColor="#888",o.backgroundColor="rgba(255,255,255,1)",o.textColor="#FFF",o.buttonText="Continue",console.log("[Essence.js] "+e+": "+i+"...")):"custom"===t?(a=s,h=" ",n.borderColor&&(o.borderColor=n.borderColor),n.borderSize&&(o.borderSize=n.borderSize),n.borderRadius&&(o.borderRadius=n.borderRadius),n.backgroundColor&&(o.backgroundColor=n.backgroundColor),n.textColor&&(o.textColor=n.textColor),n.textSize&&(o.textSize=n.textSize),n.textFont&&(o.textFont=n.textFont),n.buttonBorderColor&&(o.buttonBorderColor=n.buttonBorderColor),n.buttonBorderSize&&(o.buttonBorderSize=n.buttonBorderSize),n.buttonBorderRadius&&(o.buttonBorderRadius=n.buttonBorderRadius),n.buttonColor&&(o.buttonColor=n.buttonColor),n.buttonTextColor&&(o.buttonTextColor=n.buttonTextColor),n.buttonTextSize&&(o.buttonTextSize=n.buttonTextSize),n.buttonText&&(o.buttonText=n.buttonText),console.log("[Essence.js] "+e+": "+i)):a=!1
var l=document.createElement("div"),c=document.createElement("span"),u=document.createElement("p"),d=document.createElement("input"),f="<img src = "+a+" alt = '"+h+"' />"
l.id="overlay",c.id="msgBoxHeader",u.id="msg",d.id="msgBoxBtn",d.type="button",d.value=o.buttonText,f.id="msgImg",r?(c.innerHTML=e,u.innerHTML=i):(c.innerText=e,u.innerText=i),$e("#overlay").isEmpty()&&(Essence.handleError("The #overlay element is voided","essence.js",1336),$e("#overlay").write("<div id = 'overlay'></div>",!0),$n("#overlay")||document.body.appendChild(document.createElement("div").id="overlay")),$e("#overlay").setStyles(["visibility","hidden","position","absolute","left",0,"top",0,"width","100 % ","height","100 % ","text-align","center","z-index","1000","background","rgba(127,127,127,.5)"]),$e("div#overlay").setStyles(["width","300px","margin","100px auto","background",o.backgroundColor,"border",o.borderSize+" solid "+o.borderColor,"padding","15px","textAlign","center","boxShadow","3px 3px 3px #333","borderRadius",o.borderRadius]),$e("#msgBoxHeader").setStyles(["fontSize",parseInt(o.textSize+2)+"px","fontFamily",o.textFont,"color",o.textColor]),$e("#msg").setStyles(["fontSize",o.textSize,"fontFamily",o.textFont,"color",o.textColor]),$e("#btnBoxBtn").setStyles(["border",o.buttonBorderSize+" solid "+o.buttonBorderColor,"color",o.buttonTextColor,"fontSize",o.buttonTextSize]),$e("#msgImg").setStyles(["position","","top","2 % ","left","2 % "]),l.appendChild(c,f,u,d),document.body.appendChild(l),d.onClick=function(){document.body.removeChild(l)}}function genPassword(){for(var t=[],e=["&","~",'"',"#","'","{","[","(","-","|","`","_","\\","^","@",")","]"," + ","=","}"," % "," * ","?",",",";",".","/",":","!"," ",""],i="",r=65;123>r;r++)(90>=r||r>=97)&&(t[r-65]=String.fromCharCode(r))
for(t=t.concat(e,range(0,1,9)).remove(void 0),t.indexOf(void 0)>-1&&(t=t.concat(e,range(0,1,9)).remove(void 0));i.length<20;)i+=t[randTo(t.length-1)]
return i.length<20&&(i+=t[randTo(t.length-1)]),i}function genHash(t){for(var e,i,r="",n=(821-t.sum())/t.prod()*t.charCodeAt(0).toNDigits(1),s=0;s<t.length;s++)e=t.charCodeAt(s)+n.toNDigits(1)%255,i=Math.abs(t.charCodeAt(s)+n).toNDigits(1),32>i&&(i+=48),r+=String.fromCharCode(clamp(i%127,32,126))
return r}function weekDay(t){var e,i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=parseInt(t.split("/")[0]),n=parseInt(t.split("/")[1]),s=parseInt(t.split("/").last())
return e=Math.floor(s/100),s%=100,i[Math.round((1+2.6*n-.2+r+s+s/4+e/4-2*e)%7)-1]}function dayOfWeek(t){var e,i=parseInt(t.split("/")[0]),r=[0,3,3,6,1,4,6,2,5,0,3,5],n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s=parseInt(t.split("/").last())%100+Math.floor(t.split("/").last()/4),o=Math.floor(t.split("/").last()/100%4)
return e=0===o?6:1===o?4:2===o?2:0,n[(i+r[parseInt(t.split("/")[1])-1]+s+e)%7]}function linearGradient(t,e,i){var r=parseInt(conv(t,16)),n=parseInt(conv(e,16))
i=parseInt(i)||10
for(var s=[],o=(n-r)/(i-1),a=0;i>a;a++)s.push(conv(r+a*o,10,16))
return s}function radialGradient(t,e,i){parseInt(conv(t,16)),parseInt(conv(e,16))
return i=parseInt(i)||10,grad}function parseURL(t,e){var i=location.href.split("?")
if(i.length>1){var r=i[1].split("&")
if(isType(t,"Array"))for(var n=0;n<t.length;n++)for(var s=0;s<r.length;s++){var o=r[s].split("=")
o[0]===t[n]&&(isType(e,"Array")?e[n](o[1],o[0]):e(o[1],o[0]))}else for(s=0;s<r.length;s++)o=r[s].split("="),o[0]===t&&e(o[1])}}function GET(t){return t===new RegExp("[?&]"+encodeURIComponent(t)+"=([^&]*)").exec(location.search)?decodeURIComponent(t[1]):void 0}function POST(t,e){var i=document.createElement("form")
i.setAttribute("method","post"),i.setAttribute("action",t)
for(var r in e)if(e.hasOwnProperty(r)){var n=document.createElement("input")
n.setAttribute("type","hidden"),n.setAttribute("name",r),n.setAttribute("value",e[r]),i.appendChild(n)}document.body.appendChild(i),i.submit()}function PUT(){}function DELETE(){}function alphabetSort(t){if(!t.isIterable())throw new Error("alphabetSort cannot sort non iterable objects")
if(isType(t,"String"))return t.split("").quickSort().join("")
for(var e=t.uniform(),i=!0,r=1;i;){i=!1
for(var n=0;n<e.maxLength();n++){for(var s=0;s<e.length-r;s++)0==n&&e[s].charAt(n)>e[s+1].charAt(n)?(swap(e,s,s+1),i=!0):e[s].charAt(n-1)===e[s+1].charAt(n-1)&&e[s].charAt(n)>e[s+1].charAt(n)&&(swap(e,s,s+1),i=!0)
r++}}return e.trimAll("r")}function occurrenceSort(t){for(var e=rmDuplicates(t),i=[],r=[],n=0;n<e.length;n++)r[n]=t.count(e[n])
for(;e.length>0;)for(n=0;n<e.length;n++)r[n]===r.max()&&(i.push(e[n]),r=r.remove(r[n]),e=e.remove(e[n]))
return i}function timeUp(t,e,i){var r=new Date,n=0
return r=1e3*(60*r.getMinutes()+r.getSeconds())+r.getMilliseconds(),t(i),n=new Date,n=1e3*(60*n.getMinutes()+n.getSeconds())+n.getMilliseconds(),isNon(e)||"auto"===e.slice(0,4).toLowerCase()||"none"===e.slice(0,4).toLowerCase()?n-r>1e3?(n-r)/1e3+"s":n-r+"ms":"ms"===e.toLowerCase()||"millisec"===e.slice(0,8).toLowerCase()?n-r+"ms":(n-r)/1e3+"s"}function binarySearch(t,e){t.quickSort()
for(var i=2,r=t[Math.floor(t.length/i)];r!=e&&i>0;){if(r===e)return!0
i*=2,r=e>r?t[Math.floor(t.length/i)]:t[3*Math.floor(t.length/i)]}return r===e}function daynightMode(t){var e=(new Date).getHours()
t&&($G.dnM=!$G.dnM),$G.dnM?e>=21?$e("body").setStyles(["backgroundColor","#000","color","#fff"]):$e("body").setStyles(["backgroundColor","#fff","color","#000"]):Essence.say("You cannot use the day/night modder if it's disabled.","warn")}function Archive(t,e){return this.name=t||"Archive",this.data=e||"",this.dictionnary=[],this.result=[],this.updateDict=function(){for(var t,i=[],r=alphabetSort(e),n=0;n<this.data.length-1;n++)r[n]!=r[n+1]&&i.push(r[n])
for(i=rmDuplicates(i),t=new Array(i.length),r=[],n=0;n<i.length;n++)t[n]=e.count(i[n]),r[n]=i[n]+t[n]
this.dictionnary=occurrenceSort(this.data)
for(var n=0;n<this.dictionnary.length;n++)this.result[n]=conv(n,10,2)},this.getResult=function(){this.updateDict()
for(var t=this.data,e=0;e<this.data.length;e++)console.log(e+"// "+this.dictionnary[this.dictionnary.indexOf(this.data[e])]),t=t.replace(RegExpify(this.dictionnary[this.dictionnary.indexOf(this.data[e])]),this.result[e])
return t},this}function Machine(t,e,i,r){switch(this.capacity=i||1024,this.version=e||5,this.name=t||"Machine_"+this.version,this.version){case 1:this.base=2
break
case 2:this.base=3
break
case 3:this.base=8
break
case 4:this.base=10
break
case 5:this.base=16
break
case 6:this.base=36
break
default:this.base=16}return this.operation=function(t,e,i){switch(i.normal()){case"+":return t+e
case"-":return t-e
case"*":return t*e
case"/":return t/e
case"%":return t%e
case">>":return t>>e
case"<<":return t<<e
case">>>":return t>>>e
case">":return t>e
case"<":return e>t
case"|":return t|e
case"&":return t&e
case"^":return t^e
case"=":return t===e
case"!=":return t!=e
case">=":return t>=e
case"<=":return e>=t
case"||":return t||e
case"&&":return t&&e
case"e":return t*Math.pow(10,e)
case"e^":case"exp":return[Math.exp(t),Math.exp(e)]
case"log":return log(t,e)
case"++":return[t++,e++]
case"--":return[t--,e--]
case"+=":return t+=e
case"-=":return t-=e
case"*=":return t*=e
case"/=":return t/=e
case"%=":return t%=e
case".=":return t.concat(e)
default:return t+""+e}},this.inv=function(t){isType(t,"String")||(t+="")
for(var e=0;e<t.length;e++)t[e]=parseInt(this.base)-1-parseFloat(t[e])
return t},this.memory=new Memory(this.capacity,r||"",this.name),this.send=function(t,e){POST(e,"msg="+this.parse(t))},this.parse=function(t){isType(t,"Array")||(t=2===this.base?t.divide(8):t.divide(2))
for(var e="",i=[],r=0;r<t.length;r++)i[r]=conv(t[r],this.base),e+=String.fromCharCode(conv(t[r],this.base))
return Essence.say(i),JSON.parse(e)},this.unparse=function(t,e){for(var i=JSON.stringify(t),r="",n=[],s=0;s<i.length;s++)n[s]=i.charCodeAt(s),r+=2===this.base?conv(i.charCodeAt(s).toNDigits(8),10,this.base):conv(i.charCodeAt(s),10,this.base)
return e?r:2===this.base?r.divide(8):r.divide(2)},this.store=function(t){this.memory.add(this.unparse(t)),this.memory.save()},this.show=function(){for(var t=0;t<this.memory.slots.length;t++)Essence.say(this.memory.slots[t])},this.specs=function(){return"Name: "+this.name+"\nCapacity: "+this.capacity+" bits\nMemory: \n"+this.memory.toString()},this.toString=function(){return"Machine("+this.specs()+")"},this.conv=function(t,e){return conv(t,e||36,this.base)},this}function Memory(t,e,i){return this.capacity=t||1024,this.slots=new Array(this.capacity),this.type="local"===e?"local":"session",this.name=i?i+"_"+this.type+"M"+log(this.capacity):this.type+"M"+log(this.capacity),this.free=0,this.save=function(){for(var t=0;t<this.slots.length;t++)"local"===this.type?localStorage.setItem(this.name+"#"+t,this.slots[t]):sessionStorage.setItem(this.name+"#"+t,this.slots[t])},this.remove=function(t){this.slots.remove(JSON.stringify(t)),"local"===this.type?localStorage.setItem(this.getLocation(t),void 0):sessionStorage.setItem(this.getLocation(t),void 0)},this.getLocation=function(t){if("local"===this.type){for(var e in localStorage)if(localStorage[e]===JSON.stringify(t))return e}else for(e in sessionStorage)if(sessionStorage[e]===JSON.stringify(t))return e
return-1},this.clear=function(){if(this.slots=new Array(this.capacity),this.free=0,"local"===this.type)for(var t in localStorage)t.indexOf(this.name)>-1&&localStorage.removeItem(t)
else for(t in sessionStorage)t.indexOf(this.name)>-1&&sessionStorage.removeItem(t)},this.add=function(t){this.slots[this.free++]=JSON.stringify(t)},this.print=function(){Essence.say(this.name+"'s slots: ","info")
for(var t=0;t<this.slots.length;t++)try{Essence.say(t+": "+JSON.parse(this.slots[t]))}catch(e){Essence.say(t+": ")}},this.pop=function(){"local"===this.type?localStorage.removeItem(this.getLocation(this.slots.last())):sessionStorage.removeItem(this.getLocation(this.slots.last())),this.free--,this.slots.pop()},this.toString=function(){return this.type.capitalize()+" memory "+this.name+": "+this.slots.toStr(!0)},this}function EvtShow(t){alert("	Name: "+t.name+"\nsource: "+t.source+"\ndata: "+t.data+"\ntarget: "+t.target+"\ntime stamp: "+t.timeStamp)}function evtLog(t){for(var e in t)t.hasOwnProperty(e)&&Essence.say(e+": "+t[e])}function InvalidParamError(t,e,i){return this.name="Invalid parameter error",this.fileName=e,this.lineNumber=i,this.message=t||"The parameter used at "+this.lineNumber+" is invalid !",this.stack=(new Error).stack,this}function testErr(t){try{throw t}catch(e){Essence.say("%cTested error%c:\n"+e.stack,"erro","text-decoration: underline; color: #000;","text-decoration: none; color: #000;")}}function noobTest(t,e){try{t(e)}catch(i){location.href="http://Stackoverflow.com/search?q=[js]+"+i.message}}function chTab(t){$e("#tab_"+$G.oldTab).rmClass("tabOn"),$e("#tab_"+$G.oldTab).addClass("tabOff"),$e("#tab_"+t).rmClass("tabOff"),$e("#tab_"+t).addClass("tabOn"),$e("#contentTab_"+$G.oldTab).setCSS("display","none"),$e("#contentTab_"+t).setCSS("display","block"),$G.oldTab=t}function moveHTMLRange(t,e){$e("#"+t).write(parseFloat($e("#"+t).val())+(e||1)),$e("#"+t+"_val").write($e("#"+t).val())}function htmlRange(t,e,i,r){if(!t)throw new Error("htmlRange needs to know the id of the element implementing the range")
return Essence.addCSS(".arrow{cursor: pointer;font-size: 20px;vertical-align: middle}"),'<b class="arrow" onClick="moveHTMLRange(\''+t+'\', -1)">&triangleleft;</b><input type="range" value='+(i||0)+" max="+(r||100)+" min="+(e||0)+' id="'+t+'" onChange="$e(\'#'+t+'_val\').write(this.value);" /><b class="arrow" onClick="moveHTMLRange(\''+t+'\', 1)">&triangleright;</b><span id="'+t+'_val">'+(i||"")+"</span>"}function labelFieldSwap(t,e){$e("#lbl_"+t).isEmpty()&&$e("#lbl_"+t).write("&ensp;",!0),$e("#"+t).isEmpty()||"\b"===$e("#"+t).val()||$e("#"+t).val()!=e&&$e("#"+t).size()<2?($e("#"+t).write($e("#lbl_"+t).val()),$e("#lbl_"+t).write("&ensp;",!0)):($e("#lbl_"+t).write(e||$e("#"+t).val()),$e("#"+t).val()!==e&&""!==$e("#"+t).val()||$e("#"+t).write("\b"))}function labelPwSwap(t,e){$e("#lbl_"+t).isEmpty()&&$e("#lbl_"+t).write("&ensp;",!0),$e("#"+t).isEmpty()||"\b"===$e("#"+t).val()||$e("#"+t).val()!=e&&$e("#"+t).size()<2?($e("#"+t).type="text",$e("#"+t).write($e("#lbl_"+t).val()),$e("#lbl_"+t).write("&ensp;",!0)):($e("#"+t).type="password",$e("#lbl_"+t).write(e||$e("#"+t).val()),$e("#"+t).val()!==e&&""!==$e("#"+t).val()||$e("#"+t).write("\b"))}function htmlInput(t,e,i){if(!t)throw new Error("htmlInput needs to know the id of the element implementing the input")
return i||(i=e||t),"<label for='"+t+"' id='lbl_"+t+"'>&ensp;</label><br /><input type='"+(e||"text")+"' id='"+t+"' value='"+i+"' onFocus='labelFieldSwap(\""+t+'", "'+i+"\")' onBlur='labelFieldSwap(\""+t+'", "'+i+"\")' />"}function htmlPassword(t,e){if(!t)throw new Error("htmlPassword needs to know the id of the element implementing the input")
return e||(e=t),"<label for='"+t+"' id='lbl_"+t+"'>&ensp;</label><br /><input type='text' id='"+t+"' value='"+e+"' onFocus='labelPwSwap(\""+t+'", "'+e+"\")' onBlur='labelPwSwap(\""+t+'", "'+e+"\")' />"}function WebPage(t,e,i,r,n,s,o,a){return this.title=t||"My web page",this.subtitle=a||"A simple web page",this.type=o.normal()||"html",this.name=e+this.type||"index."+this.type,this.path=i+"/"+this.name||this.name,this.author=r||"Maximilian Berkmann",this.version=n||1,this.structure=s||"header!h-menu!content|aside!footer",this.code="",this.template="",this.page=null,this.word2code=function(t){switch(t.normal()){case"header":return"<header><img src='img/icon.png' /><hgroup><h1>{{title}}</h1><h3>{{subtitle}}</h3></hgroup></header>"
case"h-menu":return"<menu class='h-menu'><li onClick=''>{{0}}</li><li onClick=''>{{1}}</li><li onClick=''>{{2}}</li></menu>"
case"v-menu":return"<menu class='v-menu'><li onClick=''>{{0}}</li><li onClick=''>{{1}}</li><li onClick=''>{{2}}</li></menu>"
case"content":return"<div id='content'>{{content}}</div>"
case"aside":return"<aside>{{aside}}</aside>"
case"footer":return"<footer>{{footer}}</footer>"
case"article":return"<article id='{{article_title}}'><header>{{article_title}}</header>{{article_content}}<footer>{{article_footer}}</footer></div>"
case"search":return"<form action='search.php' method='post'><input type='search' name='search' /><input type='image' src='img/search.png' alt='?' /></form>"
default:return t}},this.genTemplate=function(){var t=this.structure.split("!")
this.template="<table class='none'>"
for(var e=0;e<t.length;e++){this.template+="<tr>"
for(var i=t.split("|"),r=0;r<i.length;e++)this.template+=this.word2code(i[e])
this.template+="</tr>"}return this.template+="</table>",this.template},this.genPage=function(t){return this.page=new Template(this.title,this.name,this.template,["title","subtitle","content","aside","footer","0","1","2","article_title","article_content","article_footer"]),this.page.gen({title:this.title,subtitle:this.subtitle,content:t.content||$G.lorem,aside:t.aside||"At the side",footer:t.footer||"An EssenceJS powered web page",article_content:t.articleContent||"Bla bla bla",article_title:t.articleTitle||"An article",article_footer:t.articleFooter||"By John Doe",0:"Home",1:"About us",2:"Contact us"})},this}function WebApp(t,e,i,r,n){return this.name=t||"Web App",this.path=e||"",this.author=i||"Maximilian Berkmann",this.version=r||1,this.dirs=["img","script","style"],this.pages=[new WebPage(this.name,"index",this.path,this.author,this.ver,n),new WebPage("Contact us","contact",this.path,this.author,this.ver,n),new WebPage("About us","about",this.path,this.author,this.ver,n)],this.build=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].genPage()},this}function virtualHistory(t){return this.src=t,this.DEFAULT_STATE=t,this.states=new Set(this.src),this.state=0,this.reset=function(){this.src=this.DEFAULT_STATE},this.update=function(t){this.src!=t&&this.add(t)},this.add=function(t){if(isType(t,"array"))for(var e=0;e<t.length;e++)this.add(t[e])
else this.src=t,this.states.add(this.src),this.state++},this.get=function(t){return this.states.get(t)},this.undo=function(){if(0===this.state)throw new Error("Set underflow, it's not possible to undo to a non-existent state.")
this.state--,this.src=this.get(this.state)},this.redo=function(){if(this.state==this.states.size()-1)throw new Error("Set overflow, it's not possible to redo to a non-existent state.")
this.state++,this.src=this.get(this.state)},this.getStates=function(){return this.states.toString()},this.isStateDefault=function(){return this.src==this.DEFAULT_STATE},this}function Editor(t,e,i,r,n){return this.id=t||"#editor",this.node=$n(this.id),this.linesId="#lines",this.linesNode=$n(this.linesId),this.nbLines=0,this.language=e||"none",this.previewer=i,this.code=$e(this.id).val(),this.codeHistory=new virtualHistory(this.code),this.toolbar=n||new Toolbar,this.toolbar["for"]=this,this.toggleLine=function(t){$e("#"+t).setCSS("background","rgba(0, 0, 0, 0)"===$e("#"+t).css("background")?"red":"rgba(0, 0, 0, 0)")},this.update=function(t){this.node!=$n(this.id)&&(this.node=$n(this.id)),this.linesNode!=$n(this.linesId)&&(this.linesNode=$n(this.linesId)),this.code!=$e(this.id).val()&&(this.code=$e(this.id).val()),t=t||toPixel($e(this.id).css("height"))/(1.12*toPixel($e(this.id).css("fontSize"))),$e(this.linesId).write("",!0),this.nbLines=Math.round(t)
for(var e=1;e<=this.nbLines;e++)$e(this.linesId).after("<span id = 'l_"+e+"' style = 'color: black;'>"+e+"</span><br />")
for(this.codeHistory.update(this.code),this.toolbar.update(),e=0;e<this.toolbar.tools.length;e++)this.toolbar.fn[e]=this[this.toolbar.tools[e]]},this.write=function(t){$e(this.id).after(t),this.codeHistory.update(this.code)},this.clear=function(){$e(this.id).write(""),this.codeHistory.reset()},this.undo=function(){this.codeHistory.undo(),$e(this.id).write(this.codeHistory.src)},this.redo=function(){this.codeHistory.redo(),$e(this.id).write(this.codeHistory.src)},this.save=function(){save($e(this.id).val(),"script"+getTimestamp()+".ws","webscript")},this.select=function(){this.node.select()},this.copy=function(){copyToClipboard($e(this.id).val(),"webscript")},this.paste=function(t){t?$e(this.id).write(clipboardData.getData("webscript")):this.write(clipboardData.getData("webscript"))},this.load=function(){var t=prompt("File: ",".ws")
this.clear(),getFileContent(t),$e(this.id).write($G.fct)},this.generate=function(){this.previewer?/\<\?php([\s\S] * ?)\?\>/.test($e(this.id).val())?save($e(this.previewer.id).val(!0),"script"+getTimestamp()+".php","php"):save($e(this.previewer.id).val(!0),"script"+getTimestamp()+".html","html"):/\<\?php([\s\S] * ?)\?\>$/g.test($e(this.id).val())?save($e("#preview").val(!0),"script"+getTimestamp()+".php","php"):save($e(i.id).val(!0),"script"+getTimestamp()+".html","html")},this.view=function(){this.previewer.run($e(this.id).val(),!0)},this.highlightSynthax=function(t,e){switch(e.normal()){case"html":break
case"javascript":break
case"css":break
case"php":break
case"mips":break
case"batch":break
case"bash":break
case"java":break
case"c++":break
case"python":break
case"xml":break
case"webscript":t=t.replace(/(\<|\>|\/\>)([A-Za-z]*|)(\<|\>|\/\>)/g,"<span class = 'code-tag'>$1</span>"),t=t.replace(/(\"|\')(.*)(\"|\')/g,"<span class = 'code-str'>$1</span>"),t=t.replace(/(?!\"|\')(\d+)(?!\"|\')/g,"<span class = 'code-num'>$1</span>"),t=t.replace(/([\s\S] * ?)(=)/g,"<span class = 'code-attr'>$1</span>"),t=t.replace(/\<\!--([\s\S]*)--\>/g,"<span class = 'code-cmt'>$1</span>"),t=t.replace(/\/\/(.*?)/g,"<span class = 'code-cmt'>$1</span>"),t=t.replace(/=[A-Za-z0-9\.]+(| )/g,"<span class = 'code-val'>$1</span>"),t=t.replace(/[=\{\}\[\]\(\)\;]/g,"<span class = 'code-op'>$1</span>")
break
case"markdown":}return t},this}function Preview(t,e,i,r){return this.id=t||"#preview",this.node=$n(this.id),this.language=e||"none",this.associatedParser=i||new Parser,this.associatedEditor=r||new Editor,this.update=function(){this.node!=$n(this.id)&&(this.node=$n(this.id))},this.run=function(t,e){$e(this.id).write(e?this.associatedParser.run(t):t,!0)},this.viewCode=function(){var t=open("","Resulting code","width = 800,height = 600,location = no,menubar = yes,scrollbars = yes,status = no,toolbar = yes"),e=escapeHTML($e(this.id).val(!0))
e=e.replace(/\n/g,"<br />"),e=e.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),t.document.write(this.associatedEditor.highlightSynthax(e,this.language)),t.document.write("<style>"+Essence.css+"</style>")},this}function Debugger(t,e){return this.id=t||"#debugger",this.node=$n(this.id),this.language=e||"none",this.update=function(){this.node!=$n(this.id)&&(this.node=$n(this.id))},this.run=function(){},this}function Parser(t,e,i){this.from=t||"WebScript",this.to=e||"DHTML",this.run=i||function(t){var e=t
return e=e.replace(/<tab \/>/gm,"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),e=e.replace(/\{\{tab}}/gm,"	"),e=e.replace(/<info>(.*?)<\/info>/gm,"<span class='block info'>$1</span>"),e=e.replace(/<question>(.*?)<\/question>/gm,"<span class='block question'>$1</span>"),e=e.replace(/<error>(.*?)<\/error>/gm,"<span class='block error'>$1</span>"),e=e.replace(/<warning>(.*?)<\/warning>/gm,"<span class='block warning'>$1</span>"),e=e.replace(/<success>(.*?)<\/success>/gm,"<span class='block success'>$1</span>"),e=e.replace(/(\{\{)LOREM(}})/gi,$G.lorem),e=e.replace(/(?:\{\{)LOREM\x7c(\d+)-(\d+)(?:}})/gi,$G.lorem.chunk("$1","$2")),e=e.replace(/(?:\{\{)HW(?:}})/gi,"Hello World !"),e=e.replace(/<icon \/>/gm,"<img src='img/icon.png' class='icon'/>"),e=e.replace(/<icon size=(?:"|')(\w+)(?:"|') \/>/gm,"<img src='img/icon.png' class='icon' style='width: $1; height: $1;' />"),e=e.replace(/<icon name=(?:"|')(\w+)(?:"|') \/>/gm,"<img src='img/$1.png' class='icon' />"),e=e.replace(/<(s|m|l|xs|xl):icon name=(?:\"|\')(\w+)(?:\"|\') \/>/gm,"<img src='img/$2.png' class='$1-icon' />"),e=e.replace(/<js>([\s\S]*?)<\/js>/gm,"<script type='text/javascript'>$1</script>"),e=e.replace(/<js src=(?:\"|\')(\w+)(?:\"|\') \/>/gm,"<script type='text/javascript' src='$1'></script>"),e=e.replace(/<vb>([\s\S]*?)<\/vb>/gm,"<script type='text/vbscript'>$1</script>"),e=e.replace(/<vb src=(?:\"|\')(\w+)(?:\"|\') \/>/gm,"<script type = 'text/vbscript' src='$1'></script>"),e=e.replace(/<css>([\s\S]*?)<\/css>/gm,"<style type='text/css'>$1</style>"),e=e.replace(/<css href=(?:\"|\')([A-Za-z_ -\.]+)(?:\"|\') \/>/gm,"<link rel='stylesheet' type='text/css' href='$1' />"),e=e.replace(/<charset=(?:\"|\')(\w + )(?:\"|\') \/>/gm,"<meta charset='$1' />"),e=e.replace(/<author name=(?:\"|\')(\w + )(?:\"|\') href=(?:\"|\')(\w+)(?:\"|\') \/>/gm,"<meta name='author' content='$1' /><link rel='author' href='$2' />"),e=e.replace(/<desc>(.*?)<\/desc>/gm,"<meta name='description' content='$1' />"),e=e.replace(/<copy>(.*?)<\/copy>/gm,"<meta name='copyrights' content='$1' />"),e=e.replace(/<lbl>(.*?)<\/lbl>/gm,"<label>$1</label>"),e=e.replace(/<submit \/>/gm,"<input type='submit' />"),e=e.replace(/<submit val=(?:\"|\')(\w+)(?:\"|\') \/>/gm,"<input type='submit' value='$1' />"),e=e.replace(/<reset \/>/gm,"<input type='reset' />"),e=e.replace(/<reset val=(?:\"|\')(\w+)(?:\"|\') \/>/gm,"<input type='reset' value = '$1' />"),e=e.replace(/<hdn name=(?:\"|\')(\w+)(?:\"|\')>(.*?)<\/hdn>/gm,"<input type='hidden' name='$1' value='$2' />"),e=e.replace(/<hdn name=(?:\"|\')(\w+)(?:\"|\') id=(?:\"|\')(\w+)(?:\"|\')>(.*?)<\/hdn>/gm,"<input type='hidden' name='$1' value='$3' id='$2' />"),e=e.replace(/<txt ((?:id|name|class)(\=(?:\"|\')(\w+)(?:\"|\'))(| ))\/>/gm,"<input type='text' />"),e=e.replace(/<sql query=(?:\"|\')(.*?)(?:\"|\') \/>/gm,"<?php\n	if (mysqli_ping($$dbc)) {\n		$r = mysqli_query($$dbc, '$1');\n	}else printMsg('error', 'No ping');\n?>"),e=e.replace(/<sqlt table=(?:\"|\')(\w+)(?:\"|\') query=(?:\"|\')(.*?)(?:\"|\') \/>/gm,"<?php\n	if (mysqli_ping($$dbc)) {\n		echo 'Last updated at '._time().\"<br />\";selectTable($dbc, '$1', '$2');\n	}else printMsg('error', 'No ping');\n?>")}}function Toolbar(t,e,i){return this.id=t||"#toolbar",this.node=$n(this.id),this.tools=e||["undo","redo","clear","save","select","copy","paste","load","generate","view"],this.fn=[],this["for"]=i,this.update=function(){this.node!=$n(this.id)&&(this.node=$n(this.id))
for(var t=0;t<this.tools.length;t++)this.fn[t]=this["for"][this.tools[t]]},this}function IDE(t,e,i,r,n,s){return this.editor=e||new Editor,this.parser=r||new Parser,this.preview=i||new Preview,this.preview.associatedParser=this.parser,this.editor.previewer=this.preview,this.editor.parser=this.parser,this["debugger"]=n||new Debugger,this.language=t||"none",this.init=function(t,e){"none"!=this.language&&(this.editor.language=this["debugger"].language=this.parser.from=this.language),t&&(this.parser.to=t,this.preview.language=t)},this.toolbar=this.editor.toolbar,this.update=function(t){this.editor.update(t),this.preview.update(),this["debugger"].update()},this}function loadDoc(t,e){var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")
i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i)},i.open("GET",t,!0),i.send()}function AJAXpost(t,e,i){var r,n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")
n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(r=i?n.responseXML:n.responseText)},n.open("POST",e,!0),i?(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t)):(n.setRequestHeader("Content-Type","text/plain"),n.send(t))}function getHTTPMsg(t){switch(t){case 100:return"Continue"
case 101:return"Switching Protocols"
case 200:return"OK"
case 201:return"Created"
case 202:return"Accepted"
case 203:return"Non-Authoriative Information"
case 204:return"No Content"
case 205:return"Reset Content"
case 206:return"Partial Content"
case 300:return"Multiple Choices"
case 301:return"Moved Permanently"
case 302:return"Found"
case 303:return"See Other"
case 304:return"Not Modified"
case 305:return"Use Proxy"
case 306:return"Unused"
case 307:return"Temporary Redirect"
case 400:return"Bad Request"
case 401:return"Unauthorized"
case 402:return"Payment Required"
case 403:return"Forbidden"
case 404:return"Not Found"
case 405:return"Method Not Allowed"
case 406:return"Not Acceptable"
case 407:return"Proxy Authentification Required"
case 408:return"Request Timeout"
case 409:return"Conflict"
case 410:return"Gone"
case 411:return"Length Required"
case 412:return"Precondition Failed"
case 413:return"Requeust Entity Too Large"
case 414:return"Request-url Too Long"
case 415:return"Bad Request"
case 416:return"Unsupported Media Type"
case 417:return"Expectation Failed"
case 500:return"Internal Server Error"
case 501:return"Not Implemented"
case 502:return"Bad Gateway"
case 503:return"Service Unavailable"
case 504:return"Gateway Timeout"
case 505:return"HTTP Version Not Supported"
default:return"Unknown status"}}function Template(t,e,i,r,n){return this.name=t||"Template",this.path=e||this.name+".jst",this.params=r||["name","description","version","title","path"],this.special=["tab","date","time","timestamp","br"],this.specialEq=["&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",getDate(),getTime(),getTimestamp(),"<br />"],n&&(this.specialEq[0]="	",this.specialEq[4]="\n"),this.text=i||"",this.gen=function(t){for(var e=this.text,i=keyList(t,!0),r=0;r<i.length;r++)e=e.replace(RegExpify("{{"+i[r]+"}}"),t[i[r]])
if(e.index)for(r=0;r<this.special.length;r++)e=e.replace(RegExpify("%"+this.special[r]+"%"),this.specialEq[r]," ")
return e},this.save=function(t,e,i){t?save(this.gen(t),(e||this.name)+"."+(i||".js"),i||"javascript"):save(this.text,this.path,"javascript")},this}function RegExpify(t){return new RegExp(t.replace(/[|\\{}()[\]^$+*?.:\'<>%]/g,"\\$&"),"gm")}function unRegExpify(t){return t.toString().get(1,t.toString().lastIndexOf("/")-1).remove("\\")}function occurrenceList(t){if(!t.isIterable())throw new Error("It must be an iterable object !")
for(var e=t.getOccurrences(!0),i=[],r=t.getOccurrences(),n={},s=0;s<r.length;s++)i[s]=r[s].split(":")[0]
for(s=0;s<e.length;s++)n[i[s]]=e[s]
return n}function Objectify(t,e){for(var i={},r=0;r<t.length;r++)i[t[r]]=e[r]
return i}function isCloser(t,e,i){return Math.abs(t-e)<Math.abs(t-i)}function getClosest(t,e){for(var i=e[0],r=1;r<e.length;r++)i=isCloser(t,i,e[r])?i:e[r]
return i}function Stream(initVal,formula,nbVals){if(this.start=initVal||0,this.formula=formula||"x + 1",this.data=[this.start],this.next=function(){this.data.push(eval(this.formula.multiReplace([[/x/g,this.data.last()],[/x0/g,this.start],[/pi/gi,Math.PI],[/e/gi,Math.E],[/sqrt(2)/gi,Math.SQRT2],[/(pow|max|min)\((.*?),(| )(.*?)\)/,"Math.$1($2, $3)"],[/(sqrt|cbrt|cos|sin|tan|acos|asin|cosh|sinh|tanh|acosh|asinh|atanh|exp|abs)\((.*?)\)/,"Math.$1($2)"],[/(ln|log|nthroot|clampTop|clampBottom)\((.*?),(| )(.*?)\)/,"$1($2, $3)"],[/(clamp)\((.*?),(| )(.*?),(| )(.*?)\)/,"$1($2, $3, $)"]])))},nbVals)for(var i=1;nbVals>i;i++)this.next()
return this.toString=function(){return"Stream(start="+this.start+", formula="+this.formula+", data="+this.data.toStr(!0)+")"},this}function MultiStream(initVal,formula,nbVals){if(this.start=initVal||0,this.formula=formula||"x + y",this.data=[this.start],this.results=[],this.next=function(){this.data.push(this.data.last().map(function(t){return t+1})),this.results.push(this.compute(this.data.last()))},this.compute=function(data){return eval(this.formula.multiReplace([[/x/g,data[0]],[/x0/g,this.start[0]],[/y/g,data[1]],[/y0/g,this.start[1]],[/z/g,data[2]],[/z0/g,this.start[2]],[/pi/gi,Math.PI],[/e/gi,Math.E],[/sqrt(2)/gi,Math.SQRT2],[/(pow|max|min)\((.*?),(| )(.*?)\)/,"Math.$1($2, $3)"],[/(sqrt|cbrt|cos|sin|tan|acos|asin|cosh|sinh|tanh|acosh|asinh|atanh|exp|abs|e\^)\((.*?)\)/,"Math.$1($2)"],[/(ln|log|nthroot|clampTop|clampBottom)\((.*?),(| )(.*?)\)/,"$1($2, $3)"],[/(clamp)\((.*?),(| )(.*?),(| )(.*?)\)/,"$1($2, $3, $4)"]]))},this.results=[this.compute(this.start)],nbVals>1)for(var i=1;nbVals>i;i++)this.next()
return this.toString=function(){return"Stream(start="+this.start.toStr(!0)+", formula="+this.formula+", data="+this.data.toStr(!0)+", results="+this.results.toStr(!0)+")"},this}function Graph(t,e,i,r,n){this.labels=i||["x","y"],this.name=r||"Graph",this.dimension=e||new Array(this.labels.length).fill(50),this.equation=new Equation(t),this.data=n?range(0,n,this.dimension[0],Number(n).length()[1]):range(this.dimension[0])
for(var s=0;s<this.data.length;s++)this.data[s]=[this.data[s],this.equation.compute({x:this.data[s]})]
return this.toString=function(){return"Graph(name="+this.name+", labels="+this.labels.toStr(!0)+", dimension="+this.dimension+", this.formula="+this.formula+", data="+this.data+")"},this}function Equation(formula){return this.formula=formula.normal()||"y=x",this.leftSide=this.formula.split("=")[0],this.rightSide=this.formula.split("=")[1],this.compute=function(data){return eval(this.rightSide.multiReplace([[/x/g,data.x||0],[/y/g,data.y||0],[/z/g,data.z||0],[/pi/gi,Math.PI],[/e/gi,Math.E],[/sqrt(2)/gi,Math.SQRT2],[/(pow|max|min)\((.*?),(.*?)\)/,"Math.$1($2, $3)"],[/(sqrt|cbrt|cos|sin|tan|acos|asin|cosh|sinh|tanh|acosh|asinh|atanh|exp|abs|e\^)\((.*?)\)/,"Math.$1($2)"],[/(ln|log|nthroot|clampTop|clampBottom)\((.*?),(.*?)\)/,"$1($2, $3)"],[/(clamp)\((.*?),(.*?),(.*?)\)/,"$1($2, $3, $4)"]]))},this.toString=function(){return"Equation("+this.formula+")"},this}function name2Type(t,e){switch(t){case"Number":return Number(e)
case"String":return String(e)
case"Boolean":return Boolean(e)
case"Function":return Function(e)
case"Object":return Object(e)
case"Date":return Date(e)
case"Array":return Array(e)
case"RegExp":return RegExp(e)
case"Error":return Error(e)
case"File":return File(e)
case"URL":return URL(e)
case"FileReader":return FileReader(e)
case"FileWriter":return FileWriter(e)
case"Blob":return Blob(e)
case"Element":return Element(e)
case"Person":return Person(e)
case"Item":return Item(e)
case"Colour":return Colour(e)
case"LinkedList":return LinkedList(e)
case"TreeNode":return TreeNode(e)
case"Node":return Node(e)
case"PathNode":return PathNode(e)
case"NTreeNode":return NTreeNode(e)
case"Set":return Set(e)
case"SortedSet":return SortedSet(e)
case"Stack":return Stack(e)
case"StackArray":return Stack(e)
case"StackList":return StackList(e)
case"Queue":return Queue(e)
case"QueueArray":return QueueArray(e)
case"QueueList":return QueueList(e)
case"Shape":return Shape(e)
case"Box":return Box(e)
case"AABB":return AABB(e)
case"Circ":return Circ(e)
case"Pt":return Pt(e)
case"Line":return Line(e)
case"Vector":return Vector(e)
case"Polygon":return Polygon(e)
case"database":return database(e)
case"process":return process(e)
case"server":return server(e)
case"Archive":return Archive(e)
case"Machine":return Machine(e)
case"Memory":return Memory(e)
case"WebPage":return WebPage(e)
case"WebApp":return WebApp(e)
case"virtualHistory":return virtualHistory(e)
case"Editor":return Editor(e)
case"Preview":return Preview(e)
case"Debugger":return Debugger(e)
case"Parser":return Parser(e)
case"Toolbar":return Toolbar(e)
case"IDE":return IDE(e)
case"Template":return Template(e)
case"Stream":return Stream(e)
case"MultiStream":return MultiStream(e)
default:return t}}function Permutation(t){console.log("data="+t),console.log("->"+t.get(-1))
var e=[t]
return e.append(t.length>1?Permutation(t.get(-1)):t),console.log("perm="+e),e}function stup(t){for(alert("You have 10s to type something !"),Sys["in"].recording=!0,Sys["in"].data=[],setTimeout(function(){return Sys["in"].recording=!1,alert("Stop !!"),t&&t(Sys["in"].data.join("")),Sys["in"].data.join("")},1e4);(0===Sys["in"].data.length||$G.las)&&Sys["in"].recording;);return Sys["in"].data.join("")}function loadBar(t,e,i){t||(t="#dlb"),Essence.addCSS(t+" {border: none;background: #0F0;max-width: 200px;text-align: center;font-size: 28px;padding: 2px;}#bar {border: 1px ridge #CCC;text-align: center;width: 201px;});"),i||(i=30),$e(t).setCSS("position","relative"),$e(t).setCSS("width",$e(t).css("width")+$G.i),$e(t).write($G.i+"%"),$G.i++,$G.timer=setTimeout("loadBar("+t+", "+e+", "+i+")",i),$G.i>=100&&(clearTimeout($G.timer),$G.i=0,$e(t).write("Download finished"),e())}function binaryCases(t){var e=parseInt("1".repeat(t)),i=[],r=0
do i.push(conv(r++,10,2))
while(r<=conv(e))
return i}function truthTable(exp){for(var ascii=asciiTable("a-z"),vars=[],rows,res=[],i=0;i<ascii.length;i++)exp.indexOf(ascii[i])>-1&&vars.push(ascii[i])
for(Essence.say("variables: "+vars.toStr(!0),"info"),rows=binaryCases(vars.length),i=0;i<rows.length;i++){for(var cexp=exp,j=0;j<vars.length;j++)cexp=cexp.multiReplace([[vars[j],rows[i][j]]])
Essence.say("current exp: "+cexp,"info"),res.push(eval(cexp))}return[vars,rows,res]}function getDNF(t){var e=(truthTable(t),"")
return e}function getCNF(t){var e=(truthTable(t),"")
return e}function EventTable(t,e){return this.name=t||"Event table",this.sources=e||[getFilename(!0)],this.table=[["Source","Event","Timestamp"]],this.add=function(t){this.table.push([t.source||getFilename(!0),t.event,t.timestamp||(new Date).getTime()]),this.sources.uniquePush(t.source||getFilename(!0))},this.make=function(t,e){var i=(new Date).getTime()
e||(e=1)
for(var r=0;(t||1e3)>r;r+=e)this.add({timestamp:i+r})},this.fill=function(t,e){var i=(new Date).getTime(),r=lookfor(i,this.table);-1===r&&i>this.table.last()[2]?this.add({source:t,event:e,timestamp:i}):(this.table[r[0]][0]=t,this.table[r[0]][1]=e)},this.getCleanTable=function(){for(var t=[],e=0;e<this.table.length;e++)isNon(this.table[e][1])||t.push(this.table[e])
return t},this.lookAt=function(t){var e=lookfor(t||(new Date).getTime(),this.table)[0]
return"'"+this.table[e][1]+"' at "+this.table[e][0]},this}var Essence={version:"1.0b",author:"Maximilian Berkmann",description:"library used for DHTML connexions, maths, database management and cryptography",source:document.URL.indexOf("essence.min.js")>-1?"https://Www.dropbox.com/s/1prjdvv9ku0ga92/essence.min.js?dl=0":"https://Www.dropbox.com/s/n2sz2mxz5zwc05t/essence.js?dl=0",element:$n,handleError:function(t,e,i){getType(t,"Error")?alert("[Essence.js] An error has occurred (line/column "+t.lineNumber+"/"+t.columnNumber+" of "+t.fileName+").\n\nMessage: "+t.stack):alert("[Essence.js] An error has occurred (line "+i+" of "+e+").\n\nMessage: "+t)},say:function(t,e,i,r){e=isNon(e)?"":e.slice(0,4).toLowerCase(),i&&!r?"info"===e?console.info("%c[Essence.js]%c "+t,"color: #00f; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i):"erro"===e?console.error("%c[Essence.js]%c "+t,"color: #f00; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i):"warn"===e?console.warn("%c[Essence.js]%c "+t,"color: #fc0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i):"succ"===e?console.log("%c[Essence.js]%c "+t,"color: #0f0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i):console.log("%c[Essence.js]%c "+t,"color: #808080; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i):r&&r?"info"===e?console.info("%c[Essence.js]%c "+t,"color: #00f; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i,r):"erro"===e?console.error("%c[Essence.js]%c "+t,"color: #f00; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i,r):"warn"===e?console.warn("%c[Essence.js]%c "+t,"color: #fc0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i,r):"succ"===e?console.log("%c[Essence.js]%c "+t,"color: #0f0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i,r):console.log("%c[Essence.js]%c "+t,"color: #808080; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",i,r):"info"===e?console.info("%c[Essence.js]%c "+t,"color: #00f; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000"):"erro"===e?console.error("%c[Essence.js]%c "+t,"color: #f00; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000"):"warn"===e?console.warn("%c[Essence.js]%c "+t,"color: #fc0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000"):"succ"===e?console.log("%c[Essence.js]%c "+t,"color: #0f0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000"):console.log("%c[Essence.js]%c "+t,"color: #808080; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000")},css:"@charset:'UTF-8';*{font-family:Calibrie,Verdana,sans-serif}body{height:100%;width:auto;padding:0}table{background:#000}table,td,th{border:1px solid #000;color:#000;background:#fff;border-collapse:collapsed}tr:nth-child(even) td{background:#ddd}.none,.none td,.none th{border:none}tr:hover td{background:#888}.inf{color:#008}.succ{color:#0f0}.err{color:#f00}.quest{color:#00f}.warn{color:#fc0}.info{border-color:#008;background-color:#00008f}.success{border-color:#080;background-color:#008f00}.error{border-color:#800;background-color:#8f0000}.question{border-color:#00f;background-color:#0000f8}.warning{border-color:#f8c808;background-color:#fc0}.block{color:#fff;background:repeat 0 center;border:1px solid;-webkit-appearance:none;outline:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;height:1.1em;line-height:200%;white-space:nowrap;min-height:16px;position:relative;margin:2px;padding:.3em 2px;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;border-radius:7px;-webkit-border-radius:7px;-moz-border-radius:7px}.icon{width:64px;height:64px;border:none;margin:2px}kbd{border:3px outset #ccc;background:#ccc;border-radius:5px;-webkit-border-radius:7px;-moz-border-radius:7px;padding:2px;font-family:Consolas,Tahoma,Segoe UI}h1.title{text-decoration:underline}h2{color:#088}h3{color:#0ff}.code-tag,.code-inst{color:#00f}.code-cmt{color:#0f0}.code-str,.code-id{color:#00c0c0}.code-num,.code-class{color:#f00}.code-attr{color:#c00}.code-val{color:#fc0}.code-type{color:#800080}.code-doc,.code-op{color:#0ff}.code-var{color:#0000c0}.code-keyword{color:#f0f}.nocss{margin:auto;padding:auto;text-align:left;z-index:auto;background:transparent;border:none;border-radius:0;box-shadow:none;clear:none;color:inherit;float:none;content:normal;width:auto;height:auto;letter-spacing:normal;line-height:normal;max-width:none;max-height:none;min-width:0;min-height:0;opacity:1;overflow:visible;page-break-inside:auto;position:static;text-shadow:none;text-transform:none;transform:none;transition:none;vertical-align:baseline;visibility:visible;white-space:normal;word-spacing:normal}",applyCSS:function(){if(isNon($n("style"))||$e("style").isEmpty()?$e("head").write($n("head").outerHTML+"<style type = 'text/css'>"+Essence.css+"</style>",!0):$n("style").innerHTML+=Essence.css,$e("html").val(!0).indexOf("<body></body>")>-1){var t=$e("html").val(!0).indexOf("<body></body>"),e=$e("html").val(!0).slice(0,t),i=$e("html").val(!0).slice(t+13,$e("html").val(!0).length)
$e("html").write(e+i,!0)}},addCSS:function(t){var e=document.createElement("style")
e.innerText=t,$n("head").appendChild(e)},addJS:function(t){var e=document.createElement("script")
e.innerText=t,$n("head").appendChild(e)},update:function(){for(var t=$e(" * script"),e=0;e<t.length;e++)(t[e].src.indexOf("essence.js")>-1||t[e].src.indexOf("essence.min.js")>-1)&&(t[e].src=this.source||Essence.source)
Essence.say("%cEssence.(min).js%c has been updated","succ","text-decoration: underline","text-decoration: none")},eps:Math.pow(2,-52),emptyDoc:function(t,e){$e("html").write("<head><title>"+(t||document.title)+"</title><meta charset = 'UTF-8' /><meta name = 'author' content = "+(e||"unknown")+" /><script type = 'text/javascript' src = "+Essence.source+"></script></head><body></body>",!0)},editor:function(t){location.href="data:text/html, <html contenteditable>"+(t?t+"</html>":"</html>")},processList:[["Name (signature)","Author","Size"]],global:$G,addProcess:function(t){t.update(),Essence.processList.push([t.name+" ("+t.sig+")",t.author,t.bitsize]),t.id=Essence.processList.length-1,Essence.processSize+=t.bitsize},processSize:0,erverList:[["Name","Author","Maximum size"]],addServer:function(t){t.update(),Essence.serverList.push([t.name,t.author,t.maxsize]),Essence.serverSize+=t.maxsize},serverSize:0,toString:function(){return"[object Essence]"},txt2print:"",addToPrinter:function(t,e){t.indexOf("\n\r")>-1?this.print(t,e):this.txt2print+=t},print:function(t,e){t&&(this.txt2print+=t),this.txt2print=this.txt2print.split("\b")
for(var i=0;i<this.txt2print.length;i++)this.say(this.txt2print[i],e)
this.txt2print=""},preInit:function(){$G.t1=1e3*$G.t1.getSeconds()+$G.t1.getMilliseconds()},init:function(){$G.t2=new Date,$G.t2=1e3*$G.t2.getSeconds()+$G.t2.getMilliseconds(),$G.t=$G.t2-$G.t1>1e3?($G.t2-$G.t1)/1e3+"s":$G.t2-$G.t1+"ms",Essence.say("Page loaded in %c"+$G.t+"%c","succ","font-style: italic","font-style: none")},time:function(t,e,i){console.log("[%c"+getTimestamp(!0)+"%c] "+t,"color: #f00;","color: #000;",e,i)},sayClr:function(t){4===t.length?console.log("%cr%cg%cb%ca(%c"+t.join(", %c")+"%c)","color: #f00","color: #0f0","color: #00f","color: #00f","color: #000","color: #f00","color: #0f0","color: #00f","color: #00f","color: #000"):console.log("%cr%cg%cb%c(%c"+t.join(", %c")+"%c)","color: #f00","color: #0f0","color: #00f","color: #00f","color: #000","color: #f00","color: #0f0","color: #00f","color: #00f","color: #000")},ask:function(t,e){for(Sys["in"].recording=!0,Essence.say((t||"Is there a problem")+" ? (please type in the window and not the console)","quest");96!=$G.lastKeyPair[1]&&10!=$G.lastKeyPair[1];);return alert("OUT !!"),Sys["in"].recording=!1,e&&e(Sys["in"].data.join("")),Sys["in"].data.join("")}},$G={t1:new Date,t2:0,t:null,lastKeyPair:[]},$e=function(t){return new Element(t)}
Object.prototype.hasName=function(){return void 0!==this.name||void 0!==this.title},Object.prototype.getName=function(){return void 0!==this.name?this.name:this.title},Object.prototype.count=function(t){for(var e=0,i=0;i<this.length;i++)this[i]===t&&e++
return e},Object.prototype.positions=function(t){for(var e=[],i=0;i<this.length;i++)this[i]===t&&e.push(i)
return e},Object.prototype.isIterable=function(){return isType(this,"String")||isType(this,"Array")||isType(this,"Object")},Object.prototype["delete"]=function(){this.property_=null},Object.prototype.equals=function(t){return this.toString()===t.toString()||this.toLocaleString()===t.toLocaleString()},Object.prototype.multiReplace=function(t){for(var e=this.replace(t[0][0],t[0][1]),i=0;i<t.length;i++)e=e.replace(t[i][0],t[i][1])
return e},Object.prototype.toArray=function(){var t=[]
for(var e in this)this.hasOwnProperty(e)&&t.push(this[e])
return t},Object.prototype.compareTo=function(t){return getType(this)!=getType(t)?!1:"Object"===getType(this)&&getCustomType(this)===getCustomType(t)||getType(this)===getType(t)?this.equals(t)?0:this.toString()<t.toString()||this.toLocaleString()<t.toLocaleString()?-1:1:void 0},Array.prototype.first=function(t){return isNon(t)?this[0]:this[0]=t},Array.prototype.last=function(t){return isNon(t)?this[this.length-1]:this[this.length-1]=t},Array.prototype.lastIndex=function(){return this.length-1},Array.prototype.midIndex=function(t){return t?Math.floor(this.length/2)-1:Math.floor(this.length/2)},Array.prototype.even=function(){for(var t=[],e=0;e<this.length;e+=2)t.push(this[e])
return t},Array.prototype.odd=function(){for(var t=[],e=1;e<this.length;e+=2)t.push(this[e])
return t},Array.prototype.max=function(t,e){var i=this[t||0]
if(!t&&!e||0===t&&e>=this.length-1)for(var r=1;r<this.length;r++)i=Math.max(i,this[r])
else if(t&&!e)for(r=t+1;r<this.length;r++)i=Math.max(i,this[r])
else for(r=t+1;e>=r;r++)i=Math.max(i,this[r])
return i},Array.prototype.median=function(t){var e=this.sort(function(t,e){return t-e}),i=Math.floor(e.length/2)
return e.length%2?t?e[i]=t:e[i]:(e[i-1]+e[i])/2},Array.prototype.min=function(t,e){var i=this[t||0]
if(!t&&!e||0===t&&e>=this.length-1)for(var r=1;r<this.length;r++)i=Math.min(i,this[r])
else if(t&&!e)for(r=t+1;r<this.length;r++)i=Math.min(i,this[r])
else for(r=t+1;e>=r;r++)i=Math.min(i,this[r])
return i},Array.prototype.shuffle=function(t){for(var e=0;e<(t||this.length);e++)swap(this,randTo(this.length-1),randTo(this.length-1))},Array.prototype.maxLength=function(){for(var t=0,e=0;e<this.length;e++)t=Math.max(t,this[e].length)
return t},Array.prototype.minLength=function(){for(var t=this[0].length,e=0;e<this.length;e++)t=Math.min(t,this[e].length)
return t},Array.prototype.Fill2D=function(t){return this.fill(new Array(this.length).fill(t))},Array.prototype.remove=function(t){var e=this
if(isType(t,"Array")){for(var i=0;i<t.length;i++)e=e.remove(t[i])
return e}for(i=0;i<this.length;i++)e[i]===t&&(e=e.slice(0,i).concat(e.slice(i+1,e.length)))
if(e=e.map(function(e){return e===t?void 0:e}),-1!=e.indexOf(void 0)&&e.length>0){var r=[]
for(i=0;i<e.length;i++)void 0!==e[i]&&r.push(isType(e[i],"Number")?parseFloat(e[i]):e[i])
e=r}return e},Array.prototype.debug=function(){Essence.say("%cDebugging the following array:%c "+this,"text-decoration: bold","text-decoration: none")
for(var t=0;t<this.length;t++)Essence.say(t+": "+this[t])},Array.prototype.getOccurrences=function(t){for(var e=rmDuplicates(this),i=[],r=0;r<e.length;r++)i.push(e[r]+":"+this.count(e[r])+"{"+this.positions(e[r]).toStr(!0)+"}")
if(t)for(r=0;r<i.length;r++)i[r]=parseInt(i[r].replace(/(?:.*?):(\d+)\{(.*?)\}/g,"$1"))
return i},Array.prototype.replace=function(t,e,i){for(var r=0;r<this.length;r++)(this[r]===t||isType(t,"RegExp")&&t.test(this[r]))&&(this[r]=e)
return i?this.toString():this},Array.prototype.sum=function(t,e){var i=0
if(!t&&!e||0===t&&e>=this.length-1)for(var r=0;r<this.length;r++)i+=this[r]
else if(t&&!e)for(r=t;r<this.length;r++)i+=this[r]
else for(r=t;e>=r;r++)i+=this[r]
return i},Array.prototype.prod=function(t,e){var i=0
if(!t&&!e||0===t&&e>=this.length-1)for(var r=0;r<this.length;r++)i*=this[r]
else if(t&&!e)for(r=t;r<this.length;r++)i*=this[r]
else for(r=t;e>=r;r++)i*=this[r]
return i},Array.prototype.sum2d=function(t,e){var i=0
if(!t&&!e||0===t&&e>=this.length-1)for(var r=0;r<this.length;r++)for(var n=0;n<this[r].length;n++)i+=this[r][n]
else if(t&&!e)for(r=t[0];r<this.length;r++)for(n=t[1];n<this[r].length;n++)i+=this[r][n]
else for(r=t[0];r<e[0];r++)for(n=t[1];n<e[1];n++)i+=this[r][n]
return i},Array.prototype.mean=function(t,e,i){e||(e=0),i||(i=this.lastIndex())
var r=this.sum(e,i)
return(r/(this.length-e)).toNDec(t)+0},Array.prototype.avg=function(t,e,i){e||(e=0),i||(i=this.lastIndex())
var r=this.sum(e,i)-this.slice(e,i+1).max()-this.slice(e,i+1).min()
return(r/(this.length-2-e)).toNDec(t)+0},Array.prototype.variance=function(t){return(sumPow2(this,t)/this.length-Math.pow(this.mean(t),2)).toNDec(t)},Array.prototype.stddev=function(t){var e=Math.sqrt(this.variance(t))
return e.toNDec(t)},Array.prototype.rand=function(t){if(t>0){for(var e=[],i=0;t>i;i++)e.push(this.rand())
return e}return this[Math.floor(randTo(this.length-1)%this.length)]},Array.prototype.quartile=function(t,e){return this.length%2===0?((this[Math.floor(t*this.length/4)-1]+this[Math.floor(t*this.length/4)])/2).toNDec(e):this[Math.floor(t*this.length/4)].toNDec(e)},Array.prototype.quintile=function(t,e){return this.length%2===0?((this[Math.floor(t*this.length/5)-1]+this[Math.floor(t*this.length/5)])/2).toNDec(e):this[Math.floor(t*this.length/5)].toNDec(e)},Array.prototype.decile=function(t,e){return this.length%2===0?((this[Math.floor(t*this.length/10)-1]+this[Math.floor(t*this.length/10)])/2).toNDec(e):this[Math.floor(t*this.length/10)].toNDec(e)},Array.prototype.percentile=function(t,e){return this.length%2===0?((this[Math.floor(t*this.length/100)-1]+this[Math.floor(t*this.length/100)])/2).toNDec(e):this[Math.floor(t*this.length/100)].toNDec(e)},Array.prototype.getIncrement=function(t){return 0==t?parseInt((this.max()-this.min())/(this.length-1)):((this.max()-this.min())/(this.length-1)).toNDec(t)},Array.prototype.increment=function(t){for(var e=0;e<this.length;e++)this[e]+=t||1},Array.prototype.iqr=function(t){return this.quartile(3,t)-this.quartile(1,t).toNDec(t)},Array.prototype.get=function(t,e){var i=[]
0>t&&!e&&(e=t,t=0),0>e&&(e=this.length+e-1)
for(var r=t||0;r<=(e||this.length-1);r++)i.push(this[r])
return i.remove()},Array.prototype.quickSort=function(t,e){t||e||(t=0,e=this.lastIndex())
var i
if(this.length>1){var r=this[Math.floor((e+t)/2)],n=e
for(i=t;n>=i;){for(;this[i]<r;)i++
for(;this[n]>r;)n--
n>=i&&(swap(this,i,n),i++,n--)}i-1>t&&this.quickSort(t,i-1),e>i&&this.quickSort(i,e)}return this},Array.prototype.revSort=function(t,e){t||e||(t=0,e=this.lastIndex())
var i
if(this.length>1){var r=this[Math.floor((e+t)/2)],n=e
for(i=t;n>=i;){for(;this[i]>r;)i++
for(;this[n]<r;)n--
n>=i&&(swap(this,i,n),i++,n--)}t>i-1&&this.revSort(t,i-1),i>e&&this.revSort(i,e)}return this},Array.prototype.bubbleSort=function(t){var e=this,i=1,r=!0
if(isNon(t)||isType(t,"string")&&"a"===t[0].toLowerCase())for(;r;){r=!1
for(var n=0;n<=e.length-i;n++)e[n]>e[n+1]&&(e=swap(e,n,n+1),r=!0),n<e.length-(i+1)&&(e[n]>e[n+2]&&(e=swap(e,n,n+2)),e[n+1]>e[n+2]&&(e=swap(e,n+1,n+2),r=!0)),n<e.length-(i+2)&&(e[n]>e[n+3]&&(e=swap(e,n,n+3)),e[n+1]>e[n+3]&&(e=swap(e,n+1,n+3)))
i++}else if(1===t||isType(t,"string")&&"d"===t[0].toLowerCase())for(;r;){for(r=!1,n=0;n<=e.length-i;n++)e[n]<e[n+1]&&(e=swap(e,n,n+1),r=!0),n<e.length-(i+1)&&(e[n]<e[n+2]&&(e=swap(e,n,n+2)),e[n+1]<e[n+2]&&(e=swap(e,n+1,n+2),r=!0)),n<e.length-(i+2)&&(e[n]<e[n+3]&&(e=swap(e,n,n+3)),e[n+1]<e[n+3]&&(e=swap(e,n+1,n+3)))
i++}return e},Array.prototype.bruteForceSort=function(){for(var t=0;t<this.length;t++){for(var e=this[t],i=t,r=t+1;r<=this.length;r++)e>this[r]&&(e=this[r],i=r)
var n=this[t]
this[t]=e,this[i]=n}return this},Array.prototype.maxSort=function(){var t=this.min(),e=this.median(),i=this.max(),r=new Array(this.length),n=this.getIncrement(3),s=this.quartile(1),o=this.quartile(3)
r[0]=t,r[r.length-1]=i,parseInt(r.length/2)===r.length/2&&(r[r.length/2]=e),parseInt(r.length/4)===r.length/4&&(r[r.length/4]=s),parseInt(3*r.length/4)===3*r.length/4&&(r[3*r.length/4]=o)
for(var a=1;a<this.length-1;a++)this[a]===Math.floor(r[0]+a*n)?r[a]=this[a]:this[a]===Math.round(r[0]+a*n)?r[a]=this[a]:this[a]==Math.ceil(r[0]+a*n)?r[a]=this[a]:this[a]>=Math.floor(r[0]+a*n)&&this[a]<=Math.ceil(r[0]+a*n)&&(r[a]=this[a])
for(console.log("current result: "+r.toStr(!0)),a=this.length-1;a>1;a--)this[a]===Math.floor(r[r.length-1]-a*n)&&isNon(r[a])?r[a]=this[a]:this[a]===Math.round(r[r.length-1]-a*n)&&isNon(r[a])?r[a]=this[a]:this[a]===Math.ceil(r[r.length-1]+a*n)&&isNon(r[a])?r[a]=this[a]:this[a]>=Math.floor(r[r.length-1]+a*n)&&this[a]<=Math.ceil(r[0]+a*n)&&isNon(r[a])&&(r[a]=this[a])
for(console.log("current result: "+r.toStr(!0)),a=1;a<this.length-1;a++)for(var h=0;h<this.length;h++)this[h]===Math.floor(r[0]+a*n)?r[a]=this[h]:this[h]===Math.round(r[0]+a*n)?r[a]=this[h]:this[h]===Math.ceil(r[0]+a*n)?r[a]=this[h]:this[h]>=Math.floor(r[0]+a*n)&&this[h]<=Math.ceil(r[0]+a*n)&&(r[a]=this[h])
return r},Array.prototype.cenSort=function(t,e){var i=new Array(this.length)
if(t||e||(t=Math.floor(this.length/2),e=Math.ceil(this.length/2)),this.length<=1)return this
for(var r=this[Math.floor((e+t)/2)],n=e,s=t;n>=s;){for(;this[s]<r;)s--
for(;this[n]>r;)n++
s>=n&&(swap(this,s,n),s--,n++)}return t>s-1&&this.cenSort(t,s-1),s>e&&this.cenSort(s,e),i},Array.prototype.setSort=function(){for(var t=[],e=this.length,i=[],r=0;1e3>r;r++)t[r]=0
for(r=0;e>r;r++)t[this[r]]=1
for(r=0;1e3>r;r++)1===t[r]&&i.push(r)
return i},Array.prototype.clean=function(t){for(var e=[],i=0,r=0;r<this.length;r++)isNon(this[r])||(e[i++]=this[r])
return t?rmDuplicates(e).remove(void 0):e},Array.prototype.xclean=function(){return this.clean(!0).remove([void 0,"undefined",null,"null"])},Array.prototype.chg=function(t,e,i){e=e||0,i=i||this.length-1
for(var r=this.get(e,i),n=t.get(e,i),s=0;s<r.length;s++)r[s]=n[s]
return r},Array.prototype.exchange=function(t,e,i){e=e||0,i=i||this.length-1
for(var r=this.get(e,i),n=t.get(e,i),s=0;s<r.length;s++){var o=r[s]
r[s]=n[s],n[s]=o}return r},Array.prototype.rot=function(t){var e
if(t%90!=0)throw new Error("The absolute degree of rotation must be either 90° or 180°")
if(4===this.numElm()&&2===this.length)90===t?(e=this[0][0],this[0][0]=this[1][0],this[1][0]=this[1][1],this[1][1]=this[0][1],this[0][1]=e):-90===t?(e=this[0][0],this[0][0]=this[0][1],this[0][1]=this[1][1],this[1][1]=this[1][0],this[1][0]=e):180===Math.abs(t)&&(e=[this[0][0],this[0][1]],this[0][0]=this[1][1],this[1][1]=e[0],this[0][1]=this[1][0],this[1][0]=e[1])
else if(9===this.numElm()&&3===this.length)90===t?(e=[this[0][0],this[0][1]],this[0][0]=this[2][0],this[2][0]=this[2][2],this[2][2]=this[0][2],this[0][2]=e[0],this[0][1]=this[1][0],this[1][0]=this[2][1],this[2][1]=this[1][2],this[1][2]=e[1]):-90==t?(e=[this[0][0],this[0][1]],this[0][0]=this[0][2],this[0][2]=this[2][2],this[2][2]=this[2][0],this[2][0]=e[0],this[0][1]=this[1][2],this[1][2]=this[2][1],this[2][1]=this[1][0],this[1][0]=e[1]):180===Math.abs(t)&&(e=[this[0][0],this[0][1],this[0][2],this[1][0]],this[0][0]=this[2][2],this[2][2]=e[0],this[0][2]=this[2][0],this[2][0]=e[2],this[0][1]=this[2][1],this[2][1]=e[1],this[1][0]=this[1][2],this[1][2]=e[3])
else{if(16!==this.numElm()||4!==this.length)throw"Unsupported matrix. Please wait or contact the developer to add this matrix' support."
if(90===t){e=this[0].get(-1)
for(var i=0;1>i;i++){e=this[i].get(-1)
for(var r=0;r<this.maxLength()-1;r++)i>0&&Essence.say("#"+r),i>0&&Essence.say(this[i][r]+"<-"+this[this.length-1-r][i]),this[i][r]=this[this.length-1-r][i],i>0&&Essence.say(this[this.length-1-r][i]+"<-"+this[this.length-1-i][this.length-1-r]),this[this.length-1-r][i]=this[this.length-1-i][this.length-1-r],i>0&&Essence.say(this[this.length-1-i][this.length-1-r]+"<-"+this[r][this.length-1-i]),this[this.length-1-i][this.length-1-r]=this[r][this.length-1-i],i>0&&Essence.say(this[r][this.length-1-i]+"<-"+e[r]),this[r][this.length-1-i]=e[r]}}else-90===t?(e=[this[0][0],this[0][1]],this[0][0]=this[0].last(),this[0].last(this.last().last()),this.last().last(this.last()[0]),this.last()[0]=e[0],this[0][1]=this[1].last(),this[1].last(this.last()[1]),this.last()[1]=this[1][0],this[1][0]=e[1]):180===Math.abs(t)&&(e=[this[0][0],this[0][1],this[0].last(),this[1][0]],this[0][0]=this.last().last(),this.last().last(e[0]),this[0].last(this.last()[0]),this.last()[0]=e.last(),this[0][1]=this.last()[1],this.last()[1]=e[1],this[1][0]=this[1].last(),this[1].last(e[3]))}return this},Array.prototype.numElm=function(){return this.linearise().length},Array.prototype.size=function(t){return t?this.length+"x"+this.maxLength():[this.length,this.maxLength()]},Array.prototype.det=function(){var t=0
return 4===this.numElm()&&2===this.length?t=this[0][0]*this[1][1]-this[0][1]*this[1][0]:9===this.numElm()&&3===this.length?t=this[0][0]*(this[1][1]*this.last().last()-this[1].last()*this.last()[1])-this[0][1]*(this[1][0]*this.last().last()-this[1].last()*this.last()[0])+this[0].last()*(this[1][0]*this.last()[1]-this[1][1]*this.last()[0]):Essence.say("Unsupported matrix format","error"),t},Array.prototype.translate=function(){for(var t=0;t<Math.round(this.length/2);t++)for(var e=0;e<this[0].length;e++)if(!(1===t&&0===e&&this[0].length>2)){var i=this[t][e]
this[t][e]=this[e][t],this[e][t]=i}if("4x4"===this.size(!0)){var r=this[2].last()
this[2].last(this.last()[2]),this.last()[2]=r}return this},Array.prototype.lookFor=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e
return-1},Array.prototype.divide=function(t){for(var e=new Array(Math.round(this.length/t)).fill(""),i=0,r=0;r<e.length;r++)for(var n=0;t>n;n++)e[r]+=this[i++]
return e},Array.prototype.getAdjoint=function(){var t=this.translate(),e=mkArray(this.length,2,Essence.eps)
return 4===t.numElm()&&2===t.length?(e[0]=[t[1][1],-t[1][0]],e[1]=[-t[0][1],t[0][1]]):9===t.numElm()&&3===t.length?(e[0]=[t[1][1]*t.last().last()-t[1].last()*t.last()[1],-(t[1][0]*t.last().last()-t[1].last()*t.last()[0]),t[1][0]*t.last()[1]-t[1][1]*t.last()[0]],e[1]=[-(t[0][1]*t[1].last()-t[0].last()*t[1][1]),t[0][0]*t.last().last()-t[0].last()*t.last()[0],-(t[0][0]*t.last()[1]-t[0][1]*t.last()[0])],e.last([t[0][1]*t[1].last()-t[0].last()*t[1][1],-(t[0][0]*t[1].last()-t[0].last()*t[1][0]),t[0][0]*t[1][1]-t[0][1]*t[1][0]])):Essence.say("Unsupported matrix format","error"),e},Array.prototype.isInversible=function(){return 0!=this.det()},Array.prototype.dotProd=function(t){for(var e=[],i=0;i<this.length;i++){e[i]=[]
for(var r=0;r<this[i].length;r++)e[i][r]=t*this[i][r]}return e},Array.prototype.dotAdd=function(t){for(var e=[],i=0;i<this.length;i++){e[i]=[]
for(var r=0;r<this[i].length;r++)e[i][r]=t+this[i][r]}return e},Array.prototype.dotSub=function(t,e){var i=[]
e=e.toLowerCase().remove(" ")
for(var r=0;r<this.length;r++){i[r]=[]
for(var n=0;n<this[r].length;n++)i[r][n]="a-b"===e?t-this[r][n]:this[r][n]-t}return i},Array.prototype.dotFrac=function(t,e){var i=[]
e=e.toLowerCase().remove(" ")
for(var r=0;r<this.length;r++){i[r]=[]
for(var n=0;n<this[r].length;n++)i[r][n]="a/b"===e?t/this[r][n]:this[r][n]/t}return i},Array.prototype.toStr=function(t){var e=""
if(is2dArray(this)){for(var i in this)this.hasOwnProperty(i)&&(e+=t?this[i].join(", "):this[i].join(""))
return t?this.toStr().split("").join(", "):e}return this.join(t?", ":"")},Array.prototype.toInt=function(){var t=0
for(var e in this)this.hasOwnProperty(e)&&(t+=this[e]*Math.pow(10,this.length-e-1))
return t},Array.prototype.inv=function(){return this.isInvertible()?this.dotProd(1/this.det(),this.getAdjoint()):!1},Array.prototype.mix=function(){for(var t=mixedRange(0,1,this.length-1),e=[],i=0;i<this.length;i++)e[i]=this[t[i]]
return e},Array.prototype.littleMix=function(){var t,e=[]
if(is2dArray(this))e=copy(this).linearise(),e=e.littleMix().toNcol(this.size()[1]).sanitise(getType(this[0][0]))
else{t=this.getIncrement(0)
for(var i=0;i<this.length;i++){var r=randTo(t)
e.push(this[i]),i>0&&0===r?swap(e,i,i-1):i>1&&r===t&&swap(e,i,i-2)}}return e},Array.prototype.append=function(t){for(var e=0;e<t.length;e++)this.push(t[e])},Array.prototype.preppend=function(t){for(var e=0;e<t.length;e++)this.unshift(t[e])},Array.prototype.unique=function(){for(var t=[],e=0;e<this.length;e++)1===this.count(this[e])&&t.push(this[e])
return t},Array.prototype.to1d=function(t){for(var e=this,i=0;i<e.length;i++)e[i]=e[i].join(t||"")
return e},Array.prototype.toNd=function(t){t||(t=2)
for(var e=nthroot(this.length,t,0),i=[],r=0,n=0;e>n;n++){i[n]=[]
for(var s=0;e>s;s++)i[n][s]=this[r++]}return i},Array.prototype.toNcol=function(t){for(var e=[],i=0,r=0;r<this.length/t;r++){e[r]=[]
for(var n=0;t>n;n++)e[r][n]=this[i++]}return e},Array.prototype.toNrow=function(t){for(var e=[],i=0,r=0;t>r;r++){e[r]=[]
for(var n=0;n<this.length/t;n++)e[r][n]=this[i++]}return e},Array.prototype.linearise=function(){return this.toString().split(",")},Array.prototype.uniform=function(t){for(var e=this,i=e.maxLength(),r=0;r<e.length;r++)for(;e[r].length<i;)isType(e[r],"Array")?e[r].push(t||" "):e[r]+=t||" "
return e},Array.prototype.zip=function(){for(var t,e=[],i=0;i<this.length;i++)if(this[i]===this[i+1]){for(t=1;this[i]===this[i+t];)t++
e.push(this[i]+"@"+t),i+=t-1}else e.push(this[i])
return e.length<this.length?e:this},Array.prototype.unzip=function(t){for(var e=[],i=0;i<this.length;i++)/[\S\s](\@)(\d + )/g.test(this[i])?e.push(this[i][0].repeat(this[i][this[i].indexOf("@")+1])):e.push(this[i])
return t?e.join("").split(""):e},Array.prototype.trimAll=function(t){var e=[]
t=t?t[0].toLowerCase():""
for(var i=0;i<this.length;i++)e[i]="l"===t?this[i].trimLeft():"r"===t?this[i].trimRight():this[i].trim()
return e},Array.prototype.isSorted=function(){if(this[0]>this[1])return!1
for(var t=1;t<this.length;t++)if(this[t]>this[t+1])return!1
return!0},Array.prototype.uniquePush=function(t){if(isType(t,"Array"))for(var e=0;e<t.length;e++)-1===this.indexOf(t[e])&&this.push(t[e])
else if(this.indexOf(t)>-1)throw"the object "+t.toString()+"is already present in "+this.toString()},Array.prototype.replaceAll=function(t,e){for(var i=this.replace(t,e),r=0;i.indexOf(t)>-1||r===this.length;)i=this.replace(t,e),r++
return i},Array.prototype.neighbour=function(t,e){var i,r=[]
if(isType(t,"Array")?(e=parseInt(t[1]),t=parseInt(t[0])):(t=parseInt(t),e=parseInt(e)),t>=this.length)throw new RangeError("The y-coord is out of bounds")
if(e>=this.maxLength())throw new RangeError("The x-coord is out of bounds")
if(is2dArray(this)){i=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]]
for(var n=0;n<i.length;n++)try{isNon(this[t+i[n][0]][e+i[n][1]])||r.push(this[t+i[n][0]][e+i[n][1]])}catch(s){}}else try{isNon(this[t-1])||r.push(this[t-1]),isNon(this[t+1])||r.push(this[t+1])}catch(s){}return r},Array.prototype.sanitise=function(t){for(var e=0;e<this.length;e++)for(var i=0;i<this[e].length;i++)this[e][i]=name2Type(t,this[e][i])
return this},String.prototype.remove=function(t){var e=this
if(!isType(t,"Array")){var i=e.split(t).map(function(e){return e===t?void 0:e}).join("")
return-1!=i.indexOf(void 0)?e.remove():i}for(var r in t)e=e.remove(r)},String.prototype.toNDigits=function(t){var e=this
if(t=t||2,parseFloat(e)<Math.pow(10,t-1))for(;e.split(".")[0].length<t;)e="0"+e
return e},String.prototype.mix=function(t,e){t=isNon(t)?"":t,e=e?e:t
for(var i=mixedRange(0,1,this.length-1),r=this.split(t),n=[],s=0;s<this.length;s++)n[s]=r[i[s]]
return n.join(e)},String.prototype.divide=function(t){for(var e=new Array(Math.round(this.length/t)).fill(""),i=0,r=0;r<e.length;r++)for(var n=0;t>n;n++)e[r]+=this[i++]
return e},String.prototype.capitalize=function(t){var e=this.toString()
if(t){for(var i=e.split(" "),r=0;r<i.length;r++)i[r]=i[r].capitalize()
return i.join(" ")}return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.sum=function(){for(var t=0,e=0;e<this.length;e++)t+=this.charCodeAt(e)
return t},String.prototype.prod=function(){for(var t=1,e=0;e<this.length;e++)t*=this.charCodeAt(e)
return t},String.prototype.mean=function(){for(var t=[],e=0;e<this.length;e++)t[e]=this.charCodeAt(e)
return t.mean(2)},String.prototype.normal=function(){return this.toLowerCase().remove(" ")},String.prototype.getOccurrences=Array.prototype.getOccurrences,String.prototype.get=function(t,e){var i=""
0>t&&!e&&(e=t,t=0),0>e&&(e=this.length+e-1)
for(var r=t||0;r<=(e||this.length-1);r++)i+=this[r]
return i},String.prototype.zip=function(){for(var t,e="",i=0;i<this.length;i++)if(this[i]===this[i+1]){for(t=1;this[i]===this[i+t];)t++
e+=this[i]+"@"+t,i+=t-1}else e+=this[i]
return e.length<this.length?e:this},String.prototype.unzip=function(t){for(var e="",i=0;i<this.length;i++)e+=/[\S\s](\@)(\d + )/g.test(this[i])?this[i][0].repeat(this[i][this[i].indexOf("@")+1]):this[i]
return t?e.split("").join(""):e},String.prototype.replaceAll=function(t,e,i){var r=i?this.split(i).replace(t,e):this.replace(t,e),n=0
if(""===i)return this.replace(RegExpify(t),e)
for(;r.indexOf(t)>-1||n===this.length;)r=this.replace(t,e),n++
return i?r.join(i):r},String.prototype.chunk=function(t,e){return this.split(" ").get(t,e).join(" ")},Number.prototype.length=function(){if(String(this).indexOf(".")>-1)return[parseInt(String(this).split(".")[0].length),parseInt(String(this).split(".")[1].length)]
for(var t=0,e=this;0!=Math.floor(e);)e/=10,t++
return t},Number.prototype.toNDec=function(t){var e=Math.pow(10,t||2)
return t?Math.round(e*this)/e:this},Number.prototype.toNDigits=function(t){var e=this+""
if(t=t||2,parseFloat(e)<Math.pow(10,t-1))for(;e.split(".")[0].length<t;)e="0"+e
return e},Number.prototype.sign=function(t){return t?0>this?"-":this>0?" + ":"":0>this?-1:this>0?1:0},Number.prototype.isPrime=function(t){for(var e=2;t>e;e++)if(primeCheck(e,t))return!1
return!0},Number.prototype.clean=function(t){return 0==this?0:this>0&&"+"==this[0]?t?this.slice(1,this.length).toNDec(t):this.slice(1,this.length):"-"==this?this+1:"+"==this?1:t?this.toNDec(t):this},Number.prototype.toArr=function(){for(var t=new Array(this.length()),e=0,i=this;i>0;)t[e]=i%10,e++,i/=10
return t},Function.prototype.inheritsFrom=function(t){return t.constructor===Function?(this.prototype=new t,this.prototype.constructor=this,this.prototype.parent=t.prototype):(this.prototype=t,this.prototype.constructor=this,this.prototype.parent=t),this}
var s2t=sec2time,toSec=toS
NTreeNode.inheritsFrom(TreeNode),SortedSet.inheritsFrom(Set),AABB.inheritsFrom(Shape),Circ.inheritsFrom(Shape),Pt.inheritsFrom(Shape),Line.inheritsFrom(Shape),Vector.inheritsFrom(Shape),Polygon.inheritsFrom(Shape)
var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(t){for(var e=0;e<t.length;e++){var i=t[e].string,r=t[e].prop
if(this.versionSearchString=t[e].versionSearch||t[e].identity,i){if(-1!=i.indexOf(t[e].subString))return t[e].identity}else if(r)return t[e].identity}},searchVersion:function(t){var e=t.indexOf(this.versionSearchString)
if(-1!=e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"Android",identity:"HTC/Samsung/LG"},{string:navigator.userAgent,subString:"BlackBerry",identity:"BlackBerry"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 + /",getbyte64:function(t,e){if(e=this.ALPHA.indexOf(t.charAt(e||0)),-1===e)throw"Cannot decode base64"
return e},decode:function(t){t+=""
var e,i,r,n=this.gb64,s=t.length
if(0===s)return t
if(s%4!=0)throw"Cannot decode base64"
e=0,t.charAt(s-1)===base64.PADCHAR&&(e=1,t.charAt(s-2)===base64.PADCHAR&&(e=2),s-=4)
var o=[]
for(i=0;s>i;i+=4)r=n(t,i)<<18|n(t,i+1)<<12|n(t,i+2)<<6|n(t,i+3),o.push(String.fromCharCode(r>>16,r>>8&255,255&r))
switch(e){case 1:r=n(t,i)<<18|n(t,i+1)<<12|n(t,i+2)<<6,o.push(String.fromCharCode(r>>16,r>>8&255))
break
case 2:r=n(t,i)<<18|n(t,i+1)<<12,o.push(String.fromCharCode(r>>16))}return o.join("")},getbyte:function(t,e){var i=t.charCodeAt(e||0)
if(i>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5"
return i},encode:function(t){if(1!=arguments.length)throw"SyntaxError: Only arguments please"
var e,i,r=this.PADCHAR,n=this.ALPHA,s=this.gb,o=[]
t+=""
var a=t.length-t.length%3
if(0===t.length)return t
for(e=0;a>e;e+=3)i=s(t,e)<<16||s(t,e+1)<<8||s(t,e+2),o.push(n.charAt(i>>18)),o.push(n.charAt(i>>12&63)),o.push(n.charAt(i>>6&63)),o.push(n.charAt(63&i))
switch(t.length-a){case 1:i=s(t,e)<<16,o.push(n.charAt(i>>18)+n.charAt(i>>12&63)+r+r)
break
case 2:i=s(t,e)<<16||s(t,e+1)<<8,o.push(n.charAt(i>>18)+n.charAt(i>>12&63)+n.charAt(i>>6&63)+r)}return o.join("")}}
$G.dnM=!1,InvalidParamError.inheritsFrom(Error),$G.oldTab="home",$G.lorem="Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus. Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies nisi. Nam eget dui. Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum. Nam quam nunc, blandit vel, luctus pulvinar, hendrerit id, lorem. Maecenas nec odio et ante tincidunt tempus. Donec vitae sapien ut libero venenatis faucibus. Nullam quis ante. Etiam sit amet orci eget eros faucibus tincidunt. Duis leo. Sed fringilla mauris sit amet nibh. Donec sodales sagittis magna. Sed consequat, leo eget bibendum sodales, augue velit cursus nunc,"
var Sys={"in":{recording:!1,record:function(t){this.recording&&this.data.push(getKey(t)[0])},startRecording:function(t){this.recording=!0,this.record(t)},stopRecording:function(t){return this.recording=!1,this.data.last()},data:[]},log:function(t){console.log("[System]  "+t)},debug:function(t,e){this.log("Debugging: "+t.name),console.group(),console.time("debug"),t(e),console.timeEnd("Time"),console.trace(),console.groupEnd()},out:function(){return Essence.addToPrinter("\b"+this["in"].data),Essence.txt2print},toString:function(){return"[object System]"}}
window.onkeypress=function(t){Sys["in"].record(t),$G.lastKeyPair=getKey(t)},$G.i=0
