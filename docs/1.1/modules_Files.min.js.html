<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modules/Files.min.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: modules/Files.min.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module Files
 * @description File management and control
 * @version 1.0
 * @since 1.1
 * @license MIT
 * @author Maximilian Berkmann &lt;maxieberkmann@gmail.com>
 * @copyright Maximilian Berkmann 2016
 * @requires essence
 * @requires Ajax
 * @requires Misc
 * @type {Module}
 * @exports File
 */
function stripPath(t){return t.split("/")[t.split("/").length-1]}function getFilename(t){return t?stripPath(location.pathname):stripPath(location.pathname).get(-stripPath(location.pathname).lastIndexOf(".")-1)}function getCurrentPath(t,e){e||(e="file:///")
for(var n,i=t.split("/"),r=e.split("/"),o=0,s=0;e.has(i[o]);)o++
for(n=i.get(o).join("/");n.has(r[s]);)debugging&amp;&amp;console.log("Gone through "+r[s]),s++
if(s>0)for(o=0;s>o;o++)n="../"+n
return n}function getExtPath(t){var e=location.href,n=e.sameFirst(t)
return"../".repeat(getCurrentPath(e,n).count("/"))+getCurrentPath(t,n)}function filenameList(t){for(var e=[],n=0;n&lt;t.length;n++)e.push(stripPath(t[n]))
return e.remove("")}function getDirectoryPath(t){return t||(t=location.href),t.get(0,t.indexOf(stripPath(t))-1)}function AX(t,e,n,i){var r=new ActiveXObject("Scripting.FileSystemObject")
r.CreateTextFile(t,!0)
var o=r.OpenTextFile(t,1,!0)
o.Write(e),o.ReadAll(),n&amp;&amp;confirm("Do you really want to close this file ?")&amp;&amp;o.Close(),i&amp;&amp;confirm("Do you really want to delete this file ?")&amp;&amp;r.DeleteFile(t)}function execFile(t,e){var n=new ActiveXObject("WScript.Shell")
n.Run(t+"."+e,1,!0)}function copyToClipboard(t,e){clipboardData.setData(e||"Text",t)}function save(t,e,n){var i=new Blob([t],{type:"text/"+(n||"plain")}),r=document.createElement("a")
r.download=e,r.innerHTML="Download File",null!=window.webkitURL?r.href=window.webkitURL.createObjectURL(i):(r.href=window.URL.createObjectURL(i),r.onclick=function(t){document.body.removeChild(t.target)},r.style.display="none",document.body.appendChild(r)),r.click()}function getFileContent(t){$G.fct=""
var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")
return e.open("GET",t,!1),e.onreadystatechange=function(){return 4===this.readyState&amp;&amp;200===this.status?($G.fct=e.responseText,e.responseText):void 0},e.send(null),$G.fct}function getFC(t,e){!e&amp;&amp;t.has("://")&amp;&amp;t.split("//")[0]!=location.protocol&amp;&amp;(e=!0)
var n="",i=e?new CORS(t,"GET",!1,function(t){return n=t.responseText,t.responseText},function(){return"Nothing"}):new XHR(t,"GET",!1,function(t){return n=t.responseText,t.responseText},function(){return"Nothing"})
return i.init(),n}function evalFile(t,e){return new Function("return "+getFC(t,e))()}function getKeywords(t,e){var n=(isType(t,"Array")?t.join(" "):t).replace(/(\.|!|\?|;|:|"|,|\t|\n|\f|\r|\v|\{|})+/gm," ").split(" ").remove(""),i=occurrenceSort(n).filter(function(t){return e&amp;&amp;["=","+","-","*","/","\\","%","#","'","@","^","$","£","µ","~","&amp;","[","]","(",")","|","`"].has(t)?!1:n.count(t)>3})
return i.map(function(t){return t+": "+n.count(t)+" ("+markConv(n.count(t),n.length)+"%)"})}function Spider(t){return this.dir=t||[],this.keywords=[],this.get=function(t,e){for(var n=0;n&lt;this.dir.length;n++)this.keywords[n]=getKeywords(getFC(this.dir[n],e),!t)
return this.keywords},this.getAll=function(t,e){return this.get(t,e).linearise()},this.getWords=function(t,e){return this.getAll(t,e).map(function(t){return t.split(":")[0]})},this.getOccurrences=function(t,e){return this.getAll(t,e).map(function(t){return parseInt(t.split(" ")[1])})},this.getFreq=function(t,e){return this.getAll(t,e).map(function(t){return parseFloat(t.split(" ")[2].replace(/^\((\d+|\d+\.\d+)%\)$/,"$1"))})},this.getCoverage=function(t,e){return this.getFreq(t,e).sum().toNDec(2)},this.getGlobalKeywords=function(t,e){var n=this.dir.map(function(t){return getFC(t,e)}).toStr()
return getKeywords(n,!t)},this.toString=function(){return"Spider(dir="+this.dir+", keywords= "+this.keywords.toStr(!0)+")"},this}function $Data(t,e){this.name=t||"data.json",this.data=e
var n=this
return this.req=new CORS(this.name,"GET",!1,function(t){n.data=t.response},function(){Essence.say("The file %c"+n.name+"%c isn't available !","warn","text-decoration: italic;","text-decoration: none;")},function(){anim("Loading",0,5e3,500,!1,!isNon(n.req.data))},this.data),this.req.init(),this.req.update(),this.history=new virtualHistory(this.data),this.save=function(){save(this.data,this.name,this.data.split(".").last())},this.undo=function(){this.history.undo(),this.data=this.history.src},this.redo=function(){this.history.redo(),this.data=this.history.src},this.update=function(t){this.history.update(t||this.data),t&amp;&amp;(this.data=t),this.save()},this.get=function(){return this.req.init(),this.req.update(),this.data},this.toString=function(){return"$Data(name="+this.name+", data="+this.data+", history="+this.history.getStates()+", req="+this.req+")"},this}var Files=new Module("Files","File management and control",["Ajax","Misc"])
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Ajax.html">Ajax</a></li><li><a href="module-DataStruct.html">DataStruct</a></li><li><a href="module-DOM.html">DOM</a></li><li><a href="module-essence.html">essence</a></li><li><a href="module-Files.html">Files</a></li><li><a href="module-Maths.html">Maths</a></li><li><a href="module-Misc.html">Misc</a></li><li><a href="module-QTest.html">QTest</a></li><li><a href="module-Security.html">Security</a></li><li><a href="module-UI.html">UI</a></li><li><a href="module-Web.html">Web</a></li></ul><h3>Externals</h3><ul><li><a href="Array_external_Array.html">Array</a></li><li><a href="external-essence-$G.module_essence-external_$G.html">$G</a></li><li><a href="external-String.html">String</a></li><li><a href="Function_external_Function.html">Function</a></li><li><a href="Number_external_Number.html">Number</a></li><li><a href="Object_external_Object.html">Object</a></li><li><a href="String_external_String.html">String</a></li></ul><h3>Classes</h3><ul><li><a href="module-Ajax-CORS.html">CORS</a></li><li><a href="module-Ajax-XHR.html">XHR</a></li><li><a href="module-DataStruct-Archive.html">Archive</a></li><li><a href="module-DataStruct-EventTable.html">EventTable</a></li><li><a href="module-DataStruct-Graph.html">Graph</a></li><li><a href="module-DataStruct-LinkedList.html">LinkedList</a></li><li><a href="module-DataStruct-Map.html">Map</a></li><li><a href="module-DataStruct-MultiStream.html">MultiStream</a></li><li><a href="module-DataStruct-Node.html">Node</a></li><li><a href="module-DataStruct-NTreeNode.html">NTreeNode</a></li><li><a href="module-DataStruct-PathNode.html">PathNode</a></li><li><a href="module-DataStruct-Queue.html">Queue</a></li><li><a href="module-DataStruct-QueueArray.html">QueueArray</a></li><li><a href="module-DataStruct-QueueList.html">QueueList</a></li><li><a href="module-DataStruct-Set.html">Set</a></li><li><a href="module-DataStruct-SortedSet.html">SortedSet</a></li><li><a href="module-DataStruct-Stack.html">Stack</a></li><li><a href="module-DataStruct-StackArray.html">StackArray</a></li><li><a href="module-DataStruct-StackList.html">StackList</a></li><li><a href="module-DataStruct-Stream.html">Stream</a></li><li><a href="module-DataStruct-TreeNode.html">TreeNode</a></li><li><a href="module-DataStruct-virtualHistory.html">virtualHistory</a></li><li><a href="module-DOM-checkBrowser.html">checkBrowser</a></li><li><a href="module-essence-Element.html">Element</a></li><li><a href="module-essence-Module.html">Module</a></li><li><a href="module-Files-Spider.html">Spider</a></li><li><a href="module-Maths-Equation.html">Equation</a></li><li><a href="module-Maths-InvNorm.html">InvNorm</a></li><li><a href="module-Misc-AI.html">AI</a></li><li><a href="module-Misc-Machine.html">Machine</a></li><li><a href="module-Misc-Memory.html">Memory</a></li><li><a href="module-Misc-Scoreboard.html">Scoreboard</a></li><li><a href="module-QTest-InvalidParamError.html">InvalidParamError</a></li><li><a href="module-UI-AABB.html">AABB</a></li><li><a href="module-UI-Box.html">Box</a></li><li><a href="module-UI-Circ.html">Circ</a></li><li><a href="module-UI-Line.html">Line</a></li><li><a href="module-UI-Polygon.html">Polygon</a></li><li><a href="module-UI-Pt.html">Pt</a></li><li><a href="module-UI-Vector.html">Vector</a></li><li><a href="module-Web-Console.html">Console</a></li><li><a href="module-Web-DB.html">DB</a></li><li><a href="module-Web-Debugger.html">Debugger</a></li><li><a href="module-Web-Editor.html">Editor</a></li><li><a href="module-Web-IDE.html">IDE</a></li><li><a href="module-Web-Parser.html">Parser</a></li><li><a href="module-Web-Preview.html">Preview</a></li><li><a href="module-Web-Toolbar.html">Toolbar</a></li><li><a href="module-Web-WebApp.html">WebApp</a></li><li><a href="module-Web-WebPage.html">WebPage</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-UI-Shape.html">Shape</a></li></ul><h3>Global</h3><ul><li><a href="global.html#$f">$f</a></li><li><a href="global.html#$G">$G</a></li><li><a href="global.html#base64">base64</a></li><li><a href="global.html#BrowserDetect">BrowserDetect</a></li><li><a href="global.html#debugging">debugging</a></li><li><a href="global.html#DocTemplate">DocTemplate</a></li><li><a href="global.html#modules">modules</a></li><li><a href="global.html#sec2time">sec2time</a></li><li><a href="global.html#Sys">Sys</a></li><li><a href="global.html#testMode">testMode</a></li><li><a href="global.html#UnitTest">UnitTest</a></li><li><a href="global.html#WifiTest">WifiTest</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.1</a> on Wed Oct 05 2016 22:47:44 GMT+0100 (GMT Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
