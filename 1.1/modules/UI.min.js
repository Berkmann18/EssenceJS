/**
 * @module UI
 * @description User Interfaces and stuff
 * @version 1.0
 * @since 1.1
 * @license MIT
 * @author Maximilian Berkmann <maxieberkmann@gmail.com>
 * @copyright Maximilian Berkmann 2016
 * @requires module:essence
 * @requires Maths
 * @type {Module}
 * @exports UI
 */
function toMaxSize(){try{if(clientWidth||ActiveX||ActiveXObject)window.resizeTo(clientWidth,clientHeight)
else if(client.Width)window.resizeTo(client.Width,client.Height)
else if(client.width)window.resizeTo(client.width,client.height)
else if(clientX)window.resizeTo(clientX,clientY)
else if(client.X)window.resizeTo(client.X,client.Y)
else if(client.x)window.resizeTo(client.x,client.y)
else if(screenWidth)window.resizeTo(screenWidth,screenHeight)
else if(screen.Width)window.resizeTo(screen.Width,screen.Height)
else if(screen.width)window.resizeTo(screen.width,screen.height)
else if(screenX)window.resizeTo(screenX,screenY)
else if(screen.X)window.resizeTo(screen.X,screen.Y)
else if(screen.x)window.resizeTo(screen.x,screen.y)
else if(deviceWidth)window.resizeTo(deviceWidth,deviceHeight)
else if(device.Width)window.resizeTo(device.Width,device.Height)
else if(device.width)window.resizeTo(device.width,device.height)
else if(deviceX)window.resizeTo(deviceX,deviceY)
else if(device.X)window.resizeTo(device.X,device.Y)
else if(device.x)window.resizeTo(device.x,device.y)
else if(pageWidth)window.resizeTo(pageWidth,pageHeight)
else if(page.Width)window.resizeTo(page.Width,page.Height)
else if(page.width)window.resizeTo(page.width,page.height)
else if(pageX)window.resizeTo(pageX,pageY)
else if(page.X)window.resizeTo(page.X,page.Y)
else if(page.x)window.resizeTo(page.x,page.y)
else if(windowWidth)window.resizeTo(windowWidth,windowHeight)
else if(window.Width)window.resizeTo(window.Width,window.Height)
else if(window.width)window.resizeTo(window.width,window.height)
else if(windowX)window.resizeTo(windowX,windowY)
else if(window.X)window.resizeTo(window.X,window.Y)
else if(window.x)window.resizeTo(window.x,window.y)
else if(monitorWidth)monitor.resizeTo(monitorWidth,monitorHeight)
else if(monitor.Width)monitor.resizeTo(monitor.Width,monitor.Height)
else if(monitor.width)monitor.resizeTo(monitor.width,monitor.height)
else if(monitorX)monitor.resizeTo(monitorX,monitorY)
else if(monitor.X)monitor.resizeTo(monitor.X,monitor.Y)
else if(monitor.x)monitor.resizeTo(monitor.x,monitor.y)
else if(frameWidth)frame.resizeTo(frameWidth,frameHeight)
else if(frame.Width)frame.resizeTo(frame.Width,frame.Height)
else if(frame.width)frame.resizeTo(frame.width,frame.height)
else if(frameX)frame.resizeTo(frameX,frameY)
else if(frame.X)frame.resizeTo(frame.X,frame.Y)
else{if(!frame.x)throw new Error("It'start not possible to maximise the size or you need to do more researches.")
frame.resizeTo(frame.x,frame.y)}}catch(t){Essence.say("An error occurred when trying to maximise the size Because of %c"+t,"err","text-decoration: underline;")}}function getScreenDim(){return[screen.width,screen.height]}function getWinDim(){return[screen.availWidth,screen.availHeight]}function Colour(t,e,i,r){return this.constructor=function(t,e,i,r){isType(t,"Array")&&t.length>=3&&!e&&!i?(this.red=t[0],this.green=t[1],this.blue=t.last(),this.alpha=4===t.length?t[3]:255):e||i||!t||0==e||0==i?e||i||!t?e&&!i&&t?(this.red=this.green=this.blue=t,this.alpha=e):(this.red=t||0,this.green=e||0,this.blue=i||0,this.alpha=r||255):(this.red=t,this.green=0,this.blue=0,this.alpha=2===t.length?t[1]:255):(this.red=this.green=this.blue=t,this.alpha=2===t.length&&isType(t,"Array")?t[1]:255),this.hex="#"+conv(this.red,10,16).toNDigits()+conv(this.green,10,16).toNDigits()+conv(this.blue,10,16).toNDigits(),this.rgba="rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},this.constructor(t,e,i,r),this.update=function(){this.hex="#"+conv(this.red,10,16).toNDigits()+conv(this.green,10,16).toNDigits()+conv(this.blue,10,16).toNDigits(),this.rgba="rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},this.getRGBAPerc=function(){return"rgba("+markConv(this.red,255)+"%, "+markConv(this.green,255)+"%, "+markConv(this.blue,255)+"%, "+markConv(this.alpha,255)+"%)"},this.getMaxClr=function(){return Math.max(Math.max(this.red,e),i)},this.getMinClr=function(){return Math.min(Math.min(this.red,e),i)},this.negative=function(t){this.red=255-parseInt(this.red),this.green=255-parseInt(this.green),this.blue=255-parseInt(this.blue),t&&(this.alpha=255-parseInt(this.alpha)),this.update()},this.redNegative=function(){this.red=255-parseInt(this.red),this.update()},this.greenNegative=function(){this.green=255-parseInt(this.green),this.update()},this.blueNegative=function(){this.green=255-parseInt(this.green),this.update()},this.rand=function(t){return this.red=randTo(255),this.green=randTo(255),this.blue=randTo(255),this.update(),t?this.hex:this.rgba},this.toLocaleString=function(){return"Colour(rad="+this.red+", g="+this.green+", b="+this.blue+", a="+this.alpha+")"},this.toString=function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},this.get=function(){return[this.red,this.green,this.blue,this.alpha]},this.increment=function(t){isNon(t)&&(t=63.75),this.blue+=t,this.blue>=255&&(this.blue-=255,this.green+=t),this.green>=255&&(this.green-=255,this.red+=t),this.update()},this}function hex2rgb(t,e){var i=function(t){return parseInt(t,16)},r=isType(t,"Array")?t.map(i):/^#?([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.exec(t).get(1).map(i)
return e?r:"rgb("+r.join(", ")+")"}function rgb2hex(t,e){var i=isType(t,"Array")?t:t.slice(4,t.length-1).split(", "),r=function(t){return conv(t,10,16).toNDigits()}
return i=i.map(r),e?i:"#"+i.join("")}function rgb2hsl(t,e){var i,r,n,s=isType(t,"Array")?t:t.slice(4,t.length-1).split(", "),o=function(t){return 100*t+.5|0},h=s[0]/255,a=s[1]/255,l=s[2]/255,d=s.max(),u=s.min()
if(n=(d+u)/2,d===u)i=r=0
else{var c=d-u
switch(r=n>=.5?c/(2-c):c/(d+u),d){case h:i=(a-l)/c*60
break
case a:i=60*((l-h)/c+2)
break
case l:i=60*((h-a)/c+4)}i/=6}return e?[o(i),100*o(r),100*o(n)]:"hsl("+o(i)+", "+100*o(r)+"%, "+100*o(n)+"%)"}function hsl2rgb(t,e){var i,r,n,s=t.slice(4,t.length-1).split(", "),o=function(t){return(t-.5)/100|0},h=o(s[0]),a=o(s[1]),l=o(s[2])
if(0===a)i=r=n=1
else{var d=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},u=l<.5?l*(1+a):l+a-l*a,c=2*l-u
i=d(c,u,h+1/3),r=d(c,u,h),n=d(c,u,h-1/3)}var f=[i,r,n].map(function(t){return Math.min(Math.floor(256*t),255)})
return e?f:"rgb("+f.join(", ")+")"}function rgb2hsv(t,e){var i=isType(t,"Array")?t:t.slice(4,t.length-1).split(", ")
i=i.map(function(t){return t/255})
var n,s,o=i.max(),h=i.min(),a=o,l=o-h
if(s=0===o?0:l/o,o===h)n=0
else{switch(o){case r:n=(g-b)/l+(g<b?6:0)
break
case g:n=(b-r)/l+2
break
case b:n=(r-g)/l+4}n/=6}return e?[n,s,a]:"hsv("+n+", "+s+"%, "+a+"%)"}function hsv2rgb(t,e){var i,r,n,s=isType(t,"Array")?t:t.slice(4,t.length-1).split(", "),o=Math.floor(6*s[0]),h=6*s[0]-o,a=s[2]*(1-s[1]),l=s[2]*(1-h*s[1]),d=s[2]*(1-(1-h)*s[1])
switch(o%6){case 0:i=s[2],r=d,n=a
break
case 1:i=l,r=s[2],n=a
break
case 2:i=a,r=s[2],n=d
break
case 3:i=a,r=l,n=s[2]
break
case 4:i=d,r=a,n=s[2]
break
case 5:i=s[2],r=a,n=l}var u=[i,r,n].map(function(t){return 255*t})
return e?u:"rgb("+u.join(", ")+")"}function getColourType(t){if(!isValid(t,"colour"))throw new InvalidExpressionError(t+" isn't a colour!")
if(/^#?([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.test(t))return"hex"
var e=[t.replace(/^(rgb|hsl|hsv|hsb)\(([0-9]+,\s){2}([0-9]+)\)$/,"$1"),t.replace(/^(rgb|hsl|hsv|hsb)a\(([0-9]+,\s){3}((0|1|)\.[0-9]*)\)$/,"$1")]
return e[0]!=t?e[0]:e[1]!=t?e[1]:null}function negateColour(t,e,i){i=i?i[0].toLowerCase():"x"
var r=0===$e(t).css(e).indexOf("rgb(")?$e(t).css(e).slice(4,$e(t).css(e).length-1).split(", "):hex2rgb($e(t).css(e),!0),n=new Colour
"rad"===i?(n.red=255-parseInt(r[0]),n.green=r[1],n.blue=r[2]):"g"===i?(n.red=r[0],n.green=255-parseInt(r[0]),n.blue=r[2]):"b"===i?(n.red=r[0],n.green=r[1],n.blue=255-parseInt(r[2])):"y"===i?(n.red=255-parseInt(r[0]),n.green=255-parseInt(r[1]),n.blue=r[2]):"c"===i?(n.red=r[0],n.green=255-parseInt(r[0]),n.blue=255-parseInt(r[2])):"m"===i?(n.red=255-parseInt(r[0]),n.green=r[1],n.blue=255-parseInt(r[2])):"a"===i||"f"===i||"width"===i?(n.red=255-parseInt(r[0]),n.green=255-parseInt(r[1]),n.blue=255-parseInt(r[2])):(n.red=r[0],n.green=r[1],n.blue=r[2]),n.update(),$e(t).setCSS(e,n.hex)}function colourName2Hex(t){switch(t.normal()){case"aqua":return"#00ffff"
case"cyan":return"#00ffff"
case"black":return"#000000"
case"blue":return"#0000ff"
case"fuchsia":return"#ff00ff"
case"magenta":return"#f800f8"
case"gray":return"#808080"
case"grey":return"#808080"
case"green":return"#008000"
case"lime":return"#00ff00"
case"brown":return"#800000"
case"maroon":return"#800000"
case"navy":return"#000080"
case"olive":return"#808000"
case"purple":return"#800080"
case"red":return"#ff0000"
case"silver":return"#c0c0c0"
case"teal":return"#008080"
case"white":return"#ffffff"
case"yellow":return"#ffff00"
case"gold":return"#ffd700"
case"seagreen":return"#2e8b57"
case"pink":return"#ffc0cb"
case"skyblue":return"#87ceeb"
case"coral":return"#ff7f50"
case"tan":return"#d2b48c"
case"orange":return"#ffa500"
case"cream":return"#feffff"
case"lightgray":return"#d3d3d3"
case"salmon":return"#fa8072"
default:return null}}function rgbList(t,e,i){var r=[]
isNon(t)&&(t=63.75)
for(var n=0;n<257;n+=t)for(var s=0;s<257;s+=t)for(var o=0;o<257;o+=t)i&&Essence.sayClr(e?[Math.round(n),Math.round(s),Math.round(o)]:[n,s,o]),r.push("rgb("+(e?[Math.round(n),Math.round(s),Math.round(o)].join(", "):[n,s,o].join(", "))+")")
return r}function Shape(t,e,i,r){return this.x=t||0,this.y=e||0,this.border=i||1,this.vel=r||new Vector,this.norm=this.vel.getNormal(),this.update=function(){this.x+=this.vel.x,this.y+=this.vel.y,this.norm=this.vel.getNormal()},this.stop=function(){this.vel=this.norm=new Vector},this.toString=function(){return"Shape(x = "+this.x+", y = "+this.y+", border = "+this.border+", velocity = "+this.vel+")"},this.offset=function(t){return"l"===t?this.x-1-this.border:"rad"===t?this.x+1+this.border:"u"===t?this.y-1-this.border:this.y+1+this.border},this.bounce=function(t){this.vel.reflect(t)},this.copy=function(){return new Shape(this.x,this.y,this.border,this.vel)},this.mult=function(t){return this.x*=t,this.y*=t,this},this.div=function(t){return this.x/=t,this.y/=t,this},this.add=function(t){return this.x+=t.x,this.y+=t.y,this},this.sub=function(t){return this.x-=t.x,this.y-=t.y,this},this.draw=function(){},this.getSpeed=function(){return Math.sqrt(Math.pow(this.vel.x,2)+Math.pow(this.vel.y,2))},this}function Box(t,e,i,r,n,s,o,h,a,l){this.x=t||0,this.y=e||0,this.z=i||0,this.width=r||10,this.height=n||10,this.depth=s||.1,this.borderSize=o||1,this.borderColor=h||"#000",this.borderRadius=l||0,this.color=a||"#fff",this.ratio=(this.height/this.width).toNDigits(),this.ratio3d=[this.ratio,this.height/non0(this.depth),this.width/non0(this.depth)].mean(4)
var d=this
return this.draw=function(){runCanvas(function(t){t.fillStyle=d.color,t.strokeStyle=d.borderColor,t.lineWidth=d.borderSize,t.fill(),t.stroke(),t.beginPath(),t.rect(d.x,d.y,d.width,d.height),t.closePath()})},this.erase=function(){runCanvas(function(t){t.clearRect(d.x-d.borderSize,d.y-d.borderSize,d.width+d.borderSize+1,d.height+d.borderSize+1)})},this.rot=function(t,e,i){runCanvas(function(e){e.rotate(t)})},this.translate=function(t,e){runCanvas(function(i){i.translate(t,e)})},this.toString=function(){return"Box(x="+this.x+", y="+this.y+", z="+this.z+", width="+this.width+", height="+this.height+", depth="+this.depth+", borderSize="+this.borderSize+", borderColor="+this.borderColor+", borderRadius="+this.borderRadius+", color="+this.color+")"},this}function AABB(t,e,i,r,n,s){this.x=t||0,this.y=e||this.x,this.width=i||10,this.height=r||this.width,this.border=n||1,this.vel=s||new Vector,this.ratio=this.height/this.width,this.norm=this.vel.getNormal()
var o=this
return this.getPoints=function(){return[new Pt(this.x,this.y),new Pt(this.x+this.width,this.y),new Pt(this.x+this.width,this.y+this.height),new Pt(this.x,this.y+this.height)]},this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height&&this.border==t.border&&this.vel.equals(t.vel)},this.toString=function(){return"AABB(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+", velocity="+this.vel.toString()+", border="+this.border+")"},this.hit=function(t,e){return"l"===e?t.offset("l")<=this.width:"r"===e?t.offset("rad")>=this.x:"u"===e?t.offset("u")<=this.height:"d"===e?t.offset("d")>=this.y:this.hit(t,"l")||this.hit(t,"rad")||this.hit(t,"u")||this.hit(t,"d")},this.copy=function(){return new AABB(this.x,this.y,this.width,this.height,this.border,this.vel)},this.concat=function(t){this.width=t.x-this.x-this.width,this.height=t.y-this.y-this.height},this.deconcat=function(t){this.width=(t.x-this.x)/2,this.height=(t.y-this.y)/2},this.draw=function(){runCanvas(function(t){t.lineWidth=o.border,t.fill(),t.stroke(),t.beginPath(),t.rect(o.x,o.y,o.width,o.height),t.closePath()})},this.getPerimeter=function(){return 2*this.width+2*this.height},this.getArea=function(){return this.width*this.height},this.getDiag=function(){return Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))},this}function Circ(t,e,i,r,n){this.x=t||0,this.y=e||0,this.rad=i||10,this.border=r||1,this.vel=n||new Vector,this.norm=this.vel.getNormal()
var s=this
return this.offset=function(t){return"l"===t?this.x-this.rad:"r"===t?this.x+this.rad:"u"===t?this.y-this.rad:this.y+this.rad},this.equals=function(t){return this.x===t.x&&this.y===t.y&&this.rad===t.rad&&this.border===t.border&&this.vel.equals(t.vel)},this.toString=function(){return"Circ(x="+this.x+", y="+this.y+", radius="+this.rad+", velocity="+this.vel.toString()+")"},this.hit=function(t,e){return!!t.hit(this,e||"")&&(this.vel.bounce(t.norm),this.vel.update(),!0)},this.draw=function(){runCanvas(function(t){t.lineWidth=s.border,t.fill(),t.stroke(),t.beginPath(),t.arc(s.x,s.y,s.rad,0,2*Math.PI),t.closePath()})},this.getCircumference=function(){return 2*this.rad*Math.PI},this}function Pt(t,e){return this.x=t||0,this.y=e||0,this.vel=new Vector,this.equals=function(t){return this.x===t.x&&this.y===t.y},this.toString=function(){return"Pt(x="+this.x+", y="+this.y+")"},this}function Line(t,e){this.start=t,this.end=e
var i=this
return this.equals=function(t){return this.start.equals(t.start)&&this.end.equals(t.end)},this.toString=function(){return"Line(start="+this.start.toString()+", end="+this.end.toString()+")"},this.draw=function(){runCanvas(function(t){t.lineWidth=1,t.fill(),t.stroke(),t.beginPath(),t.lineTo(i.start.x,i.start.y),t.lineTo(i.end.x,i.end.y),t.closePath()})},this}function Vector(t,e){return this.prototype=Shape.prototype,this.x=t||0,this.y=e||0,this.toString=function(){return"Vector(x="+this.x+", y="+this.y+")"},this.equals=function(t){return this.x==t.x&&this.y==t.y},this.copy=function(){return new Vector(this.x,this.y)},this.normalise=function(){var t=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))
this.x/=t,this.y/=t},this.getNormal=function(){return new Vector(this.x/Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)),this.y/Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)))},this.zero=function(){return this.x=this.y=0,this},this.mult=function(t){return this.x*=t,this.y*=t,this},this.div=function(t){return this.x/=t,this.y/=t,this},this.addScalar=function(t){return this.x+=t,this.y+=t,this},this.add=function(t){return this.x+=t.x,this.y+=t.y,this},this.sub=function(t){return this.x-=t.x,this.y-=t.y,this},this.neg=function(){return this.x=-this.x,this.y=-this.y,this},this.dot=function(t){return this.x*t.x+this.y*t.y},this.cross=function(t){return this.x*t.y-this.y*t.x},this.lenSq=function(){return Math.pow(this.x,2)+Math.pow(this.y,2)},this.length=function(){return Math.sqrt(this.lenSq())},this.reflect=function(t){var e=t||this.getNormal().copy()
return e.mult(2*this.dot(t||this.getNormal())),this.sub(e),this},this.angle=function(t){return Math.acos((this.x*t.x+this.y*t.y)/(this.length()*t.length()))},this}function Polygon(t,e,i){this.points=t,this.border=e||1,this.vel=i||new Vector,this.norm=this.vel.getNormal()
var r=this
return this.equals=function(t){var e=!0
for(var i in this.points)this.points.hasOwnProperty(i)&&t.points.hasOwnProperty(i)&&(e=e&&this.points[i].equals(t.points[i]))
return e&&this.border===t.border&&this.vel.equals(t.vel)},this.toString=function(){var t="["
for(var e in this.points)this.points.hasOwnProperty(e)&&(t+=this.points[e].toString()+", ")
return t+="]","Polygon(points="+t+", velocity="+this.vel.toString()+", border="+this.border+")"},this.hit=function(t,e){return"l"===e?t.offset("l")<=this.offset("rad"):"rad"===e?t.offset("rad")>=this.offset("l"):"u"===e?t.offset("u")<=this.offset("d"):"d"===e?t.offset("d")>=this.offset("u"):this.hit(t,"l")||this.hit(t,"rad")||this.hit(t,"u")||this.hit(t,"d")},this.copy=function(){return new Polygon(this.points,this.border,this.vel)},this.draw=function(){runCanvas(function(t){t.lineWidth=1,t.fill(),t.stroke(),t.beginPath(),r.points.map(function(e){t.lineTo(e.x,e.y)}),t.closePath()})},this}function msgBox(t,e,i,r,n,s){t=t.normal()
var o={borderColor:"#bababa",borderSize:"1px",borderRadius:5,backgroundColor:"#fbfbfb",textColor:"#000",textSize:"14px",textFont:"Calibrie",buttonBorderColor:"#aaa",buttonBorderSize:.8,buttonBorderRadius:5,buttonColor:"#ccc",buttonTextColor:"#000",buttonTextSize:"14px",buttonText:"OK"},h="",a=""
"info"===t?(h="img/info.png",a="i",o.borderColor="#088",o.backgroundColor="rgba(0,255,255,1)",console.info("[Essence.js] "+e+": "+i)):"error"===t?(h="img/error.png",a="x",o.borderColor="#800",o.backgroundColor="rgba(255,0,0,1)",o.textColor="#FFF",console.error("[Essence.js] "+e+": "+i)):"warning"===t?(h="img/warning.png",a="/!\\",o.borderColor="#840",o.backgroundColor="rgba(255,127,0,1)",o.textColor="#FFF",o.buttonText="Got it",console.warn("[Essence.js] "+e+": "+i)):"question"===t?(h="img/question.png",a="?",o.borderColor="#008",o.backgroundColor="rgba(0,0,255,1)",o.textColor="#FFF",o.buttonText="Continue",console.log("[Essence.js] "+e+": "+i+" ?")):"success"===t?(h="img/success.png",a="v/",o.borderColor="#080",o.backgroundColor="rgba(0,255,0,1)",o.textColor="#FFF",o.buttonText="OK",console.log("[Essence.js] "+e+": "+i)):"load"===t?(h="img/load.gif",a="o",o.borderColor="#888",o.backgroundColor="rgba(255,255,255,1)",o.textColor="#FFF",o.buttonText="Continue",console.log("[Essence.js] "+e+": "+i+"...")):"custom"===t?(h=s,a=" ",n.borderColor&&(o.borderColor=n.borderColor),n.borderSize&&(o.borderSize=n.borderSize),n.borderRadius&&(o.borderRadius=n.borderRadius),n.backgroundColor&&(o.backgroundColor=n.backgroundColor),n.textColor&&(o.textColor=n.textColor),n.textSize&&(o.textSize=n.textSize),n.textFont&&(o.textFont=n.textFont),n.buttonBorderColor&&(o.buttonBorderColor=n.buttonBorderColor),n.buttonBorderSize&&(o.buttonBorderSize=n.buttonBorderSize),n.buttonBorderRadius&&(o.buttonBorderRadius=n.buttonBorderRadius),n.buttonColor&&(o.buttonColor=n.buttonColor),n.buttonTextColor&&(o.buttonTextColor=n.buttonTextColor),n.buttonTextSize&&(o.buttonTextSize=n.buttonTextSize),n.buttonText&&(o.buttonText=n.buttonText),console.log("[Essence.js] "+e+": "+i)):h=!1
var l=document.createElement("div"),d=document.createElement("span"),u=document.createElement("p"),c=document.createElement("input"),f="<img src = "+h+" alt = '"+a+"' />"
l.id="overlay",d.id="msgBoxHeader",u.id="msg",c.id="msgBoxBtn",c.type="button",c.value=o.buttonText,f.id="msgImg",r?(d.innerHTML=e,u.innerHTML=i):(d.innerText=e,u.innerText=i),$e("#overlay").isEmpty()&&(Essence.handleError("The #overlay element is voided","essence.js",1336),$e("#overlay").write("<div id = 'overlay'></div>",!0),$n("#overlay")||document.body.appendChild(document.createElement("div").id="overlay")),$e("#overlay").setStyles(["visibility","hidden","position","absolute","left",0,"top",0,"width","100 % ","height","100 % ","text-align","center","z-index","1000","background","rgba(127,127,127,.5)"]),$e("div#overlay").setStyles(["width","300px","margin","100px auto","background",o.backgroundColor,"border",o.borderSize+" solid "+o.borderColor,"padding","15px","textAlign","center","boxShadow","3px 3px 3px #333","borderRadius",o.borderRadius]),$e("#msgBoxHeader").setStyles(["fontSize",parseInt(o.textSize+2)+"px","fontFamily",o.textFont,"color",o.textColor]),$e("#msg").setStyles(["fontSize",o.textSize,"fontFamily",o.textFont,"color",o.textColor]),$e("#btnBoxBtn").setStyles(["border",o.buttonBorderSize+" solid "+o.buttonBorderColor,"color",o.buttonTextColor,"fontSize",o.buttonTextSize]),$e("#msgImg").setStyles(["position","","top","2 % ","left","2 % "]),l.appendChild(d),l.appendChild(f),l.appendChild(u),l.appendChild(c),document.body.appendChild(l),c.onClick=function(){document.body.removeChild(l)}}function linearGradient(t,e,i){var r=parseInt(conv(t,16)),n=parseInt(conv(e,16))
i=parseInt(i)||10
for(var s=[],o=(n-r)/(i-1),h=0;h<i;h++)s.push(conv(r+h*o,10,16))
return s}function radialGradient(t,e,i){var r
parseInt(conv(t,16)),parseInt(conv(e,16))
return i=parseInt(i)||10,r}function isDark(t){return!0}function daynightMode(t){var e=(new Date).getHours(),i=function(){return rmDuplicates(DomTree().getOrder().split("->"))}
if(t&&($G.dnM=!$G.dnM),$G.dnM){var r=i().map(function(t){return $e("*"+t)}),n=e>=20||e<=3
Essence.say((n?"It's dark":"It's light")+"!","info")
for(var s=0;s<r.length;s++)n&&r[s].invColour()}else Essence.say("You cannot use the day/night mod if it'start disabled.","warn")}function chTab(t){$e("#tab_"+$G.oldTab).rmClass("tabOn"),$e("#tab_"+$G.oldTab).addClass("tabOff"),$e("#tab_"+t).rmClass("tabOff"),$e("#tab_"+t).addClass("tabOn"),$e("#contentTab_"+$G.oldTab).setCSS("display","none"),$e("#contentTab_"+t).setCSS("display","block"),$G.oldTab=t}function moveHTMLRange(t,e){$e("#"+t).write(parseFloat($e("#"+t).val())+(e||1)),$e("#"+t+"_val").write($e("#"+t).val())}function htmlRange(t,e,i,r){if(!t)throw new Error("htmlRange needs to know the id of the element implementing the range")
return Essence.addCSS(".arrow{cursor: pointer;font-size: 20px;vertical-align: middle}"),'<b class="arrow" onClick="moveHTMLRange(\''+t+'\', -1)">&triangleleft;</b><input type="range" value='+(i||0)+" max="+(r||100)+" min="+(e||0)+' id="'+t+'" onChange="$e(\'#'+t+'_val\').write(this.value);" /><b class="arrow" onClick="moveHTMLRange(\''+t+'\', 1)">&triangleright;</b><span id="'+t+'_val">'+(i||"")+"</span>"}function labelFieldSwap(t,e){$e("#lbl_"+t).isEmpty()&&$e("#lbl_"+t).write("&ensp;",!0),$e("#"+t).isEmpty()||"\b"===$e("#"+t).val()||$e("#"+t).val()!=e&&$e("#"+t).size()<2?($e("#"+t).write($e("#lbl_"+t).val()),$e("#lbl_"+t).write("&ensp;",!0)):($e("#lbl_"+t).write(e||$e("#"+t).val()),$e("#"+t).val()!==e&&""!==$e("#"+t).val()||$e("#"+t).write("\b"))}function labelPwSwap(t,e){$e("#lbl_"+t).isEmpty()&&$e("#lbl_"+t).write("&ensp;",!0),$e("#"+t).isEmpty()||"\b"===$e("#"+t).val()||$e("#"+t).val()!=e&&$e("#"+t).size()<2?($e("#"+t).type="text",$e("#"+t).write($e("#lbl_"+t).val()),$e("#lbl_"+t).write("&ensp;",!0)):($e("#"+t).type="password",$e("#lbl_"+t).write(e||$e("#"+t).val()),$e("#"+t).val()!==e&&""!==$e("#"+t).val()||$e("#"+t).write("\b"))}function htmlInput(t,e,i){if(!t)throw new Error("htmlInput needs to know the id of the element implementing the input")
return i||(i=e||t),"<label for='"+t+"' id='lbl_"+t+"'>&ensp;</label><br /><input type='"+(e||"text")+"' id='"+t+"' value='"+i+"' onFocus='labelFieldSwap(\""+t+'", "'+i+"\")' onBlur='labelFieldSwap(\""+t+'", "'+i+"\")' />"}function htmlPassword(t,e){if(!t)throw new Error("htmlPassword needs to know the id of the element implementing the input")
return e||(e=t),"<label for='"+t+"' id='lbl_"+t+"'>&ensp;</label><br /><input type='text' id='"+t+"' value='"+e+"' onFocus='labelPwSwap(\""+t+'", "'+e+"\")' onBlur='labelPwSwap(\""+t+'", "'+e+"\")' />"}function htmlDate(t,e,i){for(var r="<select name='"+(t?t+"_":"")+"day'>",n="<select name='"+(t?t+"_":"")+"month'>",s="<select name='"+(t?t+"_":"")+"year'>",o=["January","February","March","April","May","June","July","August","September","October","November","December"],h=(new Date).getFullYear(),a=1;a<32;a++)r+="<option value="+a+">"+a+"</option>"
for(a=0;a<o.length;a++)n+="<option value="+(a+1)+">"+o[a]+"</option>"
for(a=e||h-80;a<(i||h-2);a++)s+="<option value="+a+">"+a+"</option>"
return r+"</select>"+n+"</select>"+s+"</select>"}function initCanvas(t,e){t||(t=500),e||(e=500),null===$n("canvas#essenceCanvas",!0)?print("<canvas id='essenceCanvas' width='"+t+"' height='"+e+"'>Canvas isn't supported by this browser</canvas>",!0):($n("canvas#essenceCanvas").width=t,$n("canvas#essenceCanvas").height=e)}function runCanvas(t,e,i){i||(i=0),t($n("canvas#essenceCanvas").getContext(e||"2d")),i<1&&runCanvas(t,e,i+1)}var UI=new Module("UI","UI stuff",["Maths","DOM"])
AABB.inheritsFrom(Shape),Circ.inheritsFrom(Shape),Pt.inheritsFrom(Shape),Line.inheritsFrom(Shape),Vector.inheritsFrom(Shape),Polygon.inheritsFrom(Shape),$G.dnM=!1,$G.oldTab="home"
