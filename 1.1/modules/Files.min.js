function stripPath(t){return t.split("/")[t.split("/").length-1]}function getFilename(t){return t?stripPath(location.pathname):stripPath(location.pathname).get(-stripPath(location.pathname).lastIndexOf(".")-1)}function getCurrentPath(t,e){e||(e="file:///")
for(var n,r=t.split("/"),i=e.split("/"),o=0,a=0;e.has(r[o]);)o++
for(n=r.get(o).join("/");n.has(i[a]);)console.log("Gone through "+i[a]),a++
if(a>0)for(o=0;a>o;o++)n="../"+n
return n}function getExtPath(t){var e=location.href,n=e.sameFirst(t)
return"../".repeat(getCurrentPath(e,n).count("/"))+getCurrentPath(t,n)}function filenameList(t){for(var e=[],n=0;n<t.length;n++)e.push(stripPath(t[n]))
return e.remove("")}function getDirectoryPath(t){return t||(t=location.href),t.get(0,t.indexOf(stripPath(t))-1)}function AX(t,e,n,r){var i=new ActiveXObject("Scripting.FileSystemObject")
i.CreateTextFile(t,!0)
var o=i.OpenTextFile(t,1,!0)
o.Write(e),o.ReadAll(),n&&confirm("Do you really want to close this file ?")&&o.Close(),r&&confirm("Do you really want to delete this file ?")&&i.DeleteFile(t)}function execFile(t,e){var n=new ActiveXObject("WScript.Shell")
n.Run(t+"."+e,1,!0)}function copyToClipboard(t,e){clipboardData.setData(e||"Text",t)}function save(t,e,n){var r=new Blob([t],{type:"text/"+(n||"plain")}),i=document.createElement("a")
i.download=e,i.innerHTML="Download File",null!=window.webkitURL?i.href=window.webkitURL.createObjectURL(r):(i.href=window.URL.createObjectURL(r),i.onclick=function(t){document.body.removeChild(t.target)},i.style.display="none",document.body.appendChild(i)),i.click()}function getFileContent(t){$G.fct=""
var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")
return e.open("GET",t,!1),e.onreadystatechange=function(){return 4===this.readyState&&200===this.status?($G.fct=e.responseText,e.responseText):void 0},e.send(null),$G.fct}function getFC(t){var e="",n=new XHR(t,"GET",!1,function(t){return e=t.responseText,t.responseText},function(){return"Nothing"})
return n.init(),e}function evalFile(t){return new Function("return "+getFileContent(t))()}function getKeywords(t,e){var n=(isType(t,"Array")?t.join(" "):t).replace(/(\.|!|\?|;|:|"|,|\t|\n|\f|\r|\v|\{|})+/gm," ").split(" ").remove(""),r=occurrenceSort(n).filter(function(t){return e&&["=","+","-","*","/","\\","%","#","'","@","^","$","£","µ","~","&","[","]","(",")","|","`"].has(t)?!1:n.count(t)>3})
return r.map(function(t){return t+": "+n.count(t)+" ("+markConv(n.count(t),n.length)+"%)"})}function Spider(t){return this.dir=t||[],this.keywords=[],this.get=function(t){for(var e=0;e<this.dir.length;e++)this.keywords[e]=getKeywords(getFileContent(this.dir[e]),!t)
return this.keywords},this.getAll=function(t){return this.get(t).linearise()},this.getWords=function(t){return this.getAll(t).map(function(t){return t.split(":")[0]})},this.getOccurrences=function(t){return this.getAll(t).map(function(t){return parseInt(t.split(" ")[1])})},this.getFreq=function(t){return this.getAll(t).map(function(t){return parseFloat(t.split(" ")[2].replace(/^\((\d{1,}|\d{1,}\.\d{1,})%\)$/,"$1"))})},this.getCoverage=function(t){return this.getFreq(t).sum().toNDec(2)},this.getGlobalKeywords=function(t){var e=this.dir.map(function(t){return getFileContent(t)}).toStr()
return getKeywords(e,!t)},this.toString=function(){return"Spider(dir="+this.dir+", keywords= "+this.keywords.toStr(!0)+")"},this}var Files=new Module("Files","File management and control",["Ajax"])
