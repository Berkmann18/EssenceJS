function asciiTable(t,e){"A-Z"!==t||e?"a-z"!==t||e?"A-z"!==t||e?"printable"!==t||e||(t=32,e=126):(t=65,e=122):(t=97,e=122):(t=65,e=90),t||(t=0),e||(e=255)
for(var r=[],s=t;e>=s;s++)r.push(String.fromCharCode(s))
return r}function Person(t,e,r,s,i,n,a,o,h,c,u,l,g,y){return this.firstName=t||"",this.secondName=e||"",this.lastName=r||"",this.title=s||"",this.nickname=i||"",this.phoneNum=n||"none",this.country=a||"",this.city=o||"",this.sex="male"===h.toLowerCase()||"female"===h.toLowerCase()?h:"other",this.birthday=c||"01/01/2000",this.deathday=null,this.jobs=u||"unemployed",this.activities=l||"none",this.websites=g||"none",this.quote=y||"",this.toString=function(){var t="Person("
for(var e in this)this.hasOwnProperty(e)&&"toString"!=e&&"toName"!=e&&(t+=e+"="+this[e]+", ")
return t.substring(0,t.length-2)+")"},this.genID=function(){return(this.lastName.get(0,3)+this.birthday.split("/")[1]+this.firstName.get(0,1)+this.secondName.get(0,1)+this.birthday.split("/")[2]+this.sex[0]).toUpperCase()},this.getAge=function(){return(date2num(getDate())-date2num(this.birthday)).toNDec(2)},this.isMajor=function(){return("UN"===this.country.get(0,1)||"united states"===this.country.toLowerCase())&&this.getAge()>20||("UN"!=this.country.get(0,1)||"united states"!=this.country.toLowerCase())&&this.getAge()>17},this.getFullName=function(){return this.firstName+" "+this.secondName+(""!=this.nickname?' "'+this.nickname+'" ':" ")+this.lastName},this}function Item(t,e,r,s,i){return this.name=t||"unknown",this.category=e||"unknown",this.price=r||0,this.ageMinRequired=s||.25,this.quantity=i||1,this.firstMade=(new Date).toLocaleString(),this.duplicate=function(t,e){for(var r=0;t>r;r++)e.push(new Item(this.name,this.category,this.price,this.ageMinRequired,this.quantity))},this.remove=function(t){isType(t,"Array")?t=t.remove(this):t.remove(this)},this.toString=function(){var t=""
for(var e in this)this.hasOwnProperty(e)&&"toString"!=e&&!isType(e,"function")&&(t+=e+"="+this[e]+", ")
return t.substring(0,t.length-2)},this}function letterArray(t,e){for(var r=t.charCodeAt(0)||97,s=e.charCodeAt(0)||122,i=[],n="",a=r;s>=a;a++)for(var o=r;s>=o;o++)a!=o&&(n=String.fromCharCode(a)+String.fromCharCode(o),i.push(n))
return i}function rmConsecDuplicates(t){for(var e=[],r=0,s=0;s<t.length;s++)0!==s&&t[s]==t[s-1]||(e[r++]=t[s])
for(r=0,s=0;s<t.length-1;s++)t[s]!=t[s+1]&&(e[r++]=t[s])
return e}function rmDuplicates(t){for(var e=rmConsecDuplicates(t),r=0,s=0;s<t.length;s++)(0===s||t[s]!=t[s-1]||s>=1&&t[s]!=t[s-2]||s>=2&&t[s]!=t[s-3])&&(e[r++]=t[s])
for(s=0;s<e.length;s++)for(r=0;r<e.length;r++)s!=r&&e[s]===e[r]&&(e[r]=void 0)
return isType(t,"String")?e.remove().join(""):e.remove()}function Machine(t,e,r,s){switch(this.capacity=r||1024,this.version=e||5,this.name=t||"Machine_"+this.version,this.version){case 1:this.base=2
break
case 2:this.base=3
break
case 3:this.base=8
break
case 4:this.base=10
break
case 5:this.base=16
break
case 6:this.base=36
break
default:this.base=16}return this.operation=function(t,e,r){switch(r.normal()){case"+":return t+e
case"-":return t-e
case"*":return t*e
case"/":return t/e
case"%":return t%e
case">>":return t>>e
case"<<":return t<<e
case">>>":return t>>>e
case">":return t>e
case"<":return e>t
case"|":return t|e
case"&":return t&e
case"^":return t^e
case"=":return t===e
case"!=":return t!=e
case">=":return t>=e
case"<=":return e>=t
case"||":return t||e
case"&&":return t&&e
case"e":return t*Math.pow(10,e)
case"e^":case"exp":return[Math.exp(t),Math.exp(e)]
case"log":return log(t,e)
case"++":return[t++,e++]
case"--":return[t--,e--]
case"+=":return t+=e
case"-=":return t-=e
case"*=":return t*=e
case"/=":return t/=e
case"%=":return t%=e
case".=":return t.concat(e)
default:return t+""+e}},this.inv=function(t){isType(t,"String")||(t+="")
for(var e=0;e<t.length;e++)t[e]=parseInt(this.base)-1-parseFloat(t[e])
return t},this.memory=new Memory(this.capacity,s||"",this.name),this.send=function(t,e){POST(e,"msg="+this.parse(t))},this.parse=function(t){isType(t,"Array")||(t=2===this.base?t.divide(8):t.divide(2))
for(var e="",r=[],s=0;s<t.length;s++)r[s]=conv(t[s],this.base),e+=String.fromCharCode(conv(t[s],this.base))
return Essence.say(r),JSON.parse(e)},this.unparse=function(t,e){for(var r=JSON.stringify(t),s="",i=[],n=0;n<r.length;n++)i[n]=r.charCodeAt(n),s+=2===this.base?conv(r.charCodeAt(n).toNDigits(8),10,this.base):conv(r.charCodeAt(n),10,this.base)
return e?s:2===this.base?s.divide(8):s.divide(2)},this.store=function(t){this.memory.add(this.unparse(t)),this.memory.save()},this.show=function(){for(var t=0;t<this.memory.slots.length;t++)Essence.say(this.memory.slots[t])},this.specs=function(){return"Name: "+this.name+"\nCapacity: "+this.capacity+" bits\nMemory: \n"+this.memory.toString()},this.toString=function(){return"Machine("+this.specs()+")"},this.conv=function(t,e){return conv(t,e||36,this.base)},this}function Memory(t,e,r){return this.capacity=t||1024,this.slots=new Array(this.capacity),this.type="local"===e?"local":"session",this.name=r?r+"_"+this.type+"M"+log(this.capacity):this.type+"M"+log(this.capacity),this.free=0,this.save=function(){for(var t=0;t<this.slots.length;t++)"local"===this.type?localStorage.setItem(this.name+"#"+t,this.slots[t]):sessionStorage.setItem(this.name+"#"+t,this.slots[t])},this.remove=function(t){this.slots.remove(JSON.stringify(t)),"local"===this.type?localStorage.setItem(this.getLocation(t),void 0):sessionStorage.setItem(this.getLocation(t),void 0)},this.getLocation=function(t){if("local"===this.type){for(var e in localStorage)if(localStorage.hasOwnProperty(e)&&localStorage[e]===JSON.stringify(t))return e}else for(e in sessionStorage)if(sessionStorage.hasOwnProperty(e)&&sessionStorage[e]===JSON.stringify(t))return e
return-1},this.clear=function(){if(this.slots=new Array(this.capacity),this.free=0,"local"===this.type)for(var t in localStorage)localStorage.hasOwnProperty(t)&&t.has(this.name)&&localStorage.removeItem(t)
else for(t in sessionStorage)sessionStorage.hasOwnProperty(t)&&t.has(this.name)&&sessionStorage.removeItem(t)},this.add=function(t){this.slots[this.free++]=JSON.stringify(t)},this.print=function(){Essence.say(this.name+"'s slots: ","info")
for(var t=0;t<this.slots.length;t++)try{Essence.say(t+": "+JSON.parse(this.slots[t]))}catch(e){Essence.say(t+": ")}},this.pop=function(){"local"===this.type?localStorage.removeItem(this.getLocation(this.slots.last())):sessionStorage.removeItem(this.getLocation(this.slots.last())),this.free--,this.slots.pop()},this.toString=function(){return this.type.capitalize()+" memory "+this.name+": "+this.slots.toStr(!0)},this}function stup(t){for(alert("You have 10s to type something !"),Sys["in"].recording=!0,Sys["in"].data=[],setTimeout(function(){return Sys["in"].recording=!1,alert("Stop !!"),t&&t(Sys["in"].data.join("")),Sys["in"].data.join("")},1e4);(0===Sys["in"].data.length||$G.las)&&Sys["in"].recording;);return Sys["in"].data.join("")}function RegExpify(t){return new RegExp(t.replace(/[|\\{}()[\]^$+*?.:\'<>%]/g,"\\$&"),"gm")}function unRegExpify(t){return t.toString().get(1,t.toString().lastIndexOf("/")-1).remove("\\")}function Objectify(t,e){for(var r={},s=0;s<t.length;s++)r[t[s]]=e[s]||null
return r}function Tablify(t,e){return Objectify(t,new Array(t.length).fill(arguments.toArray().length>0?e:[]).map(function(){return arguments.toArray().length>1?e:[]}))}function name2type(t,e){switch(t){case"Number":return Number(e)
case"String":return String(e)
case"Boolean":return Boolean(e)
case"Function":return Function(e,arguments.toArray().get(2))
case"Object":return Object(e,arguments.toArray().get(2))
case"Date":return new Date(e,arguments.toArray().get(2))
case"Array":return[e,arguments.toArray().get(2)]
case"RegExp":return new RegExp(e,arguments.toArray().get(2).toString())
case"Error":return Error(e,arguments.toArray().get(2))
case"File":return File(e,arguments.toArray().get(2))
case"URL":return URL(e,arguments.toArray().get(2))
case"FileReader":return FileReader(e,arguments.toArray().get(2))
case"FileWriter":return FileWriter(e,arguments.toArray().get(2))
case"Blob":return Blob(e,arguments.toArray().get(2))
case"Element":return Element(e,arguments.toArray().get(2))
case"Person":return Person(e,arguments.toArray().get(2))
case"Item":return Item(e,parseFloat(arguments.toArray().get(2)))
case"Colour":return Colour(e,arguments.toArray().get(2))
case"LinkedList":return LinkedList(e,arguments.toArray().get(2))
case"TreeNode":return TreeNode(e,arguments.toArray().get(2))
case"Node":return Node(e,arguments.toArray().get(2))
case"PathNode":return PathNode(e,arguments.toArray().get(2))
case"NTreeNode":return NTreeNode(e,arguments.toArray().get(2))
case"Set":return Set(e,arguments.toArray().get(2))
case"SortedSet":return SortedSet(e,arguments.toArray().get(2))
case"Stack":return Stack(e,arguments.toArray().get(2))
case"StackArray":return Stack(e,arguments.toArray().get(2))
case"StackList":return StackList(e,arguments.toArray().get(2))
case"Queue":return Queue(e,arguments.toArray().get(2))
case"QueueArray":return QueueArray(e,arguments.toArray().get(2))
case"QueueList":return QueueList(e,arguments.toArray().get(2))
case"Shape":return Shape(e,arguments.toArray().get(2))
case"Box":return Box(e,arguments.toArray().get(2))
case"AABB":return AABB(e,arguments.toArray().get(2))
case"Circ":return Circ(e,arguments.toArray().get(2))
case"Pt":return Pt(e,arguments.toArray().get(2))
case"Line":return Line(e,arguments.toArray().get(2))
case"Vector":return Vector(e,arguments.toArray().get(2))
case"Polygon":return Polygon(e,arguments.toArray().get(2))
case"database":return database(e,arguments.toArray().get(2))
case"process":return process(e,arguments.toArray().get(2))
case"server":return server(e,arguments.toArray().get(2))
case"Archive":return Archive(e,arguments.toArray().get(2))
case"Machine":return Machine(e,arguments.toArray().get(2).toString())
case"Memory":return Memory(e,arguments.toArray()[2],arguments.toArray()[3])
case"WebPage":return WebPage(e,arguments.toArray().get(2))
case"WebApp":return WebApp(e,arguments.toArray().get(2))
case"virtualHistory":return virtualHistory(e,arguments.toArray().get(2))
case"Editor":return Editor(e,arguments.toArray().get(2))
case"Preview":return Preview(e,arguments.toArray().get(2))
case"Debugger":return Debugger(e,arguments.toArray().get(2))
case"Parser":return Parser(e,arguments.toArray().get(2))
case"Toolbar":return Toolbar(e,arguments.toArray().get(2))
case"IDE":return IDE(e,arguments.toArray().get(2))
case"Template":return Template(e,arguments.toArray().get(2))
case"Stream":return Stream(e,arguments.toArray().get(2))
case"MultiStream":return MultiStream(e,arguments.toArray().get(2))
default:return t}}function FA(t){return this.regexp=t,this.states=[],this}function exp2dict(t){var e=(RegExpify(t),[])
return e}function arrayLiteral(t,e){return t.length>1?t.get(-1).toStr(!0)+" "+(e||"and")+" "+t.last():t[0]}function moduleList(t){var e=[["Name","Version","Description","Dependencies"]]
return t&&e[0].push("Weight"),Essence.loadedModules.map(function(r){t?e.push([r.name,r.version,r.description,r.dependency.toStr(!0),r.getWeight()]):e.push([r.name,r.version,r.description,r.dependency.toStr(!0)])}),e}function Scoreboard(t,e,r,s){this.name=t||"Scoreboard",this.participants=e,this.maxScore=s||10,this.events=r,this.build=function(){this.table=[],this.table.push([""].append(this.participants))
for(var t=1;t<=this.events.length;t++)this.table.push([this.events[t-1]].append(new Array(this.participants.length).fill(0)))
this.table.push(["Total"].append(new Array(this.participants.length).fill(0)))},this.build(),this.addPoint=function(t,e,r){this.table[lookfor(e,this.table)[0]][lookfor(t,this.table)[1]]=r||0,this.table[lookfor("Total",this.table)[0]][lookfor(t,this.table)[1]]=this.table.line(lookfor(t,this.table)[1]).get(1,-1).sum()},this.getPoint=function(t,e){return this.table[lookfor(e,this.table)[0]][lookfor(t,this.table)[1]]},this.getTotal=function(t){return this.table[lookfor("Total",this.table)[0]][lookfor(t,this.table)[1]]},this.podium=function(){var t,e,r,s=this.table.last().get(1)
return t=this.table[0][this.table.last().indexOf(s.max())],s=s.removeFirst(s.max()),e=this.table[0][this.table.last().indexOf(s.max())],s=s.removeFirst(s.max()),r=this.table[0][this.table.last().indexOf(s.max())],[t,e,r]},this.avgScore=function(){return this.table.last().mean(2,1)},this.getFormatted=function(t){t||(t=2)
for(var e=Copy(this),r=0;r<this.participants.length;r++){for(var s=0;s<this.events.length;s++)e.table[s+1][r+1]=(e.table[s+1][r+1]/this.maxScore).toNDec(t)
e.table[e.events.length+1][r+1]=e.table.line(r+1).get(1,-1).sum().toNDec(t)}return e},this.toString=function(){return"Scoreboard(name="+this.name+", participants="+this.participants.toStr(!0)+"; maxScore="+this.maxScore+", events="+this.events.toStr(!0)+")"}}function anim(t,e,r,s,i,n){t||(t="Loading"),e||(e=0),r||(r=1e4),s||(s=800)
var a=i?["-","\\","|","/"]:["",".","..","..."],o=0,h=[],c=function(){return h.map(function(t){clearTimeout(t)}),console.clear(),console.log("Done !"),!0}
return n?c():(a.map(function(r){h.push(setTimeout(function(){console.clear(),console.log(t+" "+r)},e+o*s)),o++}),e+=2*s,r>=e||!n?void setTimeout(function(){anim(t,e,r,s,i,e>r)},2*s):c())}function AI(t){return this.rules=t||[],this.db=new DB("AI rules",["Index","Rules","Precision"]),this.updateRule=function(t,e){var r=this.db.find(t)
this.db.set(e,this.db.get(r[0],r[1]))},this}var Misc=new Module("Misc","Miscellaneous",["Files"]),base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte64:function(t,e){if(e=base64.ALPHA.indexOf(t.charAt(e||0)),-1===e)throw"Cannot decode base64"
return e},decode:function(t){t+=""
var e,r,s,i=t.length
if(0===i)return t
if(i%4!=0)throw"Cannot decode base64"
e=0,t.charAt(i-1)===this.PADCHAR&&(e=1,t.charAt(i-2)===this.PADCHAR&&(e=2),i-=4)
var n=[]
for(r=0;i>r;r+=4)s=this.getbyte64(t,r)<<18|this.getbyte64(t,r+1)<<12|this.getbyte64(t,r+2)<<6|this.getbyte64(t,r+3),n.push(String.fromCharCode(s>>16,s>>8&255,255&s))
switch(e){case 1:s=this.getbyte64(t,r)<<18|this.getbyte64(t,r+1)<<12|this.getbyte64(t,r+2)<<6,n.push(String.fromCharCode(s>>16,s>>8&255))
break
case 2:s=this.getbyte64(t,r)<<18|this.getbyte64(t,r+1)<<12,n.push(String.fromCharCode(s>>16))}return n.join("")},getbyte:function(t,e){var r=t.charCodeAt(e||0)
if(r>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5"
return r},encode:function(t){if(1!=arguments.length)throw new SyntaxError("Only one argument please !")
var e,r,s=[]
t+=""
var i=t.length-t.length%3
if(0===t.length)return t
for(e=0;i>e;e+=3)r=this.getbyte(t,e)<<16||this.getbyte(t,e+1)<<8||this.getbyte(t,e+2),s.push(this.ALPHA.charAt(r>>18)),s.push(this.ALPHA.charAt(r>>12&63)),s.push(this.ALPHA.charAt(r>>6&63)),s.push(this.ALPHA.charAt(63&r))
switch(t.length-i){case 1:r=this.getbyte(t,e)<<16,s.push(this.ALPHA.charAt(r>>18)+this.ALPHA.charAt(r>>12&63)+this.PADCHAR.repeat(2))
break
case 2:r=this.getbyte(t,e)<<16||this.getbyte(t,e+1)<<8,s.push(this.ALPHA.charAt(r>>18)+this.ALPHA.charAt(r>>12&63)+this.ALPHA.charAt(r>>6&63)+this.PADCHAR)}return s.join("")}},Sys={"in":{recording:!1,record:function(t){this.recording&&this.data.push(getKey(t)[0])},startRecording:function(t){this.recording=!0,this.record(t)},stopRecording:function(){return this.recording=!1,this.data.last()},data:[]},log:function(t){console.log("[System]  "+t)},debug:function(t){this.log("Debugging: "+t.name),console.group(),console.time("debug"),t(Array.from(arguments).get(1)),console.timeEnd("Time"),console.trace(),console.groupEnd()},out:function(){return Essence.print("\b"+this["in"].data),Essence.txt2print},toString:function(){return"[object System]"}}
window.onkeypress=function(t){Sys["in"].record(t),$G.lastKeyPair=getKey(t)}
