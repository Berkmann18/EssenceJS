<<<<<<< HEAD
/**
 * @module DataStruct
 * @description Data structures
 * @version 1.0
 * @since 1.1
 * @license MIT
 * @author Maximilian Berkmann <maxieberkmann@gmail.com>
 * @copyright Maximilian Berkmann 2016
 * @requires ../essence
 * @requires DOM
 * @requires Maths
 * @requires Files
 * @namespace
 * @type {{name: string, version: number, run: DataStruct.run, description: string, dependency: Array, author: string, complete: boolean}}
 * @since 1.1
 * @exports DataStruct
=======
/**
 * @module DataStruct
 * @description Data structures
 * @version 1.0
 * @since 1.1
 * @license MIT
 * @author Maximilian Berkmann <maxieberkmann@gmail.com>
 * @copyright Maximilian Berkmann 2016
 * @requires ../essence
 * @requires DOM
 * @requires Maths
 * @requires Files
 * @namespace
 * @type {{name: string, version: number, run: DataStruct.run, description: string, dependency: Array, author: string, complete: boolean}}
 * @since 1.1
 * @exports DataStruct
>>>>>>> 4dd0ddfc485b6426448ba21d404b62492c783a9b
 */
function LinkedList(t,i,s){return this.payload=t||1,this.next=i||{payload:1,next:null},this.next.show=function(){return this.name+":"+this.next.payload+"->"},this.name=s,this.show=function(){return this.name+":"+this.payload+"->"+this.next.show()},this.toString=function(){return"LinkedList("+this.show()+")"},this}function TreeNode(t,i,s){return this.left=i,this.right=s,this.payload=t||0,this.add=function(t,i){this.left=t,this.right=i},this.addLeft=function(t){for(var i=0;i<t.length;i++)0===i?this.left=t[0]:t[i-1].left=t[i]},this.addRight=function(t){for(var i in t)t.hasOwnProperty(i)&&(0===i?this.right=t[0]:t[i-1].right=t[i])},this.traverse=function(){return this.left&&this.left.traverse(),this.right&&this.right.traverse(),this},this.printInOrder=function(){this.left&&this.left.printInOrder(),Essence.addToPrinter(this.payload+"->"),this.right&&this.right.printInOrder(),Essence.addToPrinter("\r\n")},this.printPreOrder=function(){Essence.addToPrinter(this.payload+"->"),this.left&&this.left.printPreOrder(),this.right&&this.right.printPreOrder(),Essence.addToPrinter("\r\n")},this.printPostOrder=function(){this.left&&this.left.printPreOrder(),this.right&&this.right.printPreOrder(),Essence.addToPrinter(this.payload+"->"),Essence.addToPrinter("\r\n")},this.inOrder=function(t,i,s,n){t||(t=""),i||(i="&nbsp;&nbsp;"),s||(s=0),n||(n="|-"),this.left&&this.left.inOrder(t+i,i,s+1,n),println(t+n+this.payload+i+" (deepth = "+s+")"),this.right&&this.right.inOrder(t+i,i,s+1,n)},this.preOrder=function(t,i,s,n){t||(t=""),i||(i="&nbsp;&nbsp;"),s||(s=0),n||(n="|-"),println(t+n+this.payload+i+" (deepth = "+s+")"),this.left&&this.left.preOrder(t+i,i,s+1,n),this.right&&this.right.preOrder(t+i,i,s+1,n)},this.postOrder=function(t,i,s,n){t||(t=""),i||(i="&nbsp;&nbsp;"),s||(s=0),n||(n="|-"),this.left&&this.left.postOrder(t+i,i,s+1,n),this.right&&this.right.postOrder(t+i,i,s+1,n),println(t+n+this.payload+i+" (deepth = "+s+")")},this.getInOrder=function(t){t||(t="->")
var i=""
return this.left&&(i+=this.left.getInOrder(t)),i+=t+this.payload,this.right&&(i+=this.right.getInOrder(t)),i},this.getPreOrder=function(t){t||(t="->")
var i=""
return i+=t+this.payload,this.left&&(i+=this.left.getPreOrder(t)),this.right&&(i+=this.right.getPreOrder(t)),i},this.getPostOrder=function(t){t||(t="->")
var i=""
return this.left&&(i+=this.left.getPostOrder(t)),this.right&&(i+=this.right.getPostOrder(t)),i+t+this.payload},this.isLeaf=function(){return!this.left&&!this.right},this.find=function(t,i){return"bfs"===i.normal()?this.bfs(t):this.dfs(t)},this.dfs=function(t,i,s){i||(i=0),s||(s=0)
var n=[]
for(n.push(this);n!=[];){i=0
var r=n.pop()
try{if(r.payload===t)return[i,s]}catch(e){return[-1,s]}r.left&&n.push(r.left),r.right&&n.push(r.right),i++,s++}},this.bfs=function(t,i,s){i||(i=0),s||(s=0)
var n=[]
for(n.unshift(this);n!=[];){i=0
var r=n.pop()
try{if(r.payload===t)return[i,s]}catch(e){return[-1,s]}r.left&&n.unshift(r.left),r.right&&n.unshift(r.right),i++,s++}},this.sum=function(){var t=this.payload
return this.left&&(t+=this.left.sum()),this.right&&(t+=this.right.sum()),t},this.min=function(){var t=this.payload
return this.left&&(t=Math.min(t,this.left.min())),this.right&&(t=Math.min(t,this.right.min())),t},this.max=function(){var t=this.payload
return this.left&&(t=Math.max(t,this.left.max())),this.right&&(t=Math.max(t,this.right.max())),t},this.nbOfBranches=function(t){return t||(t=0),this.left&&(t=this.left.nbOfBranches(t+1)),this.right&&(t=this.right.nbOfBranches(t+1)),t},this.avg=function(){return this.sum()/this.nbOfBranches()},this.printBFS=function(t){t||(t="->")
var i=[],s=""
for(i.unshift(this);i!=[];){var n=i.pop()
s+=n+t
try{n.left&&i.unshift(n.left),n.right&&i.unshift(n.right)}catch(r){Essence.say(r+" caused "+this+".printBFS("+t+") to go wrong","err")}}return t},this.toString=function(){var t="TreeNode(payload = "+this.payload+", "
return this.left&&(t+="left = "+this.left.toString()),this.right&&(t+="right = "+this.right.toString()),t.substring(0,t.length)+")"},this.toArray=function(t){var i=[]
return this.left&&(t?i.push(this.left.toArray().toString().split(",")):i.push(this.left.toArray())),i.push(this.payload),this.right&&(t?i.push(this.right.toArray().toString().split(",")):i.push(this.right.toArray())),t?i.toString().split(","):i},this}function Node(t,i,s){return this.payload=t||1,this.next=i,this.prev=s,this.traverse=function(){this.next&&this.next.traverse(),Essence.say("payload: "+this.payload)},this.print=function(){null!=this.next&&this.next.print(),Essence.print(this.payload+"=>")},this.printList=function(){null===this.next?Essence.txt2print+="->"+this.v:this.next.printList(),Essence.print("")},this.last=function(){return null===this.next?this:this.next.last()},this.append=function(t){null===this.next?(this.next=new Node(t),this.next.prev=this):this.next.append(t)},this.remove=function(){var t=this.next
this.next=t.next,t.next.prev=this},this.reverse=function(){if(null==this.next)return this
var t=this.next.reverse()
return t.next=this,t.prev=null,this.prev=t,this.next=null,t},this.toString=function(){return"Node(payload = "+this.payload+", previous = "+this.prev+", next = "+this.next+")"},this.equals=function(t){return this.payload===t.payload&&this.next.equals(t.next)&&this.prev.equals(t.prev)},this.find=function(t,i){return i||(i=0),this.payload===t?i:this.next?this.next.find(t,i+1):[-1,i]},this}function PathNode(t,i){return this.f=t+i||1,this.parent=null,this}function NTreeNode(t,i){return this.payload=t||0,this.childs=i||[],this.add=function(t){this.childs.push(t)},this.traverse=function(){for(var t in this.childs)this.childs.hasOwnProperty(t)&&t.traverse()
return this},this.printInOrder=function(){for(var t=0;t<this.childs-1;t++)this.childs[t].printInOrder(),Essence.addToPrinter(this.payload+"->"),this.childs[t+1].printInOrder(),Essence.addToPrinter("\r\n")},this.printPreOrder=function(){for(var t=0;t<this.childs-1;t++)Essence.addToPrinter(this.payload+"->"),this.childs[t].printInOrder(),this.childs[t+1].printInOrder(),Essence.addToPrinter("\r\n")},this.printPostOrder=function(){for(var t=0;t<this.childs-1;t++)this.childs[t].printInOrder(),this.childs[t+1].printInOrder(),Essence.addToPrinter(this.payload+"->"),Essence.addToPrinter("\r\n")},this.inOrder=function(t,i,s,n){t||(t=""),i||(i="&nbsp;&nbsp;"),s||(s=0),n||(n="|-")
for(var r=0;r<this.childs-1;r++)this.childs[r].inOrder(t+i,i,s+1,n),println(t+n+this.payload+i+" (deepth= "+s+")"),this.childs[r].inOrder(t+i,i,s+1,n),Essence.addToPrinter("\r\n")},this.preOrder=function(t,i,s,n){t||(t=""),i||(i="&nbsp;&nbsp;"),s||(s=0),n||(n="|-")
for(var r=0;r<this.childs-1;r++)println(t+n+this.payload+i+" (deepth= "+s+")"),this.childs[r].inOrder(t+i,i,s+1,n),this.childs[r].inOrder(t+i,i,s+1,n),Essence.addToPrinter("\r\n")},this.postOrder=function(t,i,s,n){t||(t=""),i||(i="&nbsp;&nbsp;"),s||(s=0),n||(n="|-")
for(var r=0;r<this.childs-1;r++)this.childs[r].inOrder(t+i,i,s+1,n),this.childs[r].inOrder(t+i,i,s+1,n),println(t+n+this.payload+i+" (deepth = "+s+")"),Essence.addToPrinter("\r\n")},this.getOrder=function(t){return this.childs.join(t||"->")},this.isLeaf=function(){return!isNon(this.childs)},this.find=function(t,i){return"bfs"===i.normal()?this.bfs(t):this.dfs(t)},this.dfs=function(t,i,s){i||(i=0),s||(s=0)
for(var n in this.childs)this.childs.hasOwnProperty(n)&&n.dfs(t,i+1,s++)
return[-1,s]},this.bfs=function(t,i,s){i||(i=0),s||(s=0)
var n=[]
for(n.unshift(this);n!=[];){i=0
var r=new TreeNode(n.pop())
if(r.payload===t)return[i,s]
r.left&&n.unshift(r.left),r.right&&n.unshift(r.right),i++,s++}return[-1,s]},this.sum=function(){var t=this.payload
for(var i in this.childs)this.childs.hasOwnProperty(i)&&(t+=i.payload)
return t},this.min=function(){var t=this.payload
for(var i in this.childs)this.childs.hasOwnProperty(i)&&(t=Math.min(t,i.payload))
return t},this.max=function(){var t=this.payload
for(var i in this.childs)this.childs.hasOwnProperty(i)&&(t=Math.max(t,i.payload))
return t},this.nbOfBranches=function(t){t||(t=0)
for(var i in this.childs)this.childs.hasOwnProperty(i)&&(t=i.nbOfBranches(t+1))
return t},this.avg=function(){return this.sum()/this.nbOfBranches()},this.printBFS=function(t){var i=[],s=t||"-"
for(i.unshift(this);i!=[];){var n=new TreeNode(i.pop())
println(s+">"+n.payload),s+="-"
for(var r in this.childs)this.childs.hasOwnProperty(r)&&i.unshift(r)}},this.toString=function(){var t="TreeNode(payload= "+this.payload+", "
for(var i in this.childs)this.childs.hasOwnProperty(i)&&(t+=i.toString())
return t.substring(0,t.length)+")"},this.toArray=function(t){var i=[]
i.push(this.payload)
for(var s in this.childs)this.childs.hasOwnProperty(s)&&(t?i.push(s.toArray().toString().split(",")):i.push(s.toArray()))
return t?i.toString().split(","):i},this}function Set(t){return this.value=(isType(t,"Array")?t:[t])||[],this.size=function(){return this.value.length},this.add=function(t){if(isType(t,"array"))for(var i=0;i<t.length;i++)this.add(t[i]);-1===this.value.indexOf(t)&&this.value.push(t)},this.remove=function(t){if(-1!==this.value.indexOf(t))if(isType(t,"array"))for(var i=0;i<t.length;i++)this.remove(t[i])
else this.value=this.value.remove(t)},this.clear=function(t){t?this.value=this.value.remove(this.value[t]):this.value=[]},this.isEmpty=function(){return 0===this.value.length},this.contains=function(t){if(isType(t,"array")){for(var i=!0,s=0;s<t.length;s++){if(!i)return!1
i=i&&this.contains(t[s])}return i}return-1!=this.value.indexOf(t)},this.equals=function(t){return this.value.toString()===t.value.toString()},this.isSame=function(t){if(this.equals(t))return!0
for(var i=!0,s=0;s<t.size();s++){if(!i)return!1
i=i&&this.contains(t.value[s])}return i},this.toString=function(){return"Set("+this.value.toString()+")"},this.subset=function(t,i){return this.value.slice(t,i+1)},this.get=function(t){return this.value[t]},this.indexOf=function(t){return this.value.indexOf(t)},this.set=function(t,i){this.value[t]=i},this.first=function(){return this.value[0]},this.last=function(){return this.value.last()},this.min=function(t,i){return this.value.min(t,i)},this.max=function(t,i){return this.value.max(t,i)},this.median=function(t,i){return this.value.median(t,i)},this}function SortedSet(t){return this.value=t||[],this.add=function(t){-1===this.value.indexOf(t)&&(isType(t,"array")?this.value=this.value.concat(t):this.value.push(t)),this.value.quickSort()},this}function Stack(t,i){return this.value=isType(i,"Number")?new Array(i):[],this.limit=i||null,t&&this.value.push(t),this.peek=function(){return this.value.last()},this.ground=function(){return this.value[0]},this.push=function(t){if(this.isFull())throw new Error("Stack overflow !")
isType(t,"array")?this.value.append(t):this.value.push(t)},this.pop=function(){if(this.isEmpty())throw new Error("Stack underflow !")
var t=this.peek()
return this.value.pop(t),t},this.isEmpty=function(){return 0===this.value.length},this.isFull=function(){return null!=this.lim?this.value.length>=this.limit:!1},this.size=function(){return this.value.length},this.toString=function(){return"Stack("+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function StackArray(t){return this.value=new Array(t),this.top=-1,this.peek=function(){return this.value[this.top]},this.push=function(t){if(this.isFull())throw new Error("Stack overflow !")
if(isType(t,"array"))for(var i=0;i<t.length;i++)this.push(t[i])
else this.top++,this.value[this.top]=t},this.pop=function(t){if(this.isEmpty())throw new Error("Stack underflow !")
if(!isType(t,"array")){var i=this.peek()
return this.top--,i}for(var s=0;s<t.length;s++)this.pop(t[s])},this.isEmpty=function(){return this.top<=-1},this.isFull=function(){return this.top>=this.value.length},this.size=function(){return this.top+1},this.toString=function(){return"Stack("+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function StackList(t){return this.top=new Node,this.peek=function(){return this.isEmpty()||null==this.top?null:this.top.next.payload},this.push=function(t){if(isType(t,"array"))for(var i=0;i<t.length;i++)this.push(t[i])
else{var s=new Node(t,this.top)
this.top=s}return this},t&&this.push(t),this.pop=function(t){if(!this.isEmpty())throw new Error("I can't pop from an empty stack list")
if(!t){var i=this.top.payload
return this.top=this.top.next,i}for(var s=0;t>s;s++)this.pop()},this.isEmpty=function(){return null==this.top},this.size=function(t){return null!=this.top?this.size(t+1):t},this}function Queue(t,i){return this.value=isType(i,"Number")?new Array(i):[],this.limit=i||null,t&&this.value.push(t),this.enqueue=function(t){if(this.isFull())throw new Error("Queue overflow !")
isType(t,"array")?this.value.preppend(t):this.value.unshift(t)},this.dequeue=function(){if(this.isEmpty())throw new Error("Queue underflow !")
var t=this.head()
return this.value.pop(),t},this.head=function(){return this.value.last()},this.tail=function(){return this.value[0]},this.isEmpty=function(){return 0===this.value.length},this.isFull=function(){return null!=this.lim?this.value.length>=this.limit:!1},this.size=function(){return this.value.length},this.toString=function(){return"Queue(head = "+this.head()+", tail = "+this.tail()+", value = "+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function QueueArray(t){return this.value=t||[],this.front=-1,this.back=-1,this.enqueue=function(t){if(isType(t,"array"))for(var i=0;i<t.length;i++)this.enqueue(t[i])
else{if(this.isFull())throw new Error("The queue is full")
this.isEmpty()?(this.front++,this.back++,this.value[this.back]=t):(this.back=(this.back+1)%this.value.length,this.value[this.back]=t)}},this.dequeue=function(){var t
if(this.isEmpty())throw new Error("I can't dequeue from an empty queue")
return this.front===this.back?(t=this.value[this.front],this.front=this.back=-1):(t=this.value[this.front],this.front=(this.front+1)%this.value.length),t},this.isEmpty=function(){return-1===this.front&&-1===this.back},this.isFull=function(){return this.back>(this.front+1)%this.value.length},this.size=function(){return this.value.length},this.toString=function(){return"Queue(front = "+this.front+", back = "+this.back+", value = "+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function QueueList(){return this.front=null,this.back=null,this.len=0,this.enqueue=function(t){if(isType(t,"array"))for(var i=0;i<t.length;i++)this.enqueue(t[i])
else{var s=null!=this.back?new Node(t,this.back,null):new Node(t)
null!=this.back.prev&&(this.back.prev=s),this.back=s,this.len++}return this},this.dequeue=function(){if(this.isEmpty())throw new Error("I can't dequeue an empty queue list")
return this.front=this.front.prev,this.len--,this.front},this.isEmpty=function(){return 0===this.len||null===this.back},this.size=function(){return this.len},this.toString=function(){for(var t="",i=this.front;null!=i;)t+="<-"+i.payload,i=i.prev
return t},this.equals=function(t){return this.toString()===t.toString()},this.remove=function(t){for(var i=this.front;null!=i;)null==i.payload||i.payload!=t&&!i.payload.equals(t)||(i=null),i=i.next},this.insertAt=function(t,i){this.back.next=new Node(i),0===t?this.front=new Node(i):t===this.len?this.back=new Node(i):t>this.len&&this.enqueue(i)},this}function Astar(t,i){for(var s,n,r,e=i,a=[t],o=[];a.length>0;){var u=[],l=a[0].f
for(var f in a)a.hasOwnProperty(f)&&(u.push(a[f].f),l=Math.min(l,a[f].f))
if(s=a.filter(function(t){return t.f===l?t:void 0})[0],a=a.filter(function(t){return t.f!=l?t:void 0}),s===e){for(nodeSucessor in s)if(s.hasOwnProperty(n)){n.f=s.f+h(n,s)
var c=lookfor(n,a)
if(-1!=c){if(c=c[0],s.f<a[c]||-1!=lookfor(n,o)&&s.f<a[lookfor(n,o)][0])continue
a=a.remove(n),o=o.remove(n),n.parent=s,r=h(n,e),a.push(n)}o.push(s)}throw"Solution found ! With h="+r}}}function A(t,i,s){for(var n=[],r=[t],e=[],h=[0],a=[euclidianDist(t,i)];r.length>0;){var o=r[a.indexOf(a.min())]
if(o===i)return reconPath(e,o,s)
r=r.remove(o),n.push(o)
var u=s.neighbour(o[0],o[1])
Essence.say("neighbour of "+o+":\n"+u.toStr(!0),"info")
for(var l=0;u>l;l++)if(!(n.indexOf(u[l])>-1)){var f=h[n.indexOf(o)]+1
if(-1===n.indexOf(u[l]))r.push(u[l])
else if(f>=h[l])break}e[l]=o,h[l]=f,a[l]=h[l]+euclidianDist(u[l],i)}}function reconPath(t,i,s){for(var n=[i];i in keyList(t);)i=t[s.lookFor(i)],n.append(i)
return n}function IDAstar(){}function alphabetSort(t){if(!t.isIterable())throw new Error("alphabetSort cannot sort non iterable objects")
if(isType(t,"String"))return t.split("").quickSort().join("")
for(var i=t.uniform(),s=!0,n=1;s;){s=!1
for(var r=0;r<i.maxLength();r++){for(var e=0;e<i.length-n;e++)0==r&&i[e].charAt(r)>i[e+1].charAt(r)?(swap(i,e,e+1),s=!0):i[e].charAt(r-1)===i[e+1].charAt(r-1)&&i[e].charAt(r)>i[e+1].charAt(r)&&(swap(i,e,e+1),s=!0)
n++}}return i.trimAll("r")}function occurrenceSort(t){var i=rmDuplicates(t),s=[],n=i.map(function(i){return t.count(i)})
for(console.log("tmp",i,"\ncounts",n);i.length>0;){console.log(" tmp",i,"\ncounts",n)
for(var r=0;r<i.length;r++)n[r]===n.max()&&(s.push(i[r]),n=n.remove(n[r]),i=i.remove(i[r]))}return s}function occSort(t){var i=t.map(function(i){return t.count(i)}),s=rmDuplicates(t),n=Objectify(s,i)
return n}function binarySearch(t,i){t.quickSort()
for(var s=2,n=t[Math.floor(t.length/s)];n!=i&&s>0;){if(n===i)return!0
s*=2,n=i>n?t[Math.floor(t.length/s)]:t[3*Math.floor(t.length/s)]}return n===i}function Archive(t,i){return this.name=t||"Archive",this.data=i||"",this.dictionnary=[],this.result=[],this.updateDict=function(){for(var t,s=[],n=alphabetSort(i),r=0;r<this.data.length-1;r++)n[r]!=n[r+1]&&s.push(n[r])
for(s=rmDuplicates(s),t=new Array(s.length),n=[],r=0;r<s.length;r++)t[r]=i.count(s[r]),n[r]=s[r]+t[r]
for(this.dictionnary=occurrenceSort(this.data),r=0;r<this.dictionnary.length;r++)this.result[r]=conv(r,10,2)},this.getResult=function(){this.updateDict()
for(var t=this.data,i=0;i<this.data.length;i++)console.log(i+"// "+this.dictionnary[this.dictionnary.indexOf(this.data[i])]),t=t.replace(RegExpify(this.dictionnary[this.dictionnary.indexOf(this.data[i])]),this.result[i])
return t},this}function virtualHistory(t){return this.src=t,this.DEFAULT_STATE=t,this.states=new Set(this.src),this.state=0,this.reset=function(){this.src=this.DEFAULT_STATE},this.update=function(t){this.src!=t&&this.add(t)},this.add=function(t){if(isType(t,"array"))for(var i=0;i<t.length;i++)this.add(t[i])
else this.src=t,this.states.add(this.src),this.state++},this.get=function(t){return this.states.get(t)},this.undo=function(){if(0===this.state)throw new Error("Set underflow, it's not possible to undo to a non-existent state.")
this.state--,this.src=this.get(this.state)},this.redo=function(){if(this.state===this.states.size()-1)throw new Error("Set overflow, it's not possible to redo to a non-existent state.")
this.state++,this.src=this.get(this.state)},this.getStates=function(){return this.states.toString()},this.isStateDefault=function(){return this.src===this.DEFAULT_STATE},this}function occurrenceList(t){if(!t.isIterable())throw new Error("It must be an iterable object !")
for(var i=t.getOccurrences(!0),s=[],n=t.getOccurrences(),r={},e=0;e<n.length;e++)s[e]=n[e].split(":")[0]
for(e=0;e<i.length;e++)r[s[e]]=i[e]
return r}function Stream(initVal,formula,nbVals){if(this.start=initVal||0,this.formula=formula||"x + 1",this.data=[this.start],this.next=function(){this.data.push(eval(this.formula.multiReplace([[/x/g,this.data.last()],[/x0/g,this.start],[/pi/gi,Math.PI],[/e/gi,Math.E],[/sqrt(2)/gi,Math.SQRT2],[/(pow|max|min)\((.*?),(| )(.*?)\)/,"Math.$1($2, $3)"],[/(sqrt|cbrt|cos|sin|tan|acos|asin|cosh|sinh|tanh|acosh|asinh|atanh|exp|abs)\((.*?)\)/,"Math.$1($2)"],[/(ln|log|nthroot|clampTop|clampBottom)\((.*?),(| )(.*?)\)/,"$1($2, $3)"],[/(clamp)\((.*?),(| )(.*?),(| )(.*?)\)/,"$1($2, $3, $)"]])))},nbVals)for(var i=1;nbVals>i;i++)this.next()
return this.toString=function(){return"Stream(start="+this.start+", formula="+this.formula+", data="+this.data.toStr(!0)+")"},this}function MultiStream(initVal,formula,nbVals){if(this.start=initVal||0,this.formula=formula||"x + y",this.data=[this.start],this.results=[],this.next=function(){this.data.push(this.data.last().map(function(t){return t+1})),this.results.push(this.compute(this.data.last()))},this.compute=function(data){return eval(this.formula.multiReplace([[/x/g,data[0]],[/x0/g,this.start[0]],[/y/g,data[1]],[/y0/g,this.start[1]],[/z/g,data[2]],[/z0/g,this.start[2]],[/pi/gi,Math.PI],[/e/gi,Math.E],[/sqrt(2)/gi,Math.SQRT2],[/(pow|max|min)\((.*?),(| )(.*?)\)/,"Math.$1($2, $3)"],[/(sqrt|cbrt|cos|sin|tan|acos|asin|cosh|sinh|tanh|acosh|asinh|atanh|exp|abs|e\^)\((.*?)\)/,"Math.$1($2)"],[/(ln|log|nthroot|clampTop|clampBottom)\((.*?),(| )(.*?)\)/,"$1($2, $3)"],[/(clamp)\((.*?),(| )(.*?),(| )(.*?)\)/,"$1($2, $3, $4)"]]))},this.results=[this.compute(this.start)],nbVals>1)for(var i=1;nbVals>i;i++)this.next()
return this.toString=function(){return"Stream(start="+this.start.toStr(!0)+", formula="+this.formula+", data="+this.data.toStr(!0)+", results="+this.results.toStr(!0)+")"},this}function Graph(t,i,s,n,r){this.labels=s||["x","y"],this.name=n||"Graph",this.dimension=i||new Array(this.labels.length).fill(50),this.equation=new Equation(t),this.data=r?range(0,r,this.dimension[0],Number(r).length()[1]):range(this.dimension[0])
for(var e=0;e<this.data.length;e++)this.data[e]=[this.data[e],this.equation.compute({x:this.data[e]})]
return this.toString=function(){return"Graph(name="+this.name+", labels="+this.labels.toStr(!0)+", dimension="+this.dimension+", this.formula="+this.formula+", data="+this.data+")"},this}function Permutation(t){console.log("data="+t),console.log("->"+t.get(-1))
var i=[t]
return i.append(t.length>1?Permutation(t.get(-1)):t),console.log("perm="+i),i}function EventTable(t,i){return this.name=t||"Event table",this.sources=i||[getFilename(!0)],this.table=[["Source","Event","Timestamp"]],this.add=function(t){this.table.push([t.source||getFilename(!0),t.event,t.timestamp||(new Date).getTime()]),this.sources.uniquePush(t.source||getFilename(!0))},this.make=function(t,i){var s=(new Date).getTime()
i||(i=1)
for(var n=0;(t||1e3)>n;n+=i)this.add({timestamp:s+n})},this.fill=function(t,i){var s=(new Date).getTime(),n=lookfor(s,this.table);-1===n&&s>this.table.last()[2]?this.add({source:t,event:i,timestamp:s}):(this.table[n[0]][0]=t,this.table[n[0]][1]=i)},this.getCleanTable=function(){for(var t=[],i=0;i<this.table.length;i++)isNon(this.table[i][1])||t.push(this.table[i])
return t},this.lookAt=function(t){var i=lookfor(t||(new Date).getTime(),this.table)[0]
return"'"+this.table[i][1]+"' at "+this.table[i][0]},this}function Map(t){return this.keys=new Set(t||[]),this.values=this.add=function(t,i){if(Essence.say("Adding key/value: "+t+" / "+i),isType(t,"Array")&&isType(i,"Array")){for(var s=0;t>s;s++)this.add(t[s],i[s])
Essence.say("Multi")}else if(isType(t,"Array")){for(s=0;t>s;s++)this.add(t[s],i)
Essence.say("Multi key")}this.keys.add(t),void 0===this.values[t]&&(this.values[t]=[]),this.values[t].push(i||null)},this.clear=function(t){t?this.values[t]=[]:this.keys=new Set},this.has=function(t){for(var i in this.keys)if(this.keys.hasOwnProperty(i)&&this.keys[i].indexOf(t)>-1)return!0
return!1},this.hasKey=function(t){return this.keys.contains(t)},this.size=function(){var t=this.values
return this.keys.value.map(function(i){return t[i].length})},this.elements=function(t){var i=this.values
return this.keys.value.map(function(s){return t?i[s].toStr(!0):i[s].toString()}).toStr(!0)},this.isEmpty=function(){return this.keys.isEmpty()},this.get=function(t){return this.values[t]},this.remove=function(t,i){i?this.values[t]=this.values[t].remove(i):this.keys.remove(t)},this.toString=function(){return"Map(key/values="+this.values.toArray().toStr(!0)+")"},this.forEach=function(t){for(var i=0;i<this.keys.size();i++)t(this.keys.get(i))},this.merge=function(t){this.keys.add(t.keys.value,t.values)},this.set=function(t,i){this.keys.set(this.keys.indexOf(t),i)},this.replace=function(t,i,s){this.values[t].indexOf(i)>-1&&(this.values[t]=this.values[t].replace(i,s))},this.replaceAll=function(t,i){var s=this
this.forEach(function(n){s.replace(n,t,i)})},this}var DataStruct={name:"DataStruct",version:1,run:function(){},description:"Data structures",dependency:["DOM","Maths","Files"],author:"Maximilian Berkmann",complete:!1,toString:function(){return"Module(name='"+this.name+"', version="+this.version+", description='"+this.description+"', author='"+this.author+"', complete="+this.complete+", run="+this.run+")"}}
!function(){DataStruct.complete=!0}(),NTreeNode.inheritsFrom(TreeNode),SortedSet.inheritsFrom(Set)
