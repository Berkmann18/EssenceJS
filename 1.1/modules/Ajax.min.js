function GET(t){return t===new RegExp("[?&]"+encodeURIComponent(t)+"=([^&]*)").exec(location.search)?decodeURIComponent(t[1]):void 0}function POST(t,e){var i=document.createElement("form")
i.setAttribute("method","post"),i.setAttribute("action",t)
for(var n in e)if(e.hasOwnProperty(n)){var r=document.createElement("input")
r.setAttribute("type","hidden"),r.setAttribute("name",n),r.setAttribute("value",e[n]),i.appendChild(r)}document.body.appendChild(i),i.submit()}function PUT(){}function DELETE(){}function loadDoc(t,e){var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")
i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i)},i.open("GET",t,!0),i.send()}function AJAXpost(t,e,i){var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")
n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(res=i?n.responseXML:n.responseText)},n.open("POST",e,!0),i?(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t)):(n.setRequestHeader("Content-Type","text/plain"),n.send(t))}function getHTTPMsg(t){switch(t){case 100:return"Continue"
case 101:return"Switching Protocols"
case 200:return"OK"
case 201:return"Created"
case 202:return"Accepted"
case 203:return"Non-Authoriative Information"
case 204:return"No Content"
case 205:return"Reset Content"
case 206:return"Partial Content"
case 300:return"Multiple Choices"
case 301:return"Moved Permanently"
case 302:return"Found"
case 303:return"See Other"
case 304:return"Not Modified"
case 305:return"Use Proxy"
case 306:return"Unused"
case 307:return"Temporary Redirect"
case 400:return"Bad Request"
case 401:return"Unauthorized"
case 402:return"Payment Required"
case 403:return"Forbidden"
case 404:return"Not Found"
case 405:return"Method Not Allowed"
case 406:return"Not Acceptable"
case 407:return"Proxy Authentification Required"
case 408:return"Request Timeout"
case 409:return"Conflict"
case 410:return"Gone"
case 411:return"Length Required"
case 412:return"Precondition Failed"
case 413:return"Requeust Entity Too Large"
case 414:return"Request-url Too Long"
case 415:return"Bad Request"
case 416:return"Unsupported Media Type"
case 417:return"Expectation Failed"
case 500:return"Internal Server Error"
case 501:return"Not Implemented"
case 502:return"Bad Gateway"
case 503:return"Service Unavailable"
case 504:return"Gateway Timeout"
case 505:return"HTTP Version Not Supported"
default:return"Unknown status"}}function LinkedList(t,e,i){return this.payload=t||1,this.next=e||{payload:1,next:null},this.next.show=function(){return this.name+":"+this.next.payload+"->"},this.name=i,this.show=function(){return this.name+":"+this.payload+"->"+this.next.show()},this.toString=function(){return"LinkedList("+this.show()+")"},this}function TreeNode(t,e,i){return this.left=e,this.right=i,this.payload=t||0,this.add=function(t,e){this.left=t,this.right=e},this.addLeft=function(t){for(var e=0;e<t.length;e++)0===e?this.left=t[0]:t[e-1].left=t[e]},this.addRight=function(t){for(var e in t)t.hasOwnProperty(e)&&(0===e?this.right=t[0]:t[e-1].right=t[e])},this.traverse=function(){return this.left&&this.left.traverse(),this.right&&this.right.traverse(),this},this.printInOrder=function(){this.left&&this.left.printInOrder(),Essence.addToPrinter(this.payload+"->"),this.right&&this.right.printInOrder(),Essence.addToPrinter("\r\n")},this.printPreOrder=function(){Essence.addToPrinter(this.payload+"->"),this.left&&this.left.printPreOrder(),this.right&&this.right.printPreOrder(),Essence.addToPrinter("\r\n")},this.printPostOrder=function(){this.left&&this.left.printPreOrder(),this.right&&this.right.printPreOrder(),Essence.addToPrinter(this.payload+"->"),Essence.addToPrinter("\r\n")},this.inOrder=function(t,e,i,n){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),n||(n="|-"),this.left&&this.left.inOrder(t+e,e,i+1,n),println(t+n+this.payload+e+" (deepth = "+i+")"),this.right&&this.right.inOrder(t+e,e,i+1,n)},this.preOrder=function(t,e,i,n){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),n||(n="|-"),println(t+n+this.payload+e+" (deepth = "+i+")"),this.left&&this.left.preOrder(t+e,e,i+1,n),this.right&&this.right.preOrder(t+e,e,i+1,n)},this.postOrder=function(t,e,i,n){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),n||(n="|-"),this.left&&this.left.postOrder(t+e,e,i+1,n),this.right&&this.right.postOrder(t+e,e,i+1,n),println(t+n+this.payload+e+" (deepth = "+i+")")},this.getInOrder=function(t){t||(t="->")
var e=""
return this.left&&(e+=this.left.getInOrder(t)),e+=t+this.payload,this.right&&(e+=this.right.getInOrder(t)),e},this.getPreOrder=function(t){t||(t="->")
var e=""
return e+=t+this.payload,this.left&&(e+=this.left.getPreOrder(t)),this.right&&(e+=this.right.getPreOrder(t)),e},this.getPostOrder=function(t){t||(t="->")
var e=""
return this.left&&(e+=this.left.getPostOrder(t)),this.right&&(e+=this.right.getPostOrder(t)),e+t+this.payload},this.isLeaf=function(){return!this.left&&!this.right},this.find=function(t,e){return"bfs"===e.normal()?this.bfs(t):this.dfs(t)},this.dfs=function(t,e,i){e||(e=0),i||(i=0)
var n=[]
for(n.push(this);n!=[];){e=0
var r=n.pop()
try{if(r.payload===t)return[e,i]}catch(s){return[-1,i]}r.left&&n.push(r.left),r.right&&n.push(r.right),e++,i++}},this.bfs=function(t,e,i){e||(e=0),i||(i=0)
var n=[]
for(n.unshift(this);n!=[];){e=0
var r=n.pop()
try{if(r.payload===t)return[e,i]}catch(s){return[-1,i]}r.left&&n.unshift(r.left),r.right&&n.unshift(r.right),e++,i++}},this.sum=function(){var t=this.payload
return this.left&&(t+=this.left.sum()),this.right&&(t+=this.right.sum()),t},this.min=function(){var t=this.payload
return this.left&&(t=Math.min(t,this.left.min())),this.right&&(t=Math.min(t,this.right.min())),t},this.max=function(){var t=this.payload
return this.left&&(t=Math.max(t,this.left.max())),this.right&&(t=Math.max(t,this.right.max())),t},this.nbOfBranches=function(t){return t||(t=0),this.left&&(t=this.left.nbOfBranches(t+1)),this.right&&(t=this.right.nbOfBranches(t+1)),t},this.avg=function(){return this.sum()/this.nbOfBranches()},this.printBFS=function(t){t||(t="->")
var e=[],i=""
for(e.unshift(this);e!=[];){var n=e.pop()
i+=n+t
try{n.left&&e.unshift(n.left),n.right&&e.unshift(n.right)}catch(r){Essence.say(r+" caused "+this+".printBFS("+t+") to go wrong","err")}}return t},this.toString=function(){var t="TreeNode(payload = "+this.payload+", "
return this.left&&(t+="left = "+this.left.toString()),this.right&&(t+="right = "+this.right.toString()),t.substring(0,t.length)+")"},this.toArray=function(t){var e=[]
return this.left&&(t?e.push(this.left.toArray().toString().split(",")):e.push(this.left.toArray())),e.push(this.payload),this.right&&(t?e.push(this.right.toArray().toString().split(",")):e.push(this.right.toArray())),t?e.toString().split(","):e},this}function Node(t,e,i){return this.payload=t||1,this.next=e,this.prev=i,this.traverse=function(){this.next&&this.next.traverse(),Essence.say("payload: "+this.payload)},this.print=function(){null!=this.next&&this.next.print(),Essence.print(this.payload+"=>")},this.printList=function(){null===this.next?Essence.txt2print+="->"+this.v:this.next.printList(),Essence.print("")},this.last=function(){return null===this.next?this:this.next.last()},this.append=function(t){null===this.next?(this.next=new Node(t),this.next.prev=this):this.next.append(t)},this.remove=function(){var t=this.next
this.next=t.next,t.next.prev=this},this.reverse=function(){if(null==this.next)return this
var t=this.next.reverse()
return t.next=this,t.prev=null,this.prev=t,this.next=null,t},this.toString=function(){return"Node(payload = "+this.payload+", previous = "+this.prev+", next = "+this.next+")"},this.equals=function(t){return this.payload===t.payload&&this.next.equals(t.next)&&this.prev.equals(t.prev)},this.find=function(t,e){return e||(e=0),this.payload===t?e:this.next?this.next.find(t,e+1):[-1,e]},this}function PathNode(t,e){return this.f=t+e||1,this.parent=null,this}function NTreeNode(t,e){return this.payload=t||0,this.childs=e||[],this.add=function(t){this.childs.push(t)},this.traverse=function(){for(var t in this.childs)this.childs.hasOwnProperty(t)&&t.traverse()
return this},this.printInOrder=function(){for(var t=0;t<this.childs-1;t++)this.childs[t].printInOrder(),Essence.addToPrinter(this.payload+"->"),this.childs[t+1].printInOrder(),Essence.addToPrinter("\r\n")},this.printPreOrder=function(){for(var t=0;t<this.childs-1;t++)Essence.addToPrinter(this.payload+"->"),this.childs[t].printInOrder(),this.childs[t+1].printInOrder(),Essence.addToPrinter("\r\n")},this.printPostOrder=function(){for(var t=0;t<this.childs-1;t++)this.childs[t].printInOrder(),this.childs[t+1].printInOrder(),Essence.addToPrinter(this.payload+"->"),Essence.addToPrinter("\r\n")},this.inOrder=function(t,e,i,n){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),n||(n="|-")
for(var r=0;r<this.childs-1;r++)this.childs[r].inOrder(t+e,e,i+1,n),println(t+n+this.payload+e+" (deepth= "+i+")"),this.childs[r].inOrder(t+e,e,i+1,n),Essence.addToPrinter("\r\n")},this.preOrder=function(t,e,i,n){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),n||(n="|-")
for(var r=0;r<this.childs-1;r++)println(t+n+this.payload+e+" (deepth= "+i+")"),this.childs[r].inOrder(t+e,e,i+1,n),this.childs[r].inOrder(t+e,e,i+1,n),Essence.addToPrinter("\r\n")},this.postOrder=function(t,e,i,n){t||(t=""),e||(e="&nbsp;&nbsp;"),i||(i=0),n||(n="|-")
for(var r=0;r<this.childs-1;r++)this.childs[r].inOrder(t+e,e,i+1,n),this.childs[r].inOrder(t+e,e,i+1,n),println(t+n+this.payload+e+" (deepth = "+i+")"),Essence.addToPrinter("\r\n")},this.getOrder=function(t){return this.childs.join(t||"->")},this.isLeaf=function(){return!isNon(this.childs)},this.find=function(t,e){return"bfs"===e.normal()?this.bfs(t):this.dfs(t)},this.dfs=function(t,e,i){e||(e=0),i||(i=0)
for(var n in this.childs)this.childs.hasOwnProperty(n)&&n.dfs(t,e+1,i++)
return[-1,i]},this.bfs=function(t,e,i){e||(e=0),i||(i=0)
var n=[]
for(n.unshift(this);n!=[];){e=0
var r=new TreeNode(n.pop())
if(r.payload===t)return[e,i]
r.left&&n.unshift(r.left),r.right&&n.unshift(r.right),e++,i++}return[-1,i]},this.sum=function(){var t=this.payload
for(var e in this.childs)this.childs.hasOwnProperty(e)&&(t+=e.payload)
return t},this.min=function(){var t=this.payload
for(var e in this.childs)this.childs.hasOwnProperty(e)&&(t=Math.min(t,e.payload))
return t},this.max=function(){var t=this.payload
for(var e in this.childs)this.childs.hasOwnProperty(e)&&(t=Math.max(t,e.payload))
return t},this.nbOfBranches=function(t){t||(t=0)
for(var e in this.childs)this.childs.hasOwnProperty(e)&&(t=e.nbOfBranches(t+1))
return t},this.avg=function(){return this.sum()/this.nbOfBranches()},this.printBFS=function(t){var e=[],i=t||"-"
for(e.unshift(this);e!=[];){var n=new TreeNode(e.pop())
println(i+">"+n.payload),i+="-"
for(var r in this.childs)this.childs.hasOwnProperty(r)&&e.unshift(r)}},this.toString=function(){var t="TreeNode(payload= "+this.payload+", "
for(var e in this.childs)this.childs.hasOwnProperty(e)&&(t+=e.toString())
return t.substring(0,t.length)+")"},this.toArray=function(t){var e=[]
e.push(this.payload)
for(var i in this.childs)this.childs.hasOwnProperty(i)&&(t?e.push(i.toArray().toString().split(",")):e.push(i.toArray()))
return t?e.toString().split(","):e},this}function Set(t){return this.value=(isType(t,"arr")?t:[t])||[],this.size=function(){return this.value.length},this.add=function(t){-1===this.value.indexOf(t)&&(isType(t,"array")?this.value=this.value.concat(t):this.value.push(t))},this.remove=function(t){if(-1!==this.value.indexOf(t))if(isType(t,"array"))for(var e=0;e<t.length;e++)this.remove(t[e])
else this.value=this.value.remove(t)},this.clear=function(){this.value=[]},this.isEmpty=function(){return this.value===[]},this.contains=function(t){if(isType(t,"array")){for(var e=!0,i=0;i<t.length;i++){if(!e)return!1
e=e&&this.contains(t[i])}return e}return-1!=this.value.indexOf(t)},this.equals=function(t){return this.value.toString()===t.value.toString()},this.isSame=function(t){if(this.equals(t))return!0
for(var e=!0,i=0;i<t.size();i++){if(!e)return!1
e=e&&this.contains(t.value[i])}return e},this.toString=function(){return"Set("+this.value.toString()+")"},this.subset=function(t,e){return this.value.slice(t,e+1)},this.get=function(t){return this.value[t]},this.first=function(){return this.value[0]},this.last=function(){return this.value[this.value.lastIndex()]},this.min=function(t,e){return this.value.min(t,e)},this.max=function(t,e){return this.value.max(t,e)},this.median=function(t,e){return this.value.max(t,e)},this}function SortedSet(t){return this.value=t||[],this.add=function(t){-1===this.value.indexOf(t)&&(isType(t,"array")?this.value=this.value.concat(t):this.value.push(t)),this.value.quickSort()},this}function Stack(t,e){return this.value=isType(e,"Number")?new Array(e):[],this.limit=e||null,t&&this.value.push(t),this.peek=function(){return this.value.last()},this.ground=function(){return this.value[0]},this.push=function(t){if(this.isFull())throw new Error("Stack overflow !")
isType(t,"array")?this.value.append(t):this.value.push(t)},this.pop=function(){if(this.isEmpty())throw new Error("Stack underflow !")
var t=this.peek()
return this.value.pop(t),t},this.isEmpty=function(){return 0===this.value.length},this.isFull=function(){return null!=this.lim?this.value.length>=this.limit:!1},this.size=function(){return this.value.length},this.toString=function(){return"Stack("+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function StackArray(t){return this.value=new Array(t),this.top=-1,this.peek=function(){return this.value[this.top]},this.push=function(t){if(this.isFull())throw new Error("Stack overflow !")
if(isType(t,"array"))for(var e=0;e<t.length;e++)this.push(t[e])
else this.top++,this.value[this.top]=t},this.pop=function(t){if(this.isEmpty())throw new Error("Stack underflow !")
if(!isType(t,"array")){var e=this.peek()
return this.top--,e}for(var i=0;i<t.length;i++)this.pop(t[i])},this.isEmpty=function(){return this.top<=-1},this.isFull=function(){return this.top>=this.value.length},this.size=function(){return this.top+1},this.toString=function(){return"Stack("+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function StackList(t){return this.top=new Node,this.peek=function(){return this.isEmpty()||null==this.top?null:this.top.next.payload},this.push=function(t){if(isType(t,"array"))for(var e=0;e<t.length;e++)this.push(t[e])
else{var i=new Node(t,this.top)
this.top=i}return this},t&&this.push(t),this.pop=function(t){if(!this.isEmpty())throw new Error("I can't pop from an empty stack list")
if(!t){var e=this.top.payload
return this.top=this.top.next,e}for(var i=0;t>i;i++)this.pop()},this.isEmpty=function(){return null==this.top},this.size=function(t){return null!=this.top?this.size(t+1):t},this}function Queue(t,e){return this.value=isType(e,"Number")?new Array(e):[],this.limit=e||null,t&&this.value.push(t),this.enqueue=function(t){if(this.isFull())throw new Error("Queue overflow !")
isType(t,"array")?this.value.preppend(t):this.value.unshift(t)},this.dequeue=function(){if(this.isEmpty())throw new Error("Queue underflow !")
var t=this.head()
return this.value.pop(),t},this.head=function(){return this.value.last()},this.tail=function(){return this.value[0]},this.isEmpty=function(){return 0===this.value.length},this.isFull=function(){return null!=this.lim?this.value.length>=this.limit:!1},this.size=function(){return this.value.length},this.toString=function(){return"Queue(head = "+this.head()+", tail = "+this.tail()+", value = "+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function QueueArray(t){return this.value=t||[],this.front=-1,this.back=-1,this.enqueue=function(t){if(isType(t,"array"))for(var e=0;e<t.length;e++)this.enqueue(t[e])
else{if(this.isFull())throw new Error("The queue is full")
this.isEmpty()?(this.front++,this.back++,this.value[this.back]=t):(this.back=(this.back+1)%this.value.length,this.value[this.back]=t)}},this.dequeue=function(){var t
if(this.isEmpty())throw new Error("I can't dequeue from an empty queue")
return this.front===this.back?(t=this.value[this.front],this.front=this.back=-1):(t=this.value[this.front],this.front=(this.front+1)%this.value.length),t},this.isEmpty=function(){return-1===this.front&&-1===this.back},this.isFull=function(){return this.back>(this.front+1)%this.value.length},this.size=function(){return this.value.length},this.toString=function(){return"Queue(front = "+this.front+", back = "+this.back+", value = "+this.value.toString()+")"},this.equals=function(t){return this.toString()===t.toString()},this}function QueueList(){return this.front=null,this.back=null,this.len=0,this.enqueue=function(t){if(isType(t,"array"))for(var e=0;e<t.length;e++)this.enqueue(t[e])
else{var i=null!=this.back?new Node(t,this.back,null):new Node(t)
null!=this.back.prev&&(this.back.prev=i),this.back=i,this.len++}return this},this.dequeue=function(){if(this.isEmpty())throw new Error("I can't dequeue an empty queue list")
return this.front=this.front.prev,this.len--,this.front},this.isEmpty=function(){return 0===this.len||null===this.back},this.size=function(){return this.len},this.toString=function(){for(var t="",e=this.front;null!=e;)t+="<-"+e.payload,e=e.prev
return t},this.equals=function(t){return this.toString()===t.toString()},this.remove=function(t){for(var e=this.front;null!=e;)null==e.payload||e.payload!=t&&!e.payload.equals(t)||(e=null),e=e.next},this.insertAt=function(t,e){this.back.next=new Node(e),0===t?this.front=new Node(e):t===this.len?this.back=new Node(e):t>this.len&&this.enqueue(e)},this}function Astar(t,e){for(var i,n,r,s=e,a=[t],o=[];a.length>0;){var u=[],l=a[0].f
for(var c in a)a.hasOwnProperty(c)&&(u.push(a[c].f),l=Math.min(l,a[c].f))
if(i=a.filter(function(t){return t.f===l?t:void 0})[0],a=a.filter(function(t){return t.f!=l?t:void 0}),i===s){for(nodeSucessor in i)if(i.hasOwnProperty(n)){n.f=i.f+h(n,i)
var d=lookfor(n,a)
if(-1!=d){if(d=d[0],i.f<a[d]||-1!=lookfor(n,o)&&i.f<a[lookfor(n,o)][0])continue
a=a.remove(n),o=o.remove(n),n.parent=i,r=h(n,s),a.push(n)}o.push(i)}throw"Solution found ! With h="+r}}}function A(t,e,i){for(var n=[],r=[t],s=[],a=[0],h=[euclidianDist(t,e)];r.length>0;){var o=r[h.indexOf(h.min())]
if(o===e)return reconPath(s,o,i)
r=r.remove(o),n.push(o)
var u=i.neighbour(o[0],o[1])
Essence.say("neighbour of "+o+":\n"+u.toStr(!0),"info")
for(var l=0;u>l;l++)if(!(n.indexOf(u[l])>-1)){var c=a[n.indexOf(o)]+1
if(-1===n.indexOf(u[l]))r.push(u[l])
else if(c>=a[l])continue}s[l]=o,a[l]=c,h[l]=a[l]+euclidianDist(u[l],e)}}function reconPath(t,e,i){for(var n=[e];e in keyList(t);)e=t[i.lookFor(e)],n.append(e)
return n}function IDAstar(){}function alphabetSort(t){if(!t.isIterable())throw new Error("alphabetSort cannot sort non iterable objects")
if(isType(t,"String"))return t.split("").quickSort().join("")
for(var e=t.uniform(),i=!0,n=1;i;){i=!1
for(var r=0;r<e.maxLength();r++){for(var s=0;s<e.length-n;s++)0==r&&e[s].charAt(r)>e[s+1].charAt(r)?(swap(e,s,s+1),i=!0):e[s].charAt(r-1)===e[s+1].charAt(r-1)&&e[s].charAt(r)>e[s+1].charAt(r)&&(swap(e,s,s+1),i=!0)
n++}}return e.trimAll("r")}function occurrenceSort(t){for(var e=rmDuplicates(t),i=[],n=[],r=0;r<e.length;r++)n[r]=t.count(e[r])
for(;e.length>0;)for(r=0;r<e.length;r++)n[r]===n.max()&&(i.push(e[r]),n=n.remove(n[r]),e=e.remove(e[r]))
return i}function binarySearch(t,e){t.quickSort()
for(var i=2,n=t[Math.floor(t.length/i)];n!=e&&i>0;){if(n===e)return!0
i*=2,n=e>n?t[Math.floor(t.length/i)]:t[3*Math.floor(t.length/i)]}return n===e}function Archive(t,e){return this.name=t||"Archive",this.data=e||"",this.dictionnary=[],this.result=[],this.updateDict=function(){for(var t,i=[],n=alphabetSort(e),r=0;r<this.data.length-1;r++)n[r]!=n[r+1]&&i.push(n[r])
for(i=rmDuplicates(i),t=new Array(i.length),n=[],r=0;r<i.length;r++)t[r]=e.count(i[r]),n[r]=i[r]+t[r]
for(this.dictionnary=occurrenceSort(this.data),r=0;r<this.dictionnary.length;r++)this.result[r]=conv(r,10,2)},this.getResult=function(){this.updateDict()
for(var t=this.data,e=0;e<this.data.length;e++)console.log(e+"// "+this.dictionnary[this.dictionnary.indexOf(this.data[e])]),t=t.replace(RegExpify(this.dictionnary[this.dictionnary.indexOf(this.data[e])]),this.result[e])
return t},this}function virtualHistory(t){return this.src=t,this.DEFAULT_STATE=t,this.states=new Set(this.src),this.state=0,this.reset=function(){this.src=this.DEFAULT_STATE},this.update=function(t){this.src!=t&&this.add(t)},this.add=function(t){if(isType(t,"array"))for(var e=0;e<t.length;e++)this.add(t[e])
else this.src=t,this.states.add(this.src),this.state++},this.get=function(t){return this.states.get(t)},this.undo=function(){if(0===this.state)throw new Error("Set underflow, it's not possible to undo to a non-existent state.")
this.state--,this.src=this.get(this.state)},this.redo=function(){if(this.state==this.states.size()-1)throw new Error("Set overflow, it's not possible to redo to a non-existent state.")
this.state++,this.src=this.get(this.state)},this.getStates=function(){return this.states.toString()},this.isStateDefault=function(){return this.src==this.DEFAULT_STATE},this}function occurrenceList(t){if(!t.isIterable())throw new Error("It must be an iterable object !")
for(var e=t.getOccurrences(!0),i=[],n=t.getOccurrences(),r={},s=0;s<n.length;s++)i[s]=n[s].split(":")[0]
for(s=0;s<e.length;s++)r[i[s]]=e[s]
return r}function Stream(initVal,formula,nbVals){if(this.start=initVal||0,this.formula=formula||"x + 1",this.data=[this.start],this.next=function(){this.data.push(eval(this.formula.multiReplace([[/x/g,this.data.last()],[/x0/g,this.start],[/pi/gi,Math.PI],[/e/gi,Math.E],[/sqrt(2)/gi,Math.SQRT2],[/(pow|max|min)\((.*?),(| )(.*?)\)/,"Math.$1($2, $3)"],[/(sqrt|cbrt|cos|sin|tan|acos|asin|cosh|sinh|tanh|acosh|asinh|atanh|exp|abs)\((.*?)\)/,"Math.$1($2)"],[/(ln|log|nthroot|clampTop|clampBottom)\((.*?),(| )(.*?)\)/,"$1($2, $3)"],[/(clamp)\((.*?),(| )(.*?),(| )(.*?)\)/,"$1($2, $3, $)"]])))},nbVals)for(var i=1;nbVals>i;i++)this.next()
return this.toString=function(){return"Stream(start="+this.start+", formula="+this.formula+", data="+this.data.toStr(!0)+")"},this}function MultiStream(initVal,formula,nbVals){if(this.start=initVal||0,this.formula=formula||"x + y",this.data=[this.start],this.results=[],this.next=function(){this.data.push(this.data.last().map(function(t){return t+1})),this.results.push(this.compute(this.data.last()))},this.compute=function(data){return eval(this.formula.multiReplace([[/x/g,data[0]],[/x0/g,this.start[0]],[/y/g,data[1]],[/y0/g,this.start[1]],[/z/g,data[2]],[/z0/g,this.start[2]],[/pi/gi,Math.PI],[/e/gi,Math.E],[/sqrt(2)/gi,Math.SQRT2],[/(pow|max|min)\((.*?),(| )(.*?)\)/,"Math.$1($2, $3)"],[/(sqrt|cbrt|cos|sin|tan|acos|asin|cosh|sinh|tanh|acosh|asinh|atanh|exp|abs|e\^)\((.*?)\)/,"Math.$1($2)"],[/(ln|log|nthroot|clampTop|clampBottom)\((.*?),(| )(.*?)\)/,"$1($2, $3)"],[/(clamp)\((.*?),(| )(.*?),(| )(.*?)\)/,"$1($2, $3, $4)"]]))},this.results=[this.compute(this.start)],nbVals>1)for(var i=1;nbVals>i;i++)this.next()
return this.toString=function(){return"Stream(start="+this.start.toStr(!0)+", formula="+this.formula+", data="+this.data.toStr(!0)+", results="+this.results.toStr(!0)+")"},this}function Graph(t,e,i,n,r){this.labels=i||["x","y"],this.name=n||"Graph",this.dimension=e||new Array(this.labels.length).fill(50),this.equation=new Equation(t),this.data=r?range(0,r,this.dimension[0],Number(r).length()[1]):range(this.dimension[0])
for(var s=0;s<this.data.length;s++)this.data[s]=[this.data[s],this.equation.compute({x:this.data[s]})]
return this.toString=function(){return"Graph(name="+this.name+", labels="+this.labels.toStr(!0)+", dimension="+this.dimension+", this.formula="+this.formula+", data="+this.data+")"},this}function Permutation(t){console.log("data="+t),console.log("->"+t.get(-1))
var e=[t]
return e.append(t.length>1?Permutation(t.get(-1)):t),console.log("perm="+e),e}function EventTable(t,e){return this.name=t||"Event table",this.sources=e||[getFilename(!0)],this.table=[["Source","Event","Timestamp"]],this.add=function(t){this.table.push([t.source||getFilename(!0),t.event,t.timestamp||(new Date).getTime()]),this.sources.uniquePush(t.source||getFilename(!0))},this.make=function(t,e){var i=(new Date).getTime()
e||(e=1)
for(var n=0;(t||1e3)>n;n+=e)this.add({timestamp:i+n})},this.fill=function(t,e){var i=(new Date).getTime(),n=lookfor(i,this.table);-1===n&&i>this.table.last()[2]?this.add({source:t,event:e,timestamp:i}):(this.table[n[0]][0]=t,this.table[n[0]][1]=e)},this.getCleanTable=function(){for(var t=[],e=0;e<this.table.length;e++)isNon(this.table[e][1])||t.push(this.table[e])
return t},this.lookAt=function(t){var e=lookfor(t||(new Date).getTime(),this.table)[0]
return"'"+this.table[e][1]+"' at "+this.table[e][0]},this}function print(t,e,i){i||(i="body"),$e(i).after(t,e)}function println(t,e){e||(e="body"),$e(e).after(t+"<br />",!0)}function addMetaData(t,e,i){var n=document.createElement("meta")
i?n.httpEquiv=i:n.name=t,n.content=e,document.head.appendChild(n)}function getMetaData(){for(var t=$n("*meta"),e=[],i=[],n=0;n<t.length;n++)e[n]=t[n].name||t[n].httpEquiv||t[n].title,i[n]=t[n].content||t[n].value
return[e,i]}function noRightClick(){document.oncontextmenu=new Function("return false")}function reloadPage(t){2===t?location.href=location.href:location.reload()}function redirect(t,e,i){e||(e=3e3)
var n=Math.floor(e/1e3)
$e("#"+i).write("<h2> Redirecting to <ins>"+t+"</ins> ...<br />in <span id = 'timeleft'>"+n+"</span >s</h2>",!0),n--,$e("#timeleft").write(n),setTimeout("location = '"+t+"';",e)}function isValid(t,e){var i,n=!0
switch(e.toLowerCase()){case"email":i=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,n=t.length>=9&&t.length<64
break
case"tel":i=/^\+(?:[0-9]?){6,14}[0-9]$/
break
case"username":i=/^[A-Za-z_0-9-]+$/,n=t.length>3&&t.length<=16
break
case"name":i=/^[A-Za-z-]{2,35}$/
break
case"price":i=/^[0-9]*\x2e[0-9]{2}$/,n=t.length>3
break
case"number":i=/\d/
break
case"date":i=/(\d{1,2}\/d{1,2}\/d{2,4})/,n=t.split("/")[1]<=12&&t.split("/")[0]<=31
break
case"hex":i=/(#|0x)?([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?/
break
case"tag":i=/(<(\/?[^>]+)>)/
break
case"password":i=/|^\c]\w{8,}/
break
case"file":i=/^[\S]+([A-Za-z0-9_]*\.(jpg|png|gif|ico|bmp))$/
break
case"variable":i=/^[A-Za-z_$]+[0-9]*[A-Za-z_$]*$/
break
case"color":i=/^(#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6}))|(rgb\(([0-9]+,\s){2}([0-9]+)\))|(rgba\(([0-9]+,\s){3}((0|1|)\.[0-9]*)\))|(hsl\(([0-9]+,\s){2}([0-9]+)\))|(hsla\(([0-9]+,\s){3}((0|1|)\.[0-9]*)\))$/
break
case"url":i=/^((http(|s):\/\/)|((file|ftp):\/\/\/))(\/[A-Za-z0-9_-]*)|[A-Za-z0-9_-]$/
break
case"ip":i=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/
break
case"time":i=/^[0-5][0-9](\x3a|\.)[0-5][0-9]|([0-5][0-9]\x3a[0-5][0-9]){0,2}(\x3a|\.)[0-5][0-9]$/
break
default:i=/\w/}return i.test(t)&&n}function validate(t,e){t||(t=document.forms[0])
for(var i=!0,n=0;n<t.length;n++)(e||t[n].required)&&(i="username"===t[n].name||"price"===t[n].name?i&&isValid(t[n].value,t[n].name):"password"===t[n].type||"email"===t[n].type||"tel"===t[n].type||"date"===t[n].type||"hex"===t[n].type||"variable"===t[n].type||"file"===t[n].type||"hidden"===t[n].type?i&&isValid(t[n].value,t[n].type):"price"===t[n].name?i&&isValid(t[n].value,t[n].name):t[n].name.indexOf("name")>=0?i&&isValid(t[n].value,"name"):"checkbox"===t[n].type&&t[n].checked?i&&!0:i&&!isNon(t[n].value))
return i}function escapeHTML(t){var e=document.createElement("span")
return e.appendChild(document.createTextNode(t)),e.innerHTML}function unescapeHTML(t){var e=document.createElement("span")
return e.innerHTML=t,e.innerText}function getResources(t){for(var e=$n("*link"),i=$n("*script"),n=[],r=$n("*a"),s=$n("*img"),a=$n("*input image"),h=[$n("*div"),$n("*section"),$n("*td"),$n("*th"),$n("*li")],o=0;o<e.length;o++)isNon(e[o])||(n[o]=e[o].href),Essence.say(e[o].href.split("/")[e[o].href.split("/").length-1]+" has been added to the resources getter.","info")
for(o=0;o<i.length;o++)isNon(i[o])||n.push(i[o].src),Essence.say(i[o].src.split("/")[i[o].src.split("/").length-1]+" has been added to the resources getter.","info")
for(o=0;o<r.length;o++)isNon(r[o])||n.push(r[o].href),Essence.say(r[o].href.split("/")[r[o].href.split("/").length-1]+" has been added to the resources getter.","info")
for(o=0;o<s.length;o++)isNon(s[o])||n.push(s[o].src),Essence.say(s[o].src.split("/")[s[o].src.split("/").length-1]+" has been added to the resources getter.","info")
for(o=0;o<a.length;o++)isNon(a[o])||n.push(a[o].src),Essence.say(a[o].src.split("/")[a[o].src.split("/").length-1]+" has been added to the resources getter.","info")
for(o=0;o<h.length;o++)for(var u=0;u<h[o].length;u++){n.push(h[o][u].style.backgroundImage.slice(4,h[o][u].style.backgroundImage.length-1))
var l=h[o][u].style.backgroundImage.slice(4,h[o][u].style.backgroundImage.length-1)
Essence.say(l.split("/")[l.split("/").length-1]+" has been added to the resources getter.","info")}return Essence.say("Resource list: "+n.clean()),t?n.clean():n}function gatherScripts(t){for(var e=$n("*script"),i=t?[]:{},n=0;n<e.length;n++)t?i.push(e[n].src):i[e[n].src.split("/")[e[n].src.split("/").length-1]]=e[n].src
return i}function gatherStylesheets(t){for(var e=$n("*link"),i=t?[]:{},n=0;n<e.length;n++)t?i.push(e[n].href):i[e[n].href.split("/")[e[n].href.split("/").length-1]]=e[n].href
return i}function stripPath(t){return t.split("/")[t.split("/").length-1]}function simpleTable(t,e,i,n,r){for(var s=t?"<table id="+i+" style="+n+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>",a=0;a<e.length;a++){if(s+="<tr>",r)for(var h=0;h<e[a].length;h++)s+="<td>"+e[a][h]+"</td>"
else s+="<td>"+e[a]+"</td>"
s+="</tr>"}return s+="</table><style>table{background: #000;}table, td {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td{background: #ddd;} tr td:hover{background: #bbb;}</style>"}function rowTable(t,e,i,n,r,s){for(var a=t?"<table id="+n+" style="+s+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>",h=0;h<i.length;h++){if(a+=e?"<tr><th>"+e[h]+"</th>":"<tr>",r)for(var o=0;o<i[h].length;o++)a+="<td>"+i[h][o]+"</td>"
else a+="<td>"+i[h]+"</td>"
a+="</tr>"}return a+="</table><style>table{background: #000;}table, td, th {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td, tr:nth-child(even) th {background: #ddd;} tr td:hover, tr th:hover{background: #bbb;}</style>"}function colTable(t,e,i,n,r,s){var a=t?"<table id="+n+" style="+s+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>"
if(e){a+="<tr>"
for(var h=0;h<e.length;h++)a+="<th>"+e[h]+"</th>"
a+="</tr>"}for(h=0;h<i.length;h++){if(a+="<tr>",r)for(var o=0;o<i[h].length;o++)a+="<td>"+i[o][h]+"</td>"
else a+="<td>"+i[h]+"</td>"
a+="</tr>"}return a+="</table><style>table{background: #000;}table, td, th{border: 1px solid #000; color: #000; background: #fff;}tr:nth-child(even) td{background: #ddd;}tr td:hover{background: #bbb;}"}function complexTable(t,e,i,n,r,s,a){for(var h=t?"<table id="+r+" style="+a+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table><tr><td></td>",o=0;o<n.length;o++)h+="<th>"+n[o]+"</th>"
for(h+="</tr>",o=0;o<i.length;o++){if(h+=e?"<tr><th>"+e[o]+"</th>":"<tr>",s)for(var u=0;u<i[o].length;u++)h+="<td>"+i[o][u]+"</td>"
else h+="<td>"+i[o]+"</td></tr>"
h+="</tr>"}return h+="</table><style>table{background: #000;}table, td, th{border: 1px solid #000; color: #000; background: #fff;}tr:nth-child(even) td{background: #ddd;}tr td:hover{background: #bbb;}</style>"}function colourTable(t,e,i,n,r,s){var a=t?"<table id="+n+" style="+s+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>"
if(e){a+="<tr>"
for(var h=0;h<e.length;h++)a+="<th>"+e[h]+"</th>"
a+="</tr>"}for(h=0;h<i.length;h++){if(a+="<tr>",r)for(var o=0;o<i[h].length;o++)a+=isValid(i[h][o],"color")?"<td style='background:"+i[h][o]+";'><br /></td>":"<td>"+i[h][o]+"</td>"
else a+="<td style='background:"+i[h]+";'><br /></td>"
a+="</tr>"}return a+="</table><style>table{background: #000;}table, td, th{border: 1px solid #000; color: #000; background: #fff;}tr:nth-child(even) td{background: #ddd;}tr td:hover{background: #bbb;}</style>"}function tableCompare(t,e,i){if(t.size(!0)!=e.size(!0))throw new Error("You can't compare two matrices of different sizes")
for(var n=copy(t),r=0;r<n.length;r++)for(var s=0;s<n[r].length;s++)n[r][s]=t[r][s]===e[r][s]?"":e[r][s]
return i?println(simpleTable("Comparison",n)):console.table(n),n}function addFav(t,e,i){var n=i?"#"+i:"body"
"Mic"===navigator.appName.substring(0,3)&&navigator.appVersion.substring(0,1)>=4?$e(n).write('<a href="#" onClick="window.external.AddFavorite('+t+", "+e+');return false;">Bookmark this webpage</a><br />',!0):$e(n).write("Press CTRL + D to add this webpage to your bookmarks!",!0)}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=this.ver.indexOf("MSIE 5")>-1&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&parseInt(this.ver)>=5?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function writeMsg(t,e,i){for(var n,r=0;r<t.length+10;)n=t.substring(r,0),isCustomType(e,"element")?e.write(n,i):$e(e).write(n,i),r++}function writeMsg2(t,e,i,n,r,s){r||(r=""),s||(s=0),s<t.length+10&&(r=t.substring(s,0),i?$n(e).innerHTML=r:$n(e).innerText=r,s++,setTimeout("writeMsg2('"+t+"', '"+e+"', "+i+", "+n+", '"+r+"', "+s+")",n||150))}function Template(t,e,i,n,r){return this.name=t||"Template",this.path=e||this.name+".jst",this.params=n||["name","description","version","title","path"],this.special=["tab","date","time","timestamp","br"],this.specialEq=["&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",getDate(),getTime(),getTimestamp(),"<br />"],r&&(this.specialEq[0]="	",this.specialEq[4]="\n"),this.text=i||"",this.gen=function(t){for(var e=this.text,i=keyList(t,!0),n=0;n<i.length;n++)e=e.replace(RegExpify("{{"+i[n]+"}}"),t[i[n]])
if(e.index)for(n=0;n<this.special.length;n++)e=e.replace(RegExpify("%"+this.special[n]+"%"),this.specialEq[n]," ")
return e},this.save=function(t,e,i){t?save(this.gen(t),(e||this.name)+"."+(i||".js"),i||"javascript"):save(this.text,this.path,"javascript")},this}var Ajax={name:"Ajax",version:1,run:function(){},description:"AJAX stuff",dependency:[],author:"Maximilian Berkmann",complete:!1,toString:function(){return"Module(name='"+this.name+"', version="+this.version+", description='"+this.description+"', author='"+this.author+"', complete="+this.complete+", run="+this.run+")"}}
!function(){Ajax.complete=!0}()
var DataStruct={name:"DataStruct",version:1,run:function(){},description:"Data structures",dependency:["DOM","Maths","File"],author:"Maximilian Berkmann",complete:!1,toString:function(){return"Module(name='"+this.name+"', version="+this.version+", description='"+this.description+"', author='"+this.author+"', complete="+this.complete+", run="+this.run+")"}}
!function(){DataStruct.complete=!0}(),NTreeNode.inheritsFrom(TreeNode),SortedSet.inheritsFrom(Set)
var DOM={name:"DOM",version:1,run:function(){BrowserDetect.init()},description:"DOM stuff",dependency:["Misc"],author:"Maximilian Berkmann",complete:!1,toString:function(){return"Module(name='"+this.name+"', version="+this.version+", description='"+this.description+"', author='"+this.author+"', complete="+this.complete+", run="+this.run+")"}}
!function(){DOM.complete=!0}()
var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"xx.yy",this.OS=this.searchString(this.dataOS)||"Unknown OS"},searchString:function(t){for(var e=0;e<t.length;e++){var i=t[e].string,n=t[e].prop
if(this.versionSearchString=t[e].versionSearch||t[e].identity,i){if(-1!=i.indexOf(t[e].subString))return t[e].identity}else if(n)return t[e].identity}},searchVersion:function(t){var e=t.indexOf(this.versionSearchString)
if(-1!==e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"Android",identity:"HTC/Samsung/LG/Nexus"},{string:navigator.userAgent,subString:"BlackBerry",identity:"BlackBerry"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],info:function(){return this.browser+"/"+this.version+" ("+this.OS+")"}}
