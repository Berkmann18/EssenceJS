"use strict"
function Module(t,e,r,i,n,o){return this.name=t||"Module",this.version=i||1,this.dependency=r||[],this.description=e||"",this.run=n||$f,this.loaded=!1,this.path=(o?o:Essence.version.substr(0,3))+"/modules/"+this.name+".js",this.load=function(){debugging&&Essence.say("Loading "+this.name),this.dependency.length>0&&(debugging&&Essence.say("Initiating dependencies for %c"+this.name+"%c","info","color: #f0f","color: #000"),init(this.dependency,!1,!1,o)),this.loaded=!0},this.toString=function(){return"Module(name='"+this.name+"', version="+this.version+", dependency=["+this.dependency+"], description='"+this.description+"', loaded="+this.loaded+", run="+this.run+", path='"+this.path+"')"},this.getWeight=function(){for(var t=moduleList().line(3).get(1),e=0,r=moduleList().line().get(1),i=0;i<t.length;i++)t[i].has(this.name)&&r[i]!=this.name&&t[i].count(this.name)<2?e++:r[i]===this.name&&t[i].has(this.name)&&e--
return e},this.update=function(){for(var t=$n("*script").toArray(),e=filenameList(t.map(function(t){return t.src})),r=0;r<e.length;r++)stripPath(e[r])===this.name+".js"?t[r].src="http://berkmann18.github.io/rsc/modules/"+this.name+".js":stripPath(e[r])===this.name+".min.js"&&(t[r].src="http://berkmann18.github.io/rsc/modules/"+this.name+".min.js")
Essence.say(this.name.capitalize()+"(.min).js has been updated","succ")},this}function require(t,e,r){if(isType(t,"Array"))for(var i=0;i<t.length;i++)require(t[i],e)
else-1===modules.indexOf(t)?(include_once((e?e+"/":"")+"modules/"+t+".js","script",r||getDirectoryPath()),modules.push(t),debugging&&console.log("The module %c%s%c is now included into %c%s    "+getTimestamp(!0),"color: red; text-decoration: bold; -webkit-text-decoration: bold; -moz-text-decoration: bold;",t,"color: #000; text-decoration: none;"," text-decoration: bold; -webkit-text-decoration: bold; -moz-text-decoration: bold;",getFilename())):debugging&&console.log("The module %c%s%c is already included into %c%s    "+getTimestamp(!0),"color: red; text-decoration: bold; -webkit-text-decoration: bold; -moz-text-decoration: bold;",t,"color: #000; text-decoration: none;"," text-decoration: bold; -webkit-text-decoration: bold; -moz-text-decoration: bold;",getFilename())}function $require(t){var e=function(t,e){var r=this+""
if(e=e||2,parseFloat(r)<Math.pow(10,e-1))for(;r.split(".")[0].length<e;)r="0"+r
return r},r=function(){var t=new Date
return getDate()+" "+e(t.getHours(),2)+":"+e(t.getMinutes(),2)+":"+e(t.getSeconds(),2)+"."+e(t.getMilliseconds(),2)},i=function(t){return t.split("/")[t.split("/").length-1]},n=function(t,e,r){var i=""
0>e&&!r&&(r=e,e=0),0>r&&(r=t.length+r-1)
for(var n=e||0;n<=(r||t.length-1);n++)i+=t[n]
return i},o=function(){return n(i(location.pathname),-i(location.pathname).lastIndexOf(".")-1)}
if(isType(t,"Array"))for(var s=0;s<t.length;s++)$require(t[s])
else-1===modules.indexOf(t)?(gatherScripts()["essence.min.js"]?include_once(getExtPath(getDirectoryPath(gatherScripts()["essence.min.js"]))+"modules/"+t+".min.js","script"):include_once(getExtPath(getDirectoryPath(gatherScripts()["essence.js"]))+"modules/"+t+".js","script"),modules.push(t),debugging&&console.log("The module %c%s%c is now included into %c%s    "+r(),"color: red; text-decoration: bold; -webkit-text-decoration: bold; -moz-text-decoration: bold;",t,"color: #000; text-decoration: none;"," text-decoration: bold; -webkit-text-decoration: bold; -moz-text-decoration: bold;",o())):debugging&&console.log("The module %c%s%c is already included into %c%s    "+r(),"color: red; text-decoration: bold; -webkit-text-decoration: bold; -moz-text-decoration: bold;",t,"color: #000; text-decoration: none;"," text-decoration: bold; -webkit-text-decoration: bold; -moz-text-decoration: bold;",o())}function run(t,e){if(isType(t,"Array"))for(var r=0;r<t.length;r++)run(t[r],e)
else if(modules.indexOf(t)>-1){var i=function(){try{debugging&&Essence.say("Running "+t+"    "+getTimestamp(!0),"info"),window[t].loaded||window[t].load(),window[t].run()}catch(e){Essence.time("The module %c"+t+"%c have problems regarding it's run method.","color: #c0f","color: #000")}},n=function(e){e||(e=0),Essence.say("The module %c"+t+"%c isn't available !    "+getTimestamp(!0),"erro","color: #c0f","color: #000"),debugging&&Essence.say("Retrying to run %c"+t+"%c    "+getTimestamp(!0),"info","color: #c0f","color: #000"),window[t]?i():2>=e?setTimeout(n(e+1),1):Essence.say("It's not possible to run %c"+t+"%c :( !    "+getTimestamp(!0)+"\nModule: "+window[t],"info","color: #c0f","color: #000"),init(t)}
window[t]?i():n()}else Essence.say("The module %c"+t+"%c isn't in the list !!    "+getTimestamp(!0),"erro","color: #c0f","color: #000")}function init(t,e,r,i,n,o){if(isType(t,"Array"))for(var s=0;s<t.length;s++)init(t[s],e,r,i,t[s],t[s])
else debugging&&Essence.say("Initiating "+t),-1===modules.indexOf(t)?$require(t):debugging&&Essence.say("The module %c"+t+"%c was already initiated !!","info","color: #c0f","color: #000"),e&&e(n||t),setTimeout(function(){run(t),r&&r(o||t)},1)}function $e(t,e){if(!e)return new Element(t)
try{return new Element(t)}catch(r){return debugging&&Essence.say('%c$e("'+t+"\")%c isn't there (yet).","warn","color: #f00","color: #000"),null}}function $n(t,e){return e&&isNon($e(t,e))?null:$e(t).node}function Element(t){if(/^([#.*_-`~&]\W*|\S|undefined|null|)$/.test(t))throw new InvalidParamError("Element cannot accept the selector '"+t+"' as it's invalid.")
if("#"===t[0]?this.node=document.querySelector(t)||document.getElementById(t.slice(1,t.length)):"."===t[0]?this.node=document.querySelector(t)||document.getElementByClassName(t.slice(1,t.length)):"*"===t[0]?this.node=document.querySelectorAll(t.slice(1,t.length))||document.getElementsByTagName(t.slice(1,t.length)):this.node=document.querySelector(t),null===this.node)throw new Error('The node $n("'+t+"\") doesn't exist !!")
return this.val=function(t,e){if(isType(this.node,"array")){for(var r=[],i=0;i<this.node.length;i++)!this.node[i].value||t||e?this.node[i].innerHTML&&t&&!e?r.push(this.node[i].innerHTML):!this.node[i].innerText||t||e?this.node[i].outerHTML&&!t&&e?r.push(this.node[i].outerHTML):r.push(this.node[i].value?this.node[i].value:this.node[i].innerText):r.push(this.node[i].innerText):r.push(this.node[i].value)
return r}return!this.node.value||t||e?this.node.innerHTML&&t&&!e?this.node.innerHTML:!this.node.innerText||t||e?this.node.outerHTML&&!t&&e?this.node.outerHTML:this.node.value?this.node.value:this.innerText:this.node.innerText:this.node.value},this.size=function(){return this.val().length},this.isEmpty=function(){return isNon(this.val())},this.write=function(t,e,r){if("undefined"==typeof this.val(!0)&&(this.node.innerText="?"),isType(this.node,"array"))for(var i=0;i<this.node.length;i++)!this.node[i].value||e||r?this.node[i].innerHTML&&e&&!r?this.node[i].innerHTML=isType(t,"array")?t[i]:t:!this.node[i].innerText||e||r?this.node[i].outerHTML&&!e&&r?this.node[i].outerHTML=isType(t,"array")?t[i]:t:this.node[i].value?this.node[i].value=isType(t,"array")?t[i]:t:this.node[i].innerText=isType(t,"array")?t[i]:t:this.node[i].innerText=isType(t,"array")?t[i]:t:this.node[i].value=isType(t,"array")?t[i]:t
!this.node.value||e||r?this.node.innerHTML&&e&&!r?this.node.innerHTML=t:!this.node.innerText||e||r?this.node.outerHTML&&r&&!e?this.node.outerHTML=t:this.node.value?this.node.value=t:this.innerText=t:this.node.innerText=t:this.node.value=t},this.before=function(t,e,r){if("undefined"==typeof this.val(!0)&&(this.node.innerText="?"),isType(this.node,"array"))for(var i=0;i<this.node.length;i++)!this.node[i].value||e||r?this.node[i].innerHTML&&e&&!r?this.node[i].innerHTML=isType(t,"array")?t[i]+this.node[i].innerHTML:t+this.node[i].innerHTML:!this.node[i].innerText||e||r?this.node[i].outerHTML&&!e&&r?this.node[i].outerHTML=isType(t,"array")?t[i]+this.node[i].outerHTML:t+this.node[i].outerHTML:this.node[i].value?this.node[i].value=isType(t,"array")?t[i]+this.node[i].value:t+this.node[i].value:this.node[i].innerText=isType(t,"array")?t[i]+this.node[i].innerText:t+this.node[i].innerText:this.node[i].innerText=isType(t,"array")?t[i]+this.node[i].innerText:t+this.node[i].innerText:this.node[i].value=isType(t,"array")?t[i]+this.node[i].value:t+this.node[i].value
!this.node.value||e||r?this.node.innerHTML&&e&&!r?this.node.innerHTML=t+this.node.innerHTML:!this.node.innerText||e||r?this.node.outerHTML&&r&&!e?this.node.outerHTML=t+this.node.outerHTML:this.node.value?this.node.value=t+this.node.value:this.innerText=t+this.innerText:this.node.innerText=t+this.node.innerText:this.node.value=t+this.node.value},this.after=function(t,e,r){if("undefined"==typeof this.val(!0)&&(this.node.innerText="?"),isType(this.node,"array"))for(var i=0;i<this.node.length;i++)!this.node[i].value||e||r?this.node[i].innerHTML&&e&&!r?this.node[i].innerHTML+=isType(t,"array")?t[i]:t:!this.node[i].innerText||e||r?this.node[i].outerHTML&&!e&&r?this.node[i].outerHTML+=isType(t,"array")?t[i]:t:this.node[i].value?this.node[i].value+=isType(t,"array")?t[i]:t:this.node[i].innerText+=isType(t,"array")?t[i]:t:this.node[i].innerText+=isType(t,"array")?t[i]:t:this.node[i].value+=isType(t,"array")?t[i]:t
!this.node.value||e||r?this.node.innerHTML&&e&&!r?this.node.innerHTML+=t:!this.node.innerText||e||r?this.node.outerHTML&&r&&!e?this.node.outerHTML+=t:this.node.value?this.node.value+=t:this.innerText+=t:this.node.innerText+=t:this.node.value+=t},this.remove=function(t,e){if(isType(this.val(),"Array"))for(var r=0;r<this.size();r++)this.val()[r]==t&&this.write(this.val().slice(0,r).concat(this.val().slice(r+1,this.size())))
this.write(this.val().split(t).join(e||""))},this.setCSS=function(t,e){if(isType(this.node,"array"))for(var r=0;r<this.node.length;r++)this.node[r].style[t]=isType(e,"array")?e[r]:e
else this.node.style[t]=e},this.setStyles=function(t){for(var e=0;e<t.length-1;e+=2)this.setCSS(t[e],t[e+1])},this.css=function(t){if(isType(this.node,"array")){for(var e=[],r=0;r<this.node.length;r++)e.push(this.node[r].style[t])
return e}return this.node.style[t]},this.hasClass=function(t){if(isType(this.node,"array"))for(var e=[],r=0;r<this.node.length;r++)e.push(new RegExp(" "+t+" ").test(" "+this.node[r].className+" ")||new RegExp(" "+t+" ").test(" "+this.node[r][t]+" ")||this.node[r].style.clasName==t)
return new RegExp(" "+t+" ").test(" "+this.node.className+" ")||new RegExp(" "+t+" ").test(" "+this.node[t]+" ")||this.node.style.className==t},this.hasCSS=function(t){if(isType(this.node,"array"))for(var e=[],r=0;r<this.node.length;r++)e.push(new RegExp(" "+t+" ").test(" "+this.node[r].style[t]+" ")||new RegExp(" "+t+" ").test(" "+this.node[r][t]+" "))
return new RegExp(" "+t+" ").test(" "+this.node.style[t]+" ")||new RegExp(" "+t+" ").test(" "+this.node[t]+" ")},this.addClass=function(t){if(isType(this.node,"array"))for(var e=0;e<this.node.length;e++)this.node[e].hasClass(t)||(this.node[e].className+=" "+t)
else this.hasClass(t)||(this.node.className+=" "+t)},this.rmClass=function(t){var e=" "+this.node.className.replace(/[\t\r\n]/g," ")+" "
if(isType(this.node,"array")){for(var r=0;r<this.node.length;r++)if(e=" "+this.node[r].className.replace(/[\t\r\n]/g," ")+" ",this.node[r].hasClass(t)){for(;e.indexOf(" "+t+" ")>=0;)e=e.replace(" "+t+" "," ")
this.node[r].className=e.replace(/^\s+|\s+$/g,"")}}else if(this.hasClass(t)){for(;e.indexOf(" "+t+" ")>=0;)e=e.replace(" "+t+" "," ")
this.node.className=e.replace(/^\s+|\s+$/g,"")}},this.toggleCSS=function(t,e,r){if(r||(r=0),""===this.css(t)&&1>r&&this.toggleCSS(t,e,r+1),"visibility"===t)"visible"===this.css("visibility")?this.setCSS("visibility","hidden"):this.setCSS("visibility","visible")
else if("enabled"===t)"enabled"===this.css("enabled")?this.setCSS("enabled","disabled"):this.setCSS("enabled","enabled")
else if("display"===t)"enabled"===this.css("enabled")?this.setCSS("display","none"):this.setCSS("display",e||"block")
else if(!isNon(t)&&!isNon(e)){isNon(this.css(t))&&this.setCSS(t,e[0])
for(var i=0;i<e.length;i++)if(this.css(t)===e[i]){this.setCSS(t,e[(i+1)%e.length])
break}}},this.show=function(){this.setCSS("opacity",1),this.setCSS("display","block")},this.hide=function(){this.setCSS("opacity",0),this.setCSS("display","none")},this.on=function(t,e){var r=["abort","autocomplete","autocompleteerror","beforeunload","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","cuechange","dblclick","devicemotion","deviceorientation","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","hashchange","input","invalid","keydown","keypress","keyup","languagechange","load","loadeddata","loadedmetadata","loadstart","message","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","offline","online","pagehide","pageshow","pause","play","playing","popstate","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","show","stalled","storage","submit","suspend","timeupdate","toggle","transitionend","unload","volumechange","waiting","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend","wheel"]
r.has(t.normal())&&this.node.addEventListener(t.normal(),e)},this.toString=function(){return"[object Element]"},this.tagName=function(){return this.node.tagName.toLowerCase()},this.scrollTop=function(){this.node.scrollTop=this.node.offsetTop},this.scrollBottom=function(){this.node.scrollTop=this.node.offsetHeight-this.node.offsetTop},this.scrollLeft=function(){this.node.scrollLeft=this.node.offsetLeft},this.scrollRight=function(){this.node.scrollLeft=this.node.offsetWidth-this.node.offsetLeft},this.scroll=function(t,e){this.node.scrollLeft+=t||0,this.node.scrollTop+=e||0},this.autoScroll=function(t,e){t||(t="d")
var r=this,i=setInterval(function(){switch(t.toLowerCase()[0]){case"l":r.scroll(-1,0),r.node.scrollLeft===r.node.offsetLeft&&clearInterval(i)
break
case"r":r.scroll(1,0),r.node.scrollLeft===r.node.offsetWidth-r.node.offsetLeft&&clearInterval(i)
break
case"u":r.scroll(0,-1),r.node.scrollTop===r.node.offsetTop&&clearInterval(i)
break
default:r.scroll(0,1),r.node.scrollTop===r.node.scrollHeight-r.node.offsetTop&&clearInterval(i)}},e||50)},this.attr=function(t,e){return isNon(e)?this.node.getAttribute(t):this.node.setAttribute(t,e)},this.rmAttr=function(t){this.node.removeAttribute(t)},this.invColour=function(){negateColour(t,"color","a"),negateColour(t,"backgroundColor","a")},this.classes=function(){return this.node.className.split(" ")},this.multi=function(t){for(var e=this.node.toArray(),r=0;r<e.length;r++)t(e[r])},this.multiElm=function(t,e){for(var r=this.node.toArray(),i=0;i<r.length;i++)$e(r[i].id)[t](e[0],e[1],e[2])},this}function include(t,e){e||(e=t.indexOf(".js")>0?"script":"link")
var r=document.createElement(e)
"script"===e?r.src=t:(r.href=t,r.rel="stylesheet"),r.type="script"===e?"text/javascript":"text/css",document.head.appendChild(r)}function include_once(t,e,r){e||(e=t.indexOf(".js")>0?"script":"link")
var i="script"===e?gatherScripts(!0):gatherStylesheets(!0)
return r&&(keyList(i,!0).indexOf(r+t)>-1||valList(i,!0).indexOf(r+t)>-1)||keyList(i,!0).indexOf(t)>-1||valList(i,!0).indexOf(t)>-1?!1:void include(t,e)}function exclude(t,e){e||(e=t.indexOf(".js")>0?"script":"link")
var r=document.createElement(e)
"script"===e?r.src=t:r.href=t,r.type="script"===e?"text/javascript":"text/css",console.log("el",r),document.head.removeChild(r)}function isType(t,e){return e=e[0].toUpperCase()+e.slice(1,e.length).toLowerCase(),Object.prototype.toString.call(t)==="[object "+e+"]"}function isCustomType(t,e){return getCustomType(t).toLowerCase()===e.toLowerCase()}function getType(t,e){var r=Object.prototype.toString.call(t)
return e?r:r.split(" ")[1].slice(0,r.split(" ")[1].length-1)}function getCustomType(t,e){var r=t.toLocaleString()
return 0===r.indexOf("[")?e?r:r.split(" ")[1].slice(0,r.split(" ")[1].length-1):r.split("(")[0].trim()}function is2dArray(t){if(!isType(t,"Array"))return!1
for(var e=0;e<t.length;e++)if(isType(t[e],"Array"))return!0}function isNon(t){return t===!1||void 0===t||null===t||""===t||t.equals([])||t.equals({})}function exist(t){var e,r
try{r="undefined"!=typeof t||t!==e||t in window}catch(i){alert("d"),r=!1}return r}function Copy(t){if(isType(t,"String")||isType(t,"Number")||isType(t,"Boolean"))return t
var e={}
for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])
return isType(t,"Array")?e.toArray():e}function getKey(t,e){var r=document.all?event.keyCode:t.which,i=e?String.fromCharCode(r).toLowerCase():String.fromCharCode(r)
return[i,r]}function getTime(t){var e=new Date
return t?e.getHours().toNDigits(2)+":"+e.getMinutes().toNDigits(2)+":"+e.getSeconds().toNDigits(2)+"."+e.getMilliseconds().toNDigits(2):e.getHours().toNDigits(2)+":"+e.getMinutes().toNDigits(2)+":"+e.getSeconds().toNDigits(2)}function getDate(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=new Date
return t?r.getDate().toNDigits()+e[r.getMonth()]+r.getUTCFullYear():r.toLocaleDateString()}function getTimestamp(t){return t?getDate()+" "+getTime(!0):getDate(!0)+"-"+getTime().replace(/:/g,"-")}function date2txt(t){if(!isType(t,"Date"))throw new Error("$d is not a Date object")
return t.getDate().toNDigits(2)+"/"+(t.getMonth()+1).toNDigits(2)+"/"+t.getFullYear()}function txt2date(t){var e=t.split("/")
return new Date(e[2],e[1]-1,e[0])}function dateTime(t){var e,r,i=new Date,n=i.getFullYear(),o=i.getMonth(),s=["January","February","March","April","May","June","July","August","September","October","November","December"],a=i.getDate(),h=i.getDay(),l=i.getHours(),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u="",d=i.getTimezoneOffset()
10>l&&(l="0"+l),e=i.getMinutes(),l>12?(l-=12,u="PM"):u="AM",10>e&&(e="0"+e),r=i.getSeconds(),10>r&&(r="0"+r),d=d>=0?"GMT+"+d:"GMT-"+d
var p="We're "+c[h]+" "+a+" "+s[o]+" "+n+" and it's "+l+":"+e+":"+r+" "+u+" "+d
$e("#"+t||"body").write(p),setTimeout('dateTime("'+t+'");',1e3)}function dayOfWeek(t){var e,r=parseInt(t.split("/")[0]),i=[0,3,3,6,1,4,6,2,5,0,3,5],n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o=parseInt(t.split("/").last())%100+Math.floor(t.split("/").last()/4),s=Math.floor(t.split("/").last()/100%4)
return e=0===s?6:1===s?4:2===s?2:0,n[(r+i[parseInt(t.split("/")[1])-1]+o+e)%7]}function date2num(t){t||(t=getDate())
var e=t.split("/")
return parseFloat(parseFloat(e[2]+"."+e[1]).toNDec()+"0"+e[0])}function num2date(t){var e=t.toString().split(".")
return e[1].get(3)+"/"+e[1].get(-3)+"/"+e[0]}function dateDiff(t,e,r,i){t||(t=new Date)
var n={y:959230512e3,m:2628028800.0000005,w:6048e5,d:864e5,h:36e5,min:6e4,s:1e3,ms:1}
return i?Math.round((e-t)/n[r||"d"]):(e-t)/n[r]}function date2s(t,e,r,i){return 86400*(t||0)+7*(e||0)*86400+30.417*(r||0)*86400+365*(i||0)*30.417*86400}function s2date(t,e){switch(e||(e="d"),e.toLowerCase()[0]){case"w":return t/604800
case"m":return t/(30.417*86400)
case"y":return t/959230512
default:return t/86400}}function genStr(t,e){var r,i="",n=asciiTable("a-z"),o=asciiTable("A-Z"),s=range(9),a=["&","~",'"',"#","'","{","[","(","-","|","`","_","\\","^","@",")","]"," + ","=","}"," % "," * ","?",",",";",".","/",":","!"," "]
r=n.concat(o,s,a)
for(var h="",l=0;i.length<t;){if(h=r.rand(),"specificChar"===e.name)for(;h===e.character;)h=r.rand()
else if("noUpperCase"===e.name)h=h.toLowerCase()
else if("noLowerCase"===e.name)h=h.toUpperCase()
else if("cumulativeRepeat"===e.name)for(;h==i[l-1];)h=r.rand()
else if("cumulativeSensitiveRepeat"===e.name)for(;h===i[l-1];)h=r.rand()
else"noRepeat"===e.name&&(r=r.remove(l>0?i[l-1]:i[0]),h=r.rand())
i+=h,l++}return i.length<t?i+=r.rand():i.length>t&&(i=i.slice(0,t+1)),""===i&&genStr(t,e),i}function mkArray(t,e,r){var i=[]
if(1===e)if(isNon(r))i=new Array(t)
else for(var n=0;t>n;n++)i[n]=r
else if(2===e)if(isNon(r))for(i=new Array(t),n=0;t>n;n++)i[n]=new Array(t)
else for(n=0;t>n;n++){i[n]=new Array(t)
for(var o=0;t>o;o++)i[n][o]=r}else if(3===e)if(isNon(r))for(i=new Array(t),n=0;t>n;n++)for(i[n]=new Array(t),o=0;t>o;o++)i[n][o]=new Array(t)
else for(n=0;t>n;n++)for(i[n]=new Array(t),o=0;t>o;o++){i[n][o]=new Array(t)
for(var s=0;t>s;s++)i[n][o][s]=r}else{if(4!==e)throw new Error("Unvalid dimension. Only 1D-4D arrays can be made.")
if(isNon(r))for(i=new Array(t),n=0;t>n;n++)for(i[n]=new Array(t),o=0;t>o;o++)for(i[n][o]=new Array(t),s=0;t>s;s++)i[n][o][s]=new Array(t)
else for(n=0;t>n;n++)for(i[n]=new Array(t),o=0;t>o;o++)for(i[n][o]=new Array(t),s=0;t>s;s++){i[n][o][s]=new Array(t)
for(var a=0;t>a;a++)i[n][o][s][a]=r}}return i}function numArr(t,e){for(var r=[],i=e||0,n=0;t>n;n++){r[n]=[]
for(var o=0;t>o;o++)r[n][o]=i++}return r}function swap(t,e,r){var i
return r?(i=t[e],t[e]=t[r],t[r]=i,t):(i=t,t=e,e=i,[t,e])}function toSameLength(t,e,r){if(!t.isIterable()||!e.isIterable())throw new Error("invalid length equality operation on non-iterable objects")
if(r||(r=" "),t.length>e.length)for(var i=e.length;i<t.length;i++)isType(e[i],"String")?e+=r:e.push(r)
else if(t.length<e.length)for(i=t.length;i<e.length;i++)isType(t[i],"String")?t+=r:t.push(r)
return[t,e]}function lookfor(t,e,r){for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)if(e[i][n]===t)return r?[n,i]:[i,n]
return-1}function keyList(t,e){var r=[]
if(e)for(var i in t)t.hasOwnProperty(i)&&r.push(i)
else for(i in t)r.push(i)
return r}function valList(t,e){var r=[]
if(e)for(var i in t)t.hasOwnProperty(i)&&r.push(t[i])
else for(i in t)r.push(t[i])
return r}function keyTable(t,e){var r="<table cellspacing=0><caption>KeyTable"+(t.name||t.title?": <i>"+(t.name||t.title)+"</i>":"")+"</caption><tr><th>Key</th><th>Value</th></tr>"
for(var i in t)r+=e&&t.hasOwnProperty(i)?"<tr><td>"+i+"</td><td>"+t[i]+"</td></tr>":"<tr><td>"+i+"</td><td>"+t[i]+"</td></tr>"
return r+"</table>"}function char2hex(t){return conv(t.charCodeAt(0),10,16)}function hex2char(t){return String.fromCharCode(conv(t,16))}function char2bin(t){return conv(t.charCodeAt(0),10,2)}function bin2char(t){return String.fromCharCode(conv(t,2))}function txt2num(t,e){for(var r="",i=0;i<t.length;i++)r+=conv(t.charCodeAt(i),10,e||10)+" "
return r.trimRight()}function num2txt(t,e){for(var r="",i=0;i<t.split(" ").length;i++)r+=String.fromCharCode(conv(t.split(" ")[i],e||10))
return r}function timeUp(t,e,r){var i=new Date
i=1e3*(60*i.getMinutes()+i.getSeconds())+i.getMilliseconds(),t(r)
var n=new Date
return n=1e3*(60*n.getMinutes()+n.getSeconds())+n.getMilliseconds(),isNon(e)||"auto"===e.slice(0,4).toLowerCase()||"none"===e.slice(0,4).toLowerCase()?n-i>1e3?(n-i)/1e3+"s":n-i+"ms":"ms"===e.toLowerCase()||"millisec"===e.slice(0,8).toLowerCase()?n-i+"ms":(n-i)/1e3+"s"}var Essence={version:"1.1b",author:"Maximilian Berkmann",description:"library used for DHTML connexions, maths, database management and cryptography",source:"http://berkmann18.github.io/rsc/essence.js",element:$n,handleError:function(t,e,r){isType(t,"Error")?alert("[Essence.js] An error has occurred (line/column "+t.lineNumber+"/"+t.columnNumber+" of "+t.fileName+").\n\nMessage: "+t.stack):alert("[Essence.js] An error has occurred (line "+r+" of "+e+").\n\nMessage: "+t)},say:function(t,e,r,i,n,o){e=isNon(e)?"":e.slice(0,4).toLowerCase(),r&&!i?"info"===e?console.info("%c[EssenceJS]%c "+t,"color: #00f; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r):"erro"===e?console.error("%c[EssenceJS]%c "+t,"color: #f00; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r):"warn"===e?console.warn("%c[EssenceJS]%c "+t,"color: #fc0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r):"succ"===e?console.log("%c[EssenceJS]%c "+t,"color: #0f0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r):console.log("%c[EssenceJS]%c "+t,"color: #808080; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r):r&&i&&!n?"info"===e?console.info("%c[EssenceJS]%c "+t,"color: #00f; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i):"erro"===e?console.error("%c[EssenceJS]%c "+t,"color: #f00; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i):"warn"===e?console.warn("%c[EssenceJS]%c "+t,"color: #fc0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i):"succ"===e?console.log("%c[EssenceJS]%c "+t,"color: #0f0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i):console.log("%c[EssenceJS]%c "+t,"color: #808080; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i):r&&i&&n&&!o?"info"===e?console.info("%c[EssenceJS]%c "+t,"color: #00f; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n):"erro"===e?console.error("%c[EssenceJS]%c "+t,"color: #f00; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n):"warn"===e?console.warn("%c[EssenceJS]%c "+t,"color: #fc0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n):"succ"===e?console.log("%c[EssenceJS]%c "+t,"color: #0f0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n):console.log("%c[EssenceJS]%c "+t,"color: #808080; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n):r&&i&&n&&o?"info"===e?console.info("%c[EssenceJS]%c "+t,"color: #00f; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n,o):"erro"===e?console.error("%c[EssenceJS]%c "+t,"color: #f00; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n,o):"warn"===e?console.warn("%c[EssenceJS]%c "+t,"color: #fc0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n,o):"succ"===e?console.log("%c[EssenceJS]%c "+t,"color: #0f0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n,o):console.log("%c[EssenceJS]%c "+t,"color: #808080; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000",r,i,n,o):"info"===e?console.info("%c[EssenceJS]%c "+t,"color: #00f; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000"):"erro"===e?console.error("%c[EssenceJS]%c "+t,"color: #f00; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000"):"warn"===e?console.warn("%c[EssenceJS]%c "+t,"color: #fc0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000"):"succ"===e?console.log("%c[EssenceJS]%c "+t,"color: #0f0; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000"):console.log("%c[EssenceJS]%c "+t,"color: #808080; text-decoration: bold;-webkit-text-decoration: bold;-moz-text-decoration: bold;","color: #000")},applyCSS:function(t){include_once(getExtPath(getDirectoryPath(gatherScripts()[gatherScripts()["essence.min.js"]?"essence.min.js":"essence.js"]))+(t?"essence.css":"essence.min.css"),"link",getDirectoryPath())},addCSS:function(t){if(null===$n("style",!0)){var e=document.createElement("style")
e.innerText=t,e.type="text/css",e.id="EssenceCSS",$n("head").appendChild(e)}else $e("style[type='text/css']").after(t)},addJS:function(t){if(null===$n("script",!0)){var e=document.createElement("script")
e.innerText=t,e.type="text/javascript",$n("head").appendChild(e)}else $e("script[type='text/javascript']").after(t)},update:function(){for(var t=$n("*script").toArray(),e=filenameList(t.map(function(t){return t.src})),r=0;r<e.length;r++)"essence.js"!==stripPath(e[r])&&"essence.min.js"!==stripPath(e[r])||(t[r].src=Essence.source)
Essence.say("%cEssence(.min).js%c has been updated","succ","text-decoration: underline","text-decoration: none")},eps:Math.pow(2,-52),emptyDoc:function(t,e){$e("html").write("<head><title>"+(t||document.title)+"</title><meta charset='UTF-8' /><meta name='author' content="+(e||"unknown")+" /><script type='text/javascript' src="+Essence.source+"></script></head><body></body>",!0)},editor:function(t){location.href="data:text/html, <html contenteditable>"+(t?t+"</html>":"</html>")},processList:[["Name (signature)","Author","Size"]],global:null,addProcess:function(t){t.update(),Essence.processList.push([t.name+" ("+t.sig+")",t.author,t.bitsize]),t.id=Essence.processList.length-1,Essence.processSize+=t.bitsize},processSize:0,serverList:[["Name","Author","Maximum size"]],addServer:function(t){t.update(),Essence.serverList.push([t.name,t.author,t.maxsize]),Essence.serverSize+=t.maxsize},serverSize:0,toString:function(){return"[object Essence]"},txt2print:"",addToPrinter:function(t,e){t.has("\n\r")?this.print(t,e):this.txt2print+=t},print:function(t,e){t&&(this.txt2print+=t),this.txt2print=this.txt2print.split("\b")
for(var r=0;r<this.txt2print.length;r++)this.say(this.txt2print[r],e)
this.txt2print=""},preInit:function(){$G.t1=1e3*$G.t1.getSeconds()+$G.t1.getMilliseconds()},init:function(){$G.t2=new Date,$G.t2=1e3*$G.t2.getSeconds()+$G.t2.getMilliseconds(),$G.t=$G.t2-$G.t1>1e3?($G.t2-$G.t1)/1e3+"s":$G.t2-$G.t1+"ms",Essence.say("Page loaded in %c"+$G.t+"%c","succ","font-style: italic","font-style: none")},time:function(t,e,r){console.log("[%c"+getTimestamp(!0)+"%c] "+t,"color: #00f;","color: #000;",e||"",r||"")},sayClr:function(t){4===t.length?console.log("%cr%cg%cb%ca(%c"+t.join(", %c")+"%c)","color: #f00","color: #0f0","color: #00f","color: #00f","color: #000","color: #f00","color: #0f0","color: #00f","color: #00f","color: #000"):console.log("%cr%cg%cb%c(%c"+t.join(", %c")+"%c)","color: #f00","color: #0f0","color: #00f","color: #00f","color: #000","color: #f00","color: #0f0","color: #00f","color: #00f","color: #000")},ask:function(t,e){for(Sys["in"].recording=!0,Essence.say((t||"Is there a problem")+" ? (please type in the window and not the console)","quest");96!=$G.lastKeyPair[1]&&10!=$G.lastKeyPair[1];);return alert("OUT !!"),Sys["in"].recording=!1,e&&e(Sys["in"].data.join("")),Sys["in"].data.join("")},isComplete:function(){var complete=!0
this.loadedModules=[]
for(var i=0;i<modules.length;i++){try{eval(window[modules[i]].loaded)}catch(e){Essence.say("The module "+modules[i]+" is not right !","warn"),init(modules[i])}finally{complete&=window[modules[i]].loaded}window[modules[i]].loaded&&this.loadedModules.push(window[modules[i]])}return!!complete},loadedModules:[],updateAll:function(){this.update(),this.isComplete(),this.loadedModules.map(function(t){t.update()})}},modules=[],debugging=!1,$f=function(){},testMode=!1,getDirectoryPath=function(t){return t||(t=location.href),t.substring(0,t.indexOf(t.split("/")[t.split("/").length-1]))},gatherScripts=function(t){for(var e=$n("*script"),r=t?[]:{},i=0;i<e.length;i++)t?r.push(e[i].src):r[e[i].src.split("/")[e[i].src.split("/").length-1]]=e[i].src
return r},gatherStylesheets=function(t){for(var e=$n("*link"),r=t?[]:{},i=0;i<e.length;i++)t?r.push(e[i].href):r[e[i].href.split("/")[e[i].href.split("/").length-1]]=e[i].href
return r},getCurrentPath=function(t,e){e||(e="file:///")
for(var r,i=t.split("/"),n=e.split("/"),o=0,s=0,a=function(t,e,r){var i=[]
0>e&&!r&&(r=e,e=0),0>r&&(r=t.length+r-1)
for(var n=e||0;n<=(r||t.length-1);n++)i.push(t[n])
return i.filter(function(t){return void 0!=t})};e.indexOf(i[o])>-1;)o++
for(r=a(i,o).join("/");r.indexOf(n[s])>-1;)console.log("Gone through "+n[s]),s++
if(s>0)for(o=0;s>o;o++)r="../"+r
return r},getExtPath=function(t){var e=location.href,r=function(t,e){for(var r="",i=-1;i<=Math.min(t.length,e.length)&&(i++,t[i]===e[i]);)r+=t[i]
return r},i=function(t,e){for(var r=0,i=0;i<t.length;i++)t[i]===e&&r++
return r},n=r(e,t)
return"../".repeat(i(getCurrentPath(e,n),"/"))+getCurrentPath(t,n)},filenameList=function(t){for(var e=[],r=0;r<t.length;r++)e.push(stripPath(t[r]))
return e.remove("")}
!function(){debugging&&Essence.say("Initiating the Module Loader"),$require(["Files","DOM","UI","Web","Maths","Ajax","DataStruct","Security","Misc","QTest"]),setTimeout(function(){run(modules,Essence.version.substr(0,3))},690),setTimeout(function(){if(debugging&&(Essence.isComplete()?Essence.say("Essence is complete !","succ"):Essence.time("List of loaded modules: "+Essence.loadedModules.map(function(t){return t.name}).toStr(!0))),filenameList(gatherExternalScripts(!0)).has("essence.js")||(Essence.source=Essence.source.replace(".js",".min.js")),testMode&&UnitTest.multiTest(UnitTest.libTests),UnitTest.libTests=[[binarySearch(["hi"," ","dude"]," ","BinarySearch"),!0],[Perm("abc"),["abc","acb","cab","cba","bac","bca"],"Perm"],[unescapeHTML(escapeHTML("<p>Hi</p>")),"<p>Hi</p>","Un(escape)"],[escapeHTML(unescapeHTML("&lt;p&gt;Hi&lt;/p&gt;")),"&lt;p&gt;Hi&lt;/p&gt;","Es(unescape)"],[getDirectoryPath()+stripPath(location.href),location.href,"Path"],[min2dec(dec2min(.56)),.56,"min<->dec"],[toS(s2t(75.23)),75.23,"s<->time"],[isPrime(23),!0,"Prime"],[isPrime(25),!1,"!Prime"],[rmDuplicates("hello world !"),"helo wrd!","NoDuplic"],[unRegExpify(RegExpify("Hi ${name}")),"Hi ${name}","RE<->"],[decrypt(encrypt("Hello",5),-5),"Hello"," de(encrypt)"],[encrypt(decrypt("Hello",-5),5),"Hello","en(decrypt)"],[abcDecode(abcEncode("Lorem")),"Lorem","de(encode)"],[abcEncode(abcDecode("Lorem")),"Lorem","en(decode)"],[ilDecrypt(ilEncrypt("Hello")),"Hello","il-De(En)"],[ilEncrypt(ilDecrypt("Hello")),"Hello","il-En(De)"],[fromFSHA(toFSHA("password")),"password","fromFSHA(to)"],[toFSHA(fromFSHA("password")),"password","toFSHA(from)"]],debugging&&!Essence.loadedModules.map(function(t){return t.name}).equals(modules)&&Essence.say("The following modules weren't loaded: "+complement(modules,Essence.loadedModules.map(function(t){return t.name}))),Essence.source.has("essence.min"))for(var t=$n("*script").toArray(),e=0;e<t.length;e++)t[e].src.has(".min.js")||t[e].src.replace(".js",".min.js")},1e3)}()
var $G={t1:new Date,t2:0,t:null,lastKeyPair:[],lorem:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus. Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies nisi. Nam eget dui. Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum. Nam quam nunc, blandit vel, luctus pulvinar, hendrerit id, lorem. Maecenas nec odio et ante tincidunt tempus. Donec vitae sapien ut libero venenatis faucibus. Nullam quis ante. Etiam sit amet orci eget eros faucibus tincidunt. Duis leo. Sed fringilla mauris sit amet nibh. Donec sodales sagittis magna. Sed consequat, leo eget bibendum sodales, augue velit cursus nunc,"}
Essence.global=$G,Object.prototype.count=function(t){for(var e=0,r=0;r<this.length;r++)this[r]===t&&e++
return e},Object.prototype.positions=function(t){for(var e=[],r=0;r<this.length;r++)this[r]===t&&e.push(r)
return e},Object.prototype.isIterable=function(){return isType(this,"String")||isType(this,"Array")||isType(this,"Object")},Object.prototype["delete"]=function(){this.property=null,delete this},Object.prototype.equals=function(t){return this.toString()===t.toString()||this.toLocaleString()===t.toLocaleString()},Object.prototype.multiReplace=function(t){for(var e=this.replace(t[0][0],t[0][1]),r=1;r<t.length;r++)e=e.replace(t[r][0],t[r][1])
return e},Object.prototype.toArray=function(){var t=[]
for(var e in this)this.hasOwnProperty(e)&&t.push(this[e])
return t},Object.prototype.compareTo=function(t){if(getType(this)!=getType(t))throw new TypeError(this+" and "+t+"aren't of the same type, so can't be compared.")
return"Object"===getType(this)&&getCustomType(this)===getCustomType(t)||getType(this)===getType(t)?this.equals(t)?0:this.toString()<t.toString()||this.toLocaleString()<t.toLocaleString()?-1:1:void 0},Object.prototype.has=function(t){return void 0!=this[t]},Object.prototype.isEmpty=function(){for(var t in this)if(this.hasOwnProperty(t))return!1
return!0},Array.prototype.has=function(t){return this.indexOf(t)>-1},Array.prototype.first=function(t){return isNon(t)?this[0]:this[0]=t},Array.prototype.last=function(t){return isNon(t)?this[this.length-1]:this[this.length-1]=t},Array.prototype.line=function(t){return this.map(function(e){return 0>t&&(t=this[e].length-t),e[t||0]})},Array.prototype.block=function(t,e){return this.map(function(r){return r.get(t,e)})},Array.prototype.lastIndex=function(){return this.length-1},Array.prototype.midIndex=function(t){return t?Math.floor(this.length/2)-1:Math.floor(this.length/2)},Array.prototype.even=function(){for(var t=[],e=0;e<this.length;e+=2)t.push(this[e])
return t},Array.prototype.odd=function(){for(var t=[],e=1;e<this.length;e+=2)t.push(this[e])
return t},Array.prototype.max=function(t,e){var r=this[t||0]
if(!t&&!e||0===t&&e>=this.length-1)for(var i=1;i<this.length;i++)r=Math.max(r,this[i])
else if(t&&!e)for(i=t+1;i<this.length;i++)r=Math.max(r,this[i])
else for(i=t+1;e>=i;i++)r=Math.max(r,this[i])
return r},Array.prototype.maxOf=function(t,e){for(var r=this[t||0],i=t+1;i<=(e||this.length-1);i++)r=Math.max(r,this[i])
return r},Array.prototype.median=function(t){var e=this.sort(function(t,e){return t-e}),r=Math.floor(e.length/2)
return e.length%2?t?e[r]=t:e[r]:(e[r-1]+e[r])/2},Array.prototype.min=function(t,e){var r=this[t||0]
if(!t&&!e||0===t&&e>=this.length-1)for(var i=1;i<this.length;i++)r=Math.min(r,this[i])
else if(t&&!e)for(i=t+1;i<this.length;i++)r=Math.min(r,this[i])
else for(i=t+1;e>=i;i++)r=Math.min(r,this[i])
return r},Array.prototype.minOf=function(t,e){for(var r=this[t||0],i=t+1;i<=(e||this.length-1);i++)r=Math.min(r,this[i])
return r},Array.prototype.shuffle=function(t){for(var e=0;e<(t||this.length);e++)swap(this,randTo(this.length-1),randTo(this.length-1))
return this},Array.prototype.maxLength=function(){for(var t=0,e=0;e<this.length;e++)t=Math.max(t,this[e].length)
return t},Array.prototype.minLength=function(){for(var t=this[0].length,e=0;e<this.length;e++)t=Math.min(t,this[e].length)
return t},Array.prototype.Fill2D=function(t){return this.fill(new Array(this.length).fill(t))},Array.prototype.remove=function(t,e){var r=this
if(e){if(isType(t,"Array")){for(var i=0;i<t.length;i++)r=r.remove(t[i])
return r}for(i=0;i<this.length;i++)r[i]===t&&(r=r.slice(0,i).concat(r.slice(i+1,r.length)))
if(r=r.map(function(e){return e===t?void 0:e}),r.has(void 0)&&r.length>0){var n=[]
for(i=0;i<r.length;i++)void 0!==r[i]&&n.push(isType(r[i],"Number")?parseFloat(r[i]):r[i])
r=n}return r}var o=Copy(this.positions(t))
for(i=0;i<o.length;i++)this.splice(o[i],1)
return this},Array.prototype.debug=function(){Essence.say("%cDebugging the following array:%c "+this,"text-decoration: bold","text-decoration: none")
for(var t=0;t<this.length;t++)Essence.say(t+": "+this[t])},Array.prototype.getOccurrences=function(t){for(var e=rmDuplicates(this),r=[],i=0;i<e.length;i++)r.push(e[i]+":"+this.count(e[i])+"{"+this.positions(e[i]).toStr(!0)+"}")
if(t)for(i=0;i<r.length;i++)r[i]=parseInt(r[i].replace(/(?:.*?):(\d+)\{(.*?)}/g,"$1"))
return r},Array.prototype.replace=function(t,e,r){for(var i=0;i<this.length;i++)(this[i]===t||isType(t,"RegExp")&&t.test(this[i]))&&(this[i]=e)
return r?this.toString():this},Array.prototype.sum=function(t,e){var r=0
if(!t&&!e||0===t&&e>=this.length-1)for(var i=0;i<this.length;i++)r+=this[i]
else if(t&&!e)for(i=t;i<this.length;i++)r+=this[i]
else for(i=t;e>=i;i++)r+=this[i]
return r},Array.prototype.prod=function(t,e){var r=0
if(!t&&!e||0===t&&e>=this.length-1)for(var i=0;i<this.length;i++)r*=this[i]
else if(t&&!e)for(i=t;i<this.length;i++)r*=this[i]
else for(i=t;e>=i;i++)r*=this[i]
return r},Array.prototype.sum2d=function(t,e){var r=0
if(!t&&!e||t.equals([0,0])&&e>=this.length-1)for(var i=0;i<this.length;i++)for(var n=0;n<this[i].length;n++)r+=this[i][n]
else if(t&&!e)for(i=t[0];i<this.length;i++)for(n=t[1];n<this[i].length;n++)r+=this[i][n]
else for(i=t[0];i<e[0];i++)for(n=t[1];n<e[1];n++)r+=this[i][n]
return r},Array.prototype.mean=function(t,e,r){e||(e=0),r||(r=this.lastIndex())
var i=this.sum(e,r)
return(i/this.get(e,r).length).toNDec(t)},Array.prototype.meanOf=function(t,e,r){e||(e=0),r||(r=this.length-e-1)
for(var i=0,n=0;r>n;n++)i+=this[e+n]
return(i/r).toNDec(t)},Array.prototype.minMean=function(t,e){if(t||(t=this.length-1),this.length-(t-1)<0)throw new Error("You're expecting a minimum mean with more values than the are.")
for(var r=[],i=0;t>i;i++)r.push(this.mean(e,i,i+t-1))
return r.min()},Array.prototype.maxMean=function(t,e){if(t||(t=this.length-1),this.length-(t-1)<0)throw new Error("You're expecting a maximum mean with more values than the are.")
for(var r=[],i=0;t>i;i++)r.push(this.mean(e,i,t+i-1))
return r.max()},Array.prototype.avg=function(t,e,r){e||(e=0),r||(r=this.lastIndex())
var i=this.sum(e,r)-this.max(e,r)-this.min(e,r)
return(i/(this.get(e,r).length-2)).toNDec(t)},Array.prototype.avgOf=function(t,e,r){e||(e=0),r||(r=this.length-e-1)
for(var i=0,n=0;r>n;n++)this[e+n]==this.maxOf(e,r)&&this[e+n]==this.minOf(e,r+1)||(i+=this[e+n])
return(i/(r-2)).toNDec(t)},Array.prototype.minAvg=function(t,e){if(t||(t=this.length-1),this.length-(t-1)<0)throw new Error("You're expecting a minimum average with more values than the are.")
for(var r=[],i=0;t>i;i++)r.push(this.avg(e,i,i+t-1))
return r.min()},Array.prototype.maxAvg=function(t,e){if(t||(t=this.length-1),this.length-(t-1)<0)throw new Error("You're expecting a maximum average with more values than the are.")
for(var r=[],i=0;t>i;i++)r.push(this.avg(e,i,t+i-1))
return r.max()},Array.prototype.variance=function(t){return(sumPow2(this,t)/this.length-Math.pow(this.mean(t),2)).toNDec(t)},Array.prototype.stddev=function(t){var e=Math.sqrt(this.variance(t))
return e.toNDec(t)},Array.prototype.rand=function(t){if(t&&t>0){for(var e=[],r=0;t>r;r++)e.push(this.rand())
return e}return this[lenRand(this.length)]},Array.prototype.quartile=function(t,e){return this.length%2===0?((this[Math.floor(t*this.length/4)-1]+this[Math.floor(t*this.length/4)])/2).toNDec(e):this[Math.floor(t*this.length/4)].toNDec(e)},Array.prototype.quintile=function(t,e){return this.length%2===0?((this[Math.floor(t*this.length/5)-1]+this[Math.floor(t*this.length/5)])/2).toNDec(e):this[Math.floor(t*this.length/5)].toNDec(e)},Array.prototype.decile=function(t,e){return this.length%2===0?((this[Math.floor(t*this.length/10)-1]+this[Math.floor(t*this.length/10)])/2).toNDec(e):this[Math.floor(t*this.length/10)].toNDec(e)},Array.prototype.percentile=function(t,e){return this.length%2===0?((this[Math.floor(t*this.length/100)-1]+this[Math.floor(t*this.length/100)])/2).toNDec(e):this[Math.floor(t*this.length/100)].toNDec(e)},Array.prototype.getIncrement=function(t){return 0==t?parseInt((this.max()-this.min())/(this.length-1)):((this.max()-this.min())/(this.length-1)).toNDec(t)},Array.prototype.increment=function(t){for(var e=0;e<this.length;e++)this[e]+=t||1},Array.prototype.iqr=function(t){return this.quartile(3,t)-this.quartile(1,t).toNDec(t)},Array.prototype.get=function(t,e){var r=[]
0>t&&!e&&(e=t,t=0),0>e&&(e=this.length+e-1)
for(var i=t||0;i<=(e||this.length-1);i++)r.push(this[i])
return r.remove()},Array.prototype.quickSort=function(t,e){t||e||(t=0,e=this.lastIndex())
var r
if(this.length>1){var i=this[Math.floor((e+t)/2)],n=e
for(r=t;n>=r;){for(;this[r]<i;)r++
for(;this[n]>i;)n--
n>=r&&(swap(this,r,n),r++,n--)}r-1>t&&this.quickSort(t,r-1),e>r&&this.quickSort(r,e)}return this},Array.prototype.revSort=function(t,e){t||e||(t=0,e=this.lastIndex())
var r
if(this.length>1){var i=this[Math.floor((e+t)/2)],n=e
for(r=t;n>=r;){for(;this[r]>i;)r++
for(;this[n]<i;)n--
n>=r&&(swap(this,r,n),r++,n--)}t>r-1&&this.revSort(t,r-1),r>e&&this.revSort(r,e)}return this},Array.prototype.bubbleSort=function(t){var e=this,r=1,i=!0
if(isNon(t)||isType(t,"string")&&"a"===t[0].toLowerCase())for(;i;){i=!1
for(var n=0;n<=e.length-r;n++)e[n]>e[n+1]&&(e=swap(e,n,n+1),i=!0),n<e.length-(r+1)&&(e[n]>e[n+2]&&(e=swap(e,n,n+2)),e[n+1]>e[n+2]&&(e=swap(e,n+1,n+2),i=!0)),n<e.length-(r+2)&&(e[n]>e[n+3]&&(e=swap(e,n,n+3)),e[n+1]>e[n+3]&&(e=swap(e,n+1,n+3)))
r++}else if(1===t||"d"===t[0].toLowerCase())for(;i;){for(i=!1,n=0;n<=e.length-r;n++)e[n]<e[n+1]&&(e=swap(e,n,n+1),i=!0),n<e.length-(r+1)&&(e[n]<e[n+2]&&(e=swap(e,n,n+2)),e[n+1]<e[n+2]&&(e=swap(e,n+1,n+2),i=!0)),n<e.length-(r+2)&&(e[n]<e[n+3]&&(e=swap(e,n,n+3)),e[n+1]<e[n+3]&&(e=swap(e,n+1,n+3)))
r++}return e},Array.prototype.bruteForceSort=function(){for(var t=0;t<this.length;t++){for(var e=this[t],r=t,i=t+1;i<=this.length;i++)e>this[i]&&(e=this[i],r=i)
var n=this[t]
this[t]=e,this[r]=n}return this},Array.prototype.maxSort=function(){var t=this.median(),e=new Array(this.length),r=this.getIncrement(3),i=this.quartile(1),n=this.quartile(3)
e[0]=this.min(),e.last(this.max()),parseInt(e.length/2)===e.length/2&&(e[e.length/2]=t),parseInt(e.length/4)===e.length/4&&(e[e.length/4]=i),parseInt(3*e.length/4)===3*e.length/4&&(e[3*e.length/4]=n)
for(var o=1;o<this.length-1;o++)this[o]===Math.floor(e[0]+o*r)?e[o]=this[o]:this[o]===Math.round(e[0]+o*r)?e[o]=this[o]:this[o]==Math.ceil(e[0]+o*r)?e[o]=this[o]:this[o]>=Math.floor(e[0]+o*r)&&this[o]<=Math.ceil(e[0]+o*r)&&(e[o]=this[o])
for(console.log("current result: "+e.toStr(!0)),o=this.length-1;o>1;o--)this[o]===Math.floor(e[e.length-1]-o*r)&&isNon(e[o])?e[o]=this[o]:this[o]===Math.round(e[e.length-1]-o*r)&&isNon(e[o])?e[o]=this[o]:this[o]===Math.ceil(e[e.length-1]+o*r)&&isNon(e[o])?e[o]=this[o]:this[o]>=Math.floor(e[e.length-1]+o*r)&&this[o]<=Math.ceil(e[0]+o*r)&&isNon(e[o])&&(e[o]=this[o])
for(console.log("current result: "+e.toStr(!0)),o=1;o<this.length-1;o++)for(var s=0;s<this.length;s++)this[s]===Math.floor(e[0]+o*r)?e[o]=this[s]:this[s]===Math.round(e[0]+o*r)?e[o]=this[s]:this[s]===Math.ceil(e[0]+o*r)?e[o]=this[s]:this[s]>=Math.floor(e[0]+o*r)&&this[s]<=Math.ceil(e[0]+o*r)&&(e[o]=this[s])
return e},Array.prototype.cenSort=function(t,e){var r=new Array(this.length)
if(t||e||(t=Math.floor(this.length/2),e=Math.ceil(this.length/2)),this.length<=1)return this
for(var i=this[Math.floor((e+t)/2)],n=e,o=t;n>=o;){for(;this[o]<i;)o--
for(;this[n]>i;)n++
o>=n&&(swap(this,o,n),o--,n++)}return t>o-1&&this.cenSort(t,o-1),o>e&&this.cenSort(o,e),r},Array.prototype.setSort=function(){for(var t=[],e=this.length,r=[],i=0;1e3>i;i++)t[i]=0
for(i=0;e>i;i++)t[this[i]]=1
for(i=0;1e3>i;i++)1===t[i]&&r.push(i)
return r},Array.prototype.clean=function(t){for(var e=[],r=0,i=0;i<this.length;i++)isNon(this[i])||(e[r++]=this[i])
return t?rmDuplicates(e).remove():e},Array.prototype.xclean=function(){return this.clean(!0).remove([void 0,"undefined",null,"null"])},Array.prototype.chg=function(t,e,r){e=e||0,r=r||this.length-1
for(var i=this.get(e,r),n=t.get(e,r),o=0;o<i.length;o++)i[o]=n[o]
return i},Array.prototype.exchange=function(t,e,r){e=e||0,r=r||this.length-1
for(var i=this.get(e,r),n=t.get(e,r),o=0;o<i.length;o++){var s=i[o]
i[o]=n[o],n[o]=s}return i},Array.prototype.rot=function(t){var e
if(t%90!=0)throw new Error("The absolute degree of rotation must be either 90° or 180°")
if(4===this.numElm()&&2===this.length)90===t?(e=this[0][0],this[0][0]=this[1][0],this[1][0]=this[1][1],this[1][1]=this[0][1],this[0][1]=e):-90===t?(e=this[0][0],this[0][0]=this[0][1],this[0][1]=this[1][1],this[1][1]=this[1][0],this[1][0]=e):180===Math.abs(t)&&(e=[this[0][0],this[0][1]],this[0][0]=this[1][1],this[1][1]=e[0],this[0][1]=this[1][0],this[1][0]=e[1])
else if(9===this.numElm()&&3===this.length)90===t?(e=[this[0][0],this[0][1]],this[0][0]=this[2][0],this[2][0]=this[2][2],this[2][2]=this[0][2],this[0][2]=e[0],this[0][1]=this[1][0],this[1][0]=this[2][1],this[2][1]=this[1][2],this[1][2]=e[1]):-90==t?(e=[this[0][0],this[0][1]],this[0][0]=this[0][2],this[0][2]=this[2][2],this[2][2]=this[2][0],this[2][0]=e[0],this[0][1]=this[1][2],this[1][2]=this[2][1],this[2][1]=this[1][0],this[1][0]=e[1]):180===Math.abs(t)&&(e=[this[0][0],this[0][1],this[0][2],this[1][0]],this[0][0]=this[2][2],this[2][2]=e[0],this[0][2]=this[2][0],this[2][0]=e[2],this[0][1]=this[2][1],this[2][1]=e[1],this[1][0]=this[1][2],this[1][2]=e[3])
else{if(16!==this.numElm()||4!==this.length)throw"Unsupported matrix. Please wait or contact the developer to add this matrix' support."
if(90===t){e=this[0].get(-1)
for(var r=0;1>r;r++){e=this[r].get(-1)
for(var i=0;i<this.maxLength()-1;i++)r>0&&Essence.say("#"+i),r>0&&Essence.say(this[r][i]+"<-"+this[this.length-1-i][r]),this[r][i]=this[this.length-1-i][r],r>0&&Essence.say(this[this.length-1-i][r]+"<-"+this[this.length-1-r][this.length-1-i]),this[this.length-1-i][r]=this[this.length-1-r][this.length-1-i],r>0&&Essence.say(this[this.length-1-r][this.length-1-i]+"<-"+this[i][this.length-1-r]),this[this.length-1-r][this.length-1-i]=this[i][this.length-1-r],r>0&&Essence.say(this[i][this.length-1-r]+"<-"+e[i]),this[i][this.length-1-r]=e[i]}}else-90===t?(e=[this[0][0],this[0][1]],this[0][0]=this[0].last(),this[0].last(this.last().last()),this.last().last(this.last()[0]),this.last()[0]=e[0],this[0][1]=this[1].last(),this[1].last(this.last()[1]),this.last()[1]=this[1][0],this[1][0]=e[1]):180===Math.abs(t)&&(e=[this[0][0],this[0][1],this[0].last(),this[1][0]],this[0][0]=this.last().last(),this.last().last(e[0]),this[0].last(this.last()[0]),this.last()[0]=e.last(),this[0][1]=this.last()[1],this.last()[1]=e[1],this[1][0]=this[1].last(),this[1].last(e[3]))}return this},Array.prototype.numElm=function(){return this.linearise().length},Array.prototype.size=function(t){return t?this.length+"x"+this.maxLength():[this.length,this.maxLength()]},Array.prototype.det=function(){var t=0
return 4===this.numElm()&&2===this.length?t=this[0][0]*this[1][1]-this[0][1]*this[1][0]:9===this.numElm()&&3===this.length?t=this[0][0]*(this[1][1]*this.last().last()-this[1].last()*this.last()[1])-this[0][1]*(this[1][0]*this.last().last()-this[1].last()*this.last()[0])+this[0].last()*(this[1][0]*this.last()[1]-this[1][1]*this.last()[0]):Essence.say("Unsupported matrix format","error"),t},Array.prototype.translate=function(){if(this.size()[0]!==this.size()[1]){var t=new Array(this.maxLength()).fill([])
for(e=0;e<this.maxLength();e++)t[e]=this.line(e)
return t}for(var e=0;e<Math.round(this.length/2);e++)for(var r=0;r<this[0].length;r++)if(!(1===e&&0===r&&this[0].length>2)){var i=this[e][r]
this[e][r]=this[r][e]||"",this[r][e]=i}if("4x4"===this.size(!0)){var n=this[2].last()
this[2].last(this.last()[2]),this.last()[2]=n}return this},Array.prototype.lookFor=function(t){for(var e=0;e<this.length;e++)if(this[e]===t||this[e].equals(t))return e
return-1},Array.prototype.divide=function(t){for(var e=new Array(Math.round(this.length/t)).fill(""),r=0,i=0;i<e.length;i++)for(var n=0;t>n;n++)e[i]+=this[r++]
return e},Array.prototype.getAdjoint=function(){var t=this.translate(),e=mkArray(this.length,2,Essence.eps)
return 4===t.numElm()&&2===t.length?(e[0]=[t[1][1],-t[1][0]],e[1]=[-t[0][1],t[0][1]]):9===t.numElm()&&3===t.length?(e[0]=[t[1][1]*t.last().last()-t[1].last()*t.last()[1],-(t[1][0]*t.last().last()-t[1].last()*t.last()[0]),t[1][0]*t.last()[1]-t[1][1]*t.last()[0]],e[1]=[-(t[0][1]*t[1].last()-t[0].last()*t[1][1]),t[0][0]*t.last().last()-t[0].last()*t.last()[0],-(t[0][0]*t.last()[1]-t[0][1]*t.last()[0])],e.last([t[0][1]*t[1].last()-t[0].last()*t[1][1],-(t[0][0]*t[1].last()-t[0].last()*t[1][0]),t[0][0]*t[1][1]-t[0][1]*t[1][0]])):Essence.say("Unsupported matrix format","error"),e},Array.prototype.isInvertible=function(){return 0!=this.det()},Array.prototype.dotProd=function(t){for(var e=[],r=0;r<this.length;r++){e[r]=[]
for(var i=0;i<this[r].length;i++)e[r][i]=t*this[r][i]}return e},Array.prototype.dotAdd=function(t){for(var e=[],r=0;r<this.length;r++){e[r]=[]
for(var i=0;i<this[r].length;i++)e[r][i]=t+this[r][i]}return e},Array.prototype.dotSub=function(t,e){var r=[]
e=e.toLowerCase().remove(" ")
for(var i=0;i<this.length;i++){r[i]=[]
for(var n=0;n<this[i].length;n++)r[i][n]="a-b"===e?t-this[i][n]:this[i][n]-t}return r},Array.prototype.dotFrac=function(t,e){var r=[]
e=e.toLowerCase().remove(" ")
for(var i=0;i<this.length;i++){r[i]=[]
for(var n=0;n<this[i].length;n++)r[i][n]="a/b"===e?t/this[i][n]:this[i][n]/t}return r},Array.prototype.toStr=function(t){var e=""
if(is2dArray(this)){for(var r in this)this.hasOwnProperty(r)&&(e+=t?this[r].join(", "):this[r].join(""))
return t?this.toStr().split("").join(", "):e}return this.join(t?", ":"")},Array.prototype.toInt=function(){var t=0
for(var e in this)this.hasOwnProperty(e)&&(t+=this[e]*Math.pow(10,this.length-e-1))
return t},Array.prototype.inv=function(){return this.isInvertible()?this.dotProd(1/this.det()*this.getAdjoint()):null},Array.prototype.mix=function(){for(var t=mixedRange(0,1,this.length-1,!0),e=[],r=0;r<this.length;r++)e[r]=this[t[r]]
return e},Array.prototype.littleMix=function(){var t,e=[]
if(is2dArray(this))e=Copy(this).linearise(),e=e.littleMix().toNcol(this.size()[1]).sanitise(getType(this[0][0]))
else{t=this.getIncrement(0)
for(var r=0;r<this.length;r++){var i=randTo(t)
e.push(this[r]),r>0&&0===i?swap(e,r,r-1):r>1&&i===t&&swap(e,r,r-2)}}return e},Array.prototype.append=function(t){for(var e=0;e<t.length;e++)this.push(t[e])
return this},Array.prototype.prepend=function(t){for(var e=0;e<t.length;e++)this.unshift(t[e])
return this},Array.prototype.unique=function(){for(var t=[],e=0;e<this.length;e++)1===this.count(this[e])&&t.push(this[e])
return t},Array.prototype.to1d=function(t){for(var e=Copy(this),r=0;r<e.length;r++)e[r]=e[r].join(t||"")
return e},Array.prototype.toNd=function(t){t||(t=2)
for(var e=nthroot(this.length,t,0),r=[],i=0,n=0;e>n;n++){r[n]=[]
for(var o=0;e>o;o++)r[n][o]=this[i++]}return r},Array.prototype.toNcol=function(t){for(var e=[],r=0,i=0;i<this.length/t;i++){e[i]=[]
for(var n=0;t>n;n++)e[i][n]=this[r++]}return e},Array.prototype.toNrow=function(t){for(var e=[],r=0,i=0;t>i;i++){e[i]=[]
for(var n=0;n<this.length/t;n++)e[i][n]=this[r++]}return e},Array.prototype.linearise=function(){return this.toString().split(",")},Array.prototype.uniform=function(t){for(var e=this,r=e.maxLength(),i=0;i<e.length;i++)for(;e[i].length<r;)isType(e[i],"Array")?e[i].push(t||" "):e[i]+=t||" "
return e},Array.prototype.zip=function(){for(var t,e=[],r=0;r<this.length;r++)if(this[r]===this[r+1]){for(t=1;this[r]===this[r+t];)t++
e.push(this[r]+"@"+t),r+=t-1}else e.push(this[r])
return e.length<this.length?e:this},Array.prototype.unzip=function(t){for(var e=[],r=0;r<this.length;r++)/[\S\s](@)(\d+)/g.test(this[r])?e.push(this[r][0].repeat(this[r][this[r].indexOf("@")+1])):e.push(this[r])
return t?e.join("").split(""):e},Array.prototype.trimAll=function(t){var e=[]
t=t?t[0].toLowerCase():""
for(var r=0;r<this.length;r++)e[r]="l"===t?this[r].trimLeft():"r"===t?this[r].trimRight():this[r].trim()
return e},Array.prototype.isSorted=function(){if(this[0]>this[1])return!1
for(var t=1;t<this.length;t++)if(this[t]>this[t+1])return!1
return!0},Array.prototype.uniquePush=function(t){if(isType(t,"Array"))for(var e=0;e<t.length;e++)-1===this.indexOf(t[e])&&this.push(t[e])
else{if(this.has(t))throw"the object "+t.toString()+"is already present in "+this.toString()
this.push(t)}},Array.prototype.replaceAll=function(t,e){for(var r=this.replace(t,e),i=0;r.has(t)||i===this.length;)r=this.replace(t,e),i++
return r},Array.prototype.neighbour=function(t,e){var r,i=[]
if(isType(t,"Array")?(e=parseInt(t[1]),t=parseInt(t[0])):(t=parseInt(t),e=parseInt(e)),t>=this.length)throw new RangeError("The y-coord is out of bounds")
if(e>=this.maxLength())throw new RangeError("The x-coord is out of bounds")
if(is2dArray(this)){r=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]]
for(var n=0;n<r.length;n++)try{isNon(this[t+r[n][0]][e+r[n][1]])||i.push(this[t+r[n][0]][e+r[n][1]])}catch(o){}}else try{isNon(this[t-1])||i.push(this[t-1]),isNon(this[t+1])||i.push(this[t+1])}catch(o){}return i},Array.prototype.sanitise=function(t){for(var e=0;e<this.length;e++)for(var r=0;r<this[e].length;r++)this[e][r]=name2Type(t,this[e][r])
return this},Array.prototype.portion=function(t,e){return this.get((e||1)*Math.round(this.length)/(t||2))},Array.prototype.removeFirst=function(t,e){var r=this
return e?this.filter(function(e,i){return e!=t||i!=r.indexOf(t)}):this.splice(this.indexOf(t),1)},Array.prototype.removeLast=function(t,e){var r=this
return e?this.filter(function(e,i){return e!=t||i!=r.lastIndexOf(t)}):this.splice(this.lastIndexOf(t),1)},Array.prototype.binaryIndexOf=function(t){for(var e,r,i,n=0,o=this.length-1;o>=n;)if(i=e=n+o>>1,r=this[e],t>r)n=e+1
else{if(!(r>t))return e
o=e-1}return~o},Array.prototype.place=function(t){return this.splice(Math.abs(this.binaryIndexOf(t)),0,t),this},Array.prototype.multiPlace=function(t){for(var e=0;e<t.length;e++)this.place(t[e])
return this},String.prototype.has=Array.prototype.has,String.prototype.last=function(t){return this.split("").last(t)},String.prototype.remove=function(t){var e=this
if(isType(t,"Array")){for(var r in t)t.hasOwnProperty(r)&&(e=e.remove(r))
return e}var i=e.split(t).map(function(e){return e===t?void 0:e}).join("")
return i.has(void 0)?e.remove():i},String.prototype.toNDec=function(t){return Number(this).toFixed(t||2)},String.prototype.toNDigits=function(t){var e=this
if(t=t||2,parseFloat(e)<Math.pow(10,t-1))for(;e.split(".")[0].length<t;)e="0"+e
return e},String.prototype.mix=function(t,e){t=isNon(t)?"":t,e=e?e:t
for(var r=mixedRange(0,1,this.length-1),i=this.split(t),n=[],o=0;o<this.length;o++)n[o]=i[r[o]]
return n.join(e)},String.prototype.divide=function(t){for(var e=new Array(Math.round(this.length/t)).fill(""),r=0,i=0;i<e.length;i++)for(var n=0;t>n;n++)e[i]+=this[r++]
return e},String.prototype.capitalize=function(t){var e=this.toString()
if(t){for(var r=e.split(" "),i=0;i<r.length;i++)r[i]=r[i].capitalize()
return r.join(" ")}return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.sum=function(){for(var t=0,e=0;e<this.length;e++)t+=this.charCodeAt(e)
return t},String.prototype.prod=function(){for(var t=1,e=0;e<this.length;e++)t*=this.charCodeAt(e)
return t},String.prototype.mean=function(){for(var t=[],e=0;e<this.length;e++)t[e]=this.charCodeAt(e)
return t.mean(2)},String.prototype.normal=function(){return this.toLowerCase().remove(" ")},String.prototype.getOccurrences=Array.prototype.getOccurrences,String.prototype.get=function(t,e){var r=""
0>t&&!e&&(e=t,t=0),0>e&&(e=this.length+e-1)
for(var i=t||0;i<=(e||this.length-1);i++)r+=this[i]
return r},String.prototype.zip=function(){for(var t,e="",r=0;r<this.length;r++)if(this[r]===this[r+1]){for(t=1;this[r]===this[r+t];)t++
e+=this[r]+"@"+t,r+=t-1}else e+=this[r]
return e.length<this.length?e:this},String.prototype.unzip=function(t){for(var e="",r=0;r<this.length;r++)e+=/[\S\s](\@)(\d+)/g.test(this[r])?this[r][0].repeat(this[r][this[r].indexOf("@")+1]):this[r]
return t?e.split("").join(""):e},String.prototype.replaceAll=function(t,e,r){var i=r?this.split(r).replace(t,e):this.replace(t,e),n=0
if(""===r)return this.replace(RegExpify(t),e)
for(;i.has(t)||n===this.length;)i=this.replace(t,e),n++
return r?i.join(r):i},String.prototype.chunk=function(t,e){return this.split(" ").get(t,e).join(" ")},String.prototype.sameFirst=function(t){for(var e="",r=-1;r<=Math.min(this.length,t.length)&&(r++,this[r]===t[r]);)e+=this[r]
return e},String.prototype.sameLast=function(t){for(var e="",r=1,i=Math.min(this.length,t.length);i>=r&&this[this.length-r]===t[t.length-r];)e=this[this.length-r]+e,r++
return e},String.prototype.map=function(t,e){return this.split(e||"").map(t).join(e||"")},String.prototype.reverse=function(t){return this.split(t||"").reverse().join(t||"")},String.prototype.minify=function(t,e){var r=e?this.trim().replace(/(\t|\n|\s)/gm,""):this.trim().replace(/(\t|\n|\s{2,})/gm,"")
return t?r.replace(/(<!--(.*?)-->|\/\*+(.*?)\*+\/)/gm,""):r},Number.prototype.length=function(){if(String(this).has("."))return[parseInt(String(this).split(".")[0].length),parseInt(String(this).split(".")[1].length)]
for(var t=0,e=this;0!=Math.floor(e);)e/=10,t++,console.log(e)
return t},Number.prototype.toNDec=function(t){var e=Math.pow(10,t||2)
return Math.round(e*this)/e},Number.prototype.toNDigits=function(t){var e=this+""
if(t=t||2,parseFloat(e)<Math.pow(10,t-1))for(;e.split(".")[0].length<t;)e="0"+e
return e},Number.prototype.sign=function(t){return t?0>this?"-":this>0?" + ":"":0>this?-1:this>0?1:0},Number.prototype.isPrime=function(t){for(var e=2;t>e;e++)if(primeCheck(e,t))return!1
return!0},Number.prototype.clean=function(t){return 0===this?0:this>0&&"+"==this[0]?t?this.slice(1,this.length).toNDec(t):this.slice(1,this.length):"-"==this?this+1:"+"==this?1:t?this.toNDec(t):this},Number.prototype.toArr=function(){for(var t=new Array(this.length()),e=0,r=this;r>0;)t[e]=r%10,e++,r/=10
return t},Function.prototype.inheritsFrom=function(t){return t.constructor===Function?(this.prototype=new t,this.prototype.constructor=this,this.prototype.parent=t.prototype):(this.prototype=t,this.prototype.constructor=this,this.prototype.parent=t),this}
